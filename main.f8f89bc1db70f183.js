"use strict";(self.webpackChunkportafolio=self.webpackChunkportafolio||[]).push([[179],{2011:(wt,Se,F)=>{F.d(Se,{Dh:()=>de,GT:()=>pe,cc:()=>ke,hO:()=>ze,on:()=>z,pX:()=>oe,xv:()=>me});var u=F(4650),$=F(9260),k=F(2122);wt=F.hmd(wt);const re=["ngOnDestroy"],oe=(fe,nt,st,Oe={})=>new Proxy(fe,{get:(Re,De)=>st.runOutsideAngular(()=>{var We;if(fe[De])return!(null===(We=Oe?.spy)||void 0===We)&&We.get&&Oe.spy.get(De,fe[De]),fe[De];if(re.indexOf(De)>-1)return()=>{};const ie=nt.toPromise().then(le=>{const _e=le&&le[De];return"function"==typeof _e?_e.bind(le):_e&&_e.then?_e.then(Ye=>st.run(()=>Ye)):st.run(()=>_e)});return new Proxy(()=>{},{get:(le,_e)=>ie[_e],apply:(le,_e,Ye)=>ie.then(Qe=>{var Ut;const it=Qe&&Qe(...Ye);return!(null===(Ut=Oe?.spy)||void 0===Ut)&&Ut.apply&&Oe.spy.apply(De,Ye,it),it})})})}),pe=(fe,nt)=>{nt.forEach(st=>{Object.getOwnPropertyNames(st.prototype||st).forEach(Oe=>{Object.defineProperty(fe.prototype,Oe,Object.getOwnPropertyDescriptor(st.prototype||st,Oe))})})};class ce{constructor(nt){return nt}}const de=new u.OlP("angularfire2.app.options"),me=new u.OlP("angularfire2.app.name");function z(fe,nt,st){const Re="object"==typeof st&&st||{};Re.name=Re.name||"string"==typeof st&&st||"[DEFAULT]";const We=$.Z.apps.filter(ie=>ie&&ie.name===Re.name)[0]||nt.runOutsideAngular(()=>$.Z.initializeApp(fe,Re));try{JSON.stringify(fe)!==JSON.stringify(We.options)&&Z("error",`${We.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ce(We)}const Z=(fe,...nt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[fe](...nt)},J={provide:ce,useFactory:z,deps:[de,u.R0b,[new u.FiY,me]]};let ze=(()=>{class fe{constructor(st){$.Z.registerVersion("angularfire",k.q4.full,"core"),$.Z.registerVersion("angularfire",k.q4.full,"app-compat"),$.Z.registerVersion("angular",u.q4F.full,st.toString())}static initializeApp(st,Oe){return{ngModule:fe,providers:[{provide:de,useValue:st},{provide:me,useValue:Oe}]}}}return fe.\u0275fac=function(st){return new(st||fe)(u.LFG(u.Lbi))},fe.\u0275mod=u.oAB({type:fe}),fe.\u0275inj=u.cJS({providers:[J]}),fe})();function ke(fe,nt,st,Oe,Re){const[,De,We]=globalThis.\u0275AngularfireInstanceCache.find(ie=>ie[0]===fe)||[];if(De)return function Ie(fe,nt){try{return fe.toString()===nt.toString()}catch{return fe===nt}}(Re,We)||(ye("error",`${nt} was already initialized on the ${st} Firebase App with different settings.${ot?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:Re,was:We})),De;{const ie=Oe();return globalThis.\u0275AngularfireInstanceCache.push([fe,ie,Re]),ie}}const ot=!!wt.hot,ye=(fe,...nt)=>{(0,u.X6Q)()&&typeof console<"u"&&console[fe](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(wt,Se,F)=>{F.d(Se,{q4:()=>Sc,iC:()=>Xn,HU:()=>bo,vb:()=>hr,JM:()=>Ks,u3:()=>gi});var u=F(4650),$=F(259),k=F(5861),re=F(9681),oe=F(2090),pe=F(4859),ce=F(1877),de=F(8766);const me="@firebase/installations",z="0.6.3",J=`w:${z}`,ze="FIS_v2",nt=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(I){return I instanceof oe.ZR&&I.code.includes("request-failed")}function Oe({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Re(I){return{token:I.token,requestStatus:2,expiresIn:Qe(I.expiresIn),creationTime:Date.now()}}function De(I,C){return We.apply(this,arguments)}function We(){return(We=(0,k.Z)(function*(I,C){const j=(yield C.json()).error;return nt.create("request-failed",{requestName:I,serverCode:j.code,serverMessage:j.message,serverStatus:j.status})})).apply(this,arguments)}function ie({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function le(I,{refreshToken:C}){const M=ie(I);return M.append("Authorization",function Ut(I){return`${ze} ${I}`}(C)),M}function _e(I){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,k.Z)(function*(I){const C=yield I();return C.status>=500&&C.status<600?I():C})).apply(this,arguments)}function Qe(I){return Number(I.replace("s","000"))}function it(I,C){return ae.apply(this,arguments)}function ae(){return(ae=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:C},{fid:M}){const j=Oe(I),Q=ie(I),se=C.getImmediate({optional:!0});if(se){const At=yield se.getHeartbeatsHeader();At&&Q.append("x-firebase-client",At)}const et={method:"POST",headers:Q,body:JSON.stringify({fid:M,authVersion:ze,appId:I.appId,sdkVersion:J})},mt=yield _e(()=>fetch(j,et));if(mt.ok){const At=yield mt.json();return{fid:At.fid||M,registrationStatus:2,refreshToken:At.refreshToken,authToken:Re(At.authToken)}}throw yield De("Create Installation",mt)})).apply(this,arguments)}function ge(I){return new Promise(C=>{setTimeout(C,I)})}const Fe=/^[cdef][\w-]{21}$/;function Te(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const M=function Dt(I){return function we(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Fe.test(M)?M:""}catch{return""}}function $t(I){return`${I.appName}!${I.appId}`}const vn=new Map;function ct(I,C){const M=$t(I);on(M,C),function Wn(I,C){const M=function pn(){return!jn&&"BroadcastChannel"in self&&(jn=new BroadcastChannel("[Firebase] FID Change"),jn.onmessage=I=>{on(I.data.key,I.data.fid)}),jn}();M&&M.postMessage({key:I,fid:C}),function Ni(){0===vn.size&&jn&&(jn.close(),jn=null)}()}(M,C)}function on(I,C){const M=vn.get(I);if(M)for(const j of M)j(C)}let jn=null;const ti="firebase-installations-store";let Lr=null;function ps(){return Lr||(Lr=(0,de.X3)("firebase-installations-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(ti)}})),Lr}function rt(I,C){return ui.apply(this,arguments)}function ui(){return(ui=(0,k.Z)(function*(I,C){const M=$t(I),Q=(yield ps()).transaction(ti,"readwrite"),se=Q.objectStore(ti),ve=yield se.get(M);return yield se.put(C,M),yield Q.done,(!ve||ve.fid!==C.fid)&&ct(I,C.fid),C})).apply(this,arguments)}function ni(I){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,k.Z)(function*(I){const C=$t(I),j=(yield ps()).transaction(ti,"readwrite");yield j.objectStore(ti).delete(C),yield j.done})).apply(this,arguments)}function Mi(I,C){return io.apply(this,arguments)}function io(){return(io=(0,k.Z)(function*(I,C){const M=$t(I),Q=(yield ps()).transaction(ti,"readwrite"),se=Q.objectStore(ti),ve=yield se.get(M),et=C(ve);return void 0===et?yield se.delete(M):yield se.put(et,M),yield Q.done,et&&(!ve||ve.fid!==et.fid)&&ct(I,et.fid),et})).apply(this,arguments)}function Rn(I){return xn.apply(this,arguments)}function xn(){return(xn=(0,k.Z)(function*(I){let C;const M=yield Mi(I.appConfig,j=>{const Q=Cn(j),se=Ct(I,Q);return C=se.registrationPromise,se.installationEntry});return""===M.fid?{installationEntry:yield C}:{installationEntry:M,registrationPromise:C}})).apply(this,arguments)}function Cn(I){return Vt(I||{fid:Te(),registrationStatus:0})}function Ct(I,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(nt.create("app-offline"))};const M={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},j=function St(I,C){return Ht.apply(this,arguments)}(I,M);return{installationEntry:M,registrationPromise:j}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:or(I)}:{installationEntry:C}}function Ht(){return(Ht=(0,k.Z)(function*(I,C){try{const M=yield it(I,C);return rt(I.appConfig,M)}catch(M){throw st(M)&&409===M.customData.serverCode?yield ni(I.appConfig):yield rt(I.appConfig,{fid:C.fid,registrationStatus:0}),M}})).apply(this,arguments)}function or(I){return ci.apply(this,arguments)}function ci(){return(ci=(0,k.Z)(function*(I){let C=yield Zi(I.appConfig);for(;1===C.registrationStatus;)yield ge(100),C=yield Zi(I.appConfig);if(0===C.registrationStatus){const{installationEntry:M,registrationPromise:j}=yield Rn(I);return j||M}return C})).apply(this,arguments)}function Zi(I){return Mi(I,C=>{if(!C)throw nt.create("installation-not-found");return Vt(C)})}function Vt(I){return function rr(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Wt(I,C){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,k.Z)(function*({appConfig:I,heartbeatServiceProvider:C},M){const j=rn(I,M),Q=le(I,M),se=C.getImmediate({optional:!0});if(se){const At=yield se.getHeartbeatsHeader();At&&Q.append("x-firebase-client",At)}const et={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:J,appId:I.appId}})},mt=yield _e(()=>fetch(j,et));if(mt.ok)return Re(yield mt.json());throw yield De("Generate Auth Token",mt)})).apply(this,arguments)}function rn(I,{fid:C}){return`${Oe(I)}/${C}/authTokens:generate`}function wi(I){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,k.Z)(function*(I,C=!1){let M;const j=yield Mi(I.appConfig,se=>{if(!cn(se))throw nt.create("not-registered");const ve=se.authToken;if(!C&&q(ve))return se;if(1===ve.requestStatus)return M=at(I,C),se;{if(!navigator.onLine)throw nt.create("app-offline");const et=Y(se);return M=kt(I,et),et}});return M?yield M:j.authToken})).apply(this,arguments)}function at(I,C){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,k.Z)(function*(I,C){let M=yield lt(I.appConfig);for(;1===M.authToken.requestStatus;)yield ge(100),M=yield lt(I.appConfig);const j=M.authToken;return 0===j.requestStatus?wi(I,C):j})).apply(this,arguments)}function lt(I){return Mi(I,C=>{if(!cn(C))throw nt.create("not-registered");return function B(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function kt(I,C){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,k.Z)(function*(I,C){try{const M=yield Wt(I,C),j=Object.assign(Object.assign({},C),{authToken:M});return yield rt(I.appConfig,j),M}catch(M){if(!st(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const j=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield rt(I.appConfig,j)}else yield ni(I.appConfig);throw M}})).apply(this,arguments)}function cn(I){return void 0!==I&&2===I.registrationStatus}function q(I){return 2===I.requestStatus&&!function H(I){const C=Date.now();return C<I.creationTime||I.creationTime+I.expiresIn<C+36e5}(I)}function Y(I){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:C})}function V(){return(V=(0,k.Z)(function*(I){const C=I,{installationEntry:M,registrationPromise:j}=yield Rn(C);return j?j.catch(console.error):wi(C).catch(console.error),M.fid})).apply(this,arguments)}function Be(){return(Be=(0,k.Z)(function*(I,C=!1){const M=I;return yield dt(M),(yield wi(M,C)).token})).apply(this,arguments)}function dt(I){return vt.apply(this,arguments)}function vt(){return(vt=(0,k.Z)(function*(I){const{registrationPromise:C}=yield Rn(I);C&&(yield C)})).apply(this,arguments)}function ro(I){return nt.create("missing-app-config-values",{valueName:I})}const Uo="installations",so=I=>{const C=I.getProvider("app").getImmediate(),M=function kn(I){if(!I||!I.options)throw ro("App Configuration");if(!I.name)throw ro("App Name");const C=["projectId","apiKey","appId"];for(const M of C)if(!I.options[M])throw ro(M);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(C);return{app:C,appConfig:M,heartbeatServiceProvider:(0,re._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},oo=I=>{const C=I.getProvider("app").getImmediate(),M=(0,re._getProvider)(C,Uo).getImmediate();return{getId:()=>function O(I){return V.apply(this,arguments)}(M),getToken:Q=>function ee(I){return Be.apply(this,arguments)}(M,Q)}};(function Gl(){(0,re._registerComponent)(new pe.wA(Uo,so,"PUBLIC")),(0,re._registerComponent)(new pe.wA("installations-internal",oo,"PRIVATE"))})(),(0,re.registerVersion)(me,z),(0,re.registerVersion)(me,z,"esm2017");const ms="@firebase/remote-config",ri=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class uc{constructor(C,M,j,Q){this.client=C,this.storage=M,this.storageCache=j,this.logger=Q}isCachedDataFresh(C,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const j=Date.now()-M,Q=j<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${j}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${Q}.`),Q}fetch(C){var M=this;return(0,k.Z)(function*(){const[j,Q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Q&&M.isCachedDataFresh(C.cacheMaxAgeMillis,j))return Q;C.eTag=Q&&Q.eTag;const se=yield M.client.fetch(C),ve=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===se.status&&ve.push(M.storage.setLastSuccessfulFetchResponse(se)),yield Promise.all(ve),se})()}}function ys(I=navigator){return I.languages&&I.languages[0]||I.language}class co{constructor(C,M,j,Q,se,ve){this.firebaseInstallations=C,this.sdkVersion=M,this.namespace=j,this.projectId=Q,this.apiKey=se,this.appId=ve}fetch(C){var M=this;return(0,k.Z)(function*(){const[j,Q]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,et={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},mt={sdk_version:M.sdkVersion,app_instance_id:j,app_instance_id_token:Q,app_id:M.appId,language_code:ys()},At={method:"POST",headers:et,body:JSON.stringify(mt)},Jt=fetch(ve,At),Ft=new Promise((ki,fr)=>{C.signal.addEventListener(()=>{const Rf=new Error("The operation was aborted.");Rf.name="AbortError",fr(Rf)})});let ji;try{yield Promise.race([Jt,Ft]),ji=yield Jt}catch(ki){let fr="fetch-client-network";throw"AbortError"===ki?.name&&(fr="fetch-timeout"),ri.create(fr,{originalErrorMessage:ki?.message})}let si=ji.status;const To=ji.headers.get("ETag")||void 0;let Xt,Ki;if(200===ji.status){let ki;try{ki=yield ji.json()}catch(fr){throw ri.create("fetch-client-parse",{originalErrorMessage:fr?.message})}Xt=ki.entries,Ki=ki.state}if("INSTANCE_STATE_UNSPECIFIED"===Ki?si=500:"NO_CHANGE"===Ki?si=304:("NO_TEMPLATE"===Ki||"EMPTY_CONFIG"===Ki)&&(Xt={}),304!==si&&200!==si)throw ri.create("fetch-status",{httpStatus:si});return{status:si,eTag:To,config:Xt}})()}}class vs{constructor(C,M){this.client=C,this.storage=M}fetch(C){var M=this;return(0,k.Z)(function*(){const j=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(C,j)})()}attemptFetch(C,{throttleEndTimeMillis:M,backoffCount:j}){var Q=this;return(0,k.Z)(function*(){yield function Cr(I,C){return new Promise((M,j)=>{const Q=Math.max(C-Date.now(),0),se=setTimeout(M,Q);I.addEventListener(()=>{clearTimeout(se),j(ri.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,M);try{const se=yield Q.client.fetch(C);return yield Q.storage.deleteThrottleMetadata(),se}catch(se){if(!function Sg(I){if(!(I instanceof oe.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}(se))throw se;const ve={throttleEndTimeMillis:Date.now()+(0,oe.$s)(j),backoffCount:j+1};return yield Q.storage.setThrottleMetadata(ve),Q.attemptFetch(C,ve)}})()}}class Ng{constructor(C,M,j,Q,se){this.app=C,this._client=M,this._storageCache=j,this._storage=Q,this._logger=se,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ga(I,C){const M=I.target.error||void 0;return ri.create(C,{originalErrorMessage:M&&M?.message})}const Bo="app_namespace_store";class Od{constructor(C,M,j,Q=function Og(){return new Promise((I,C)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=j=>{C(Ga(j,"storage-open"))},M.onsuccess=j=>{I(j.target.result)},M.onupgradeneeded=j=>{0===j.oldVersion&&j.target.result.createObjectStore(Bo,{keyPath:"compositeKey"})}}catch(M){C(ri.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=C,this.appName=M,this.namespace=j,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var M=this;return(0,k.Z)(function*(){const j=yield M.openDbPromise;return new Promise((Q,se)=>{const et=j.transaction([Bo],"readonly").objectStore(Bo),mt=M.createCompositeKey(C);try{const At=et.get(mt);At.onerror=Jt=>{se(Ga(Jt,"storage-get"))},At.onsuccess=Jt=>{const Ft=Jt.target.result;Q(Ft?Ft.value:void 0)}}catch(At){se(ri.create("storage-get",{originalErrorMessage:At?.message}))}})})()}set(C,M){var j=this;return(0,k.Z)(function*(){const Q=yield j.openDbPromise;return new Promise((se,ve)=>{const mt=Q.transaction([Bo],"readwrite").objectStore(Bo),At=j.createCompositeKey(C);try{const Jt=mt.put({compositeKey:At,value:M});Jt.onerror=Ft=>{ve(Ga(Ft,"storage-set"))},Jt.onsuccess=()=>{se()}}catch(Jt){ve(ri.create("storage-set",{originalErrorMessage:Jt?.message}))}})})()}delete(C){var M=this;return(0,k.Z)(function*(){const j=yield M.openDbPromise;return new Promise((Q,se)=>{const et=j.transaction([Bo],"readwrite").objectStore(Bo),mt=M.createCompositeKey(C);try{const At=et.delete(mt);At.onerror=Jt=>{se(Ga(Jt,"storage-delete"))},At.onsuccess=()=>{Q()}}catch(At){se(ri.create("storage-delete",{originalErrorMessage:At?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class jo{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,k.Z)(function*(){const M=C.storage.getLastFetchStatus(),j=C.storage.getLastSuccessfulFetchTimestampMillis(),Q=C.storage.getActiveConfig(),se=yield M;se&&(C.lastFetchStatus=se);const ve=yield j;ve&&(C.lastSuccessfulFetchTimestampMillis=ve);const et=yield Q;et&&(C.activeConfig=et)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function xy(){return ql.apply(this,arguments)}function ql(){return(ql=(0,k.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function Rd(){(0,re._registerComponent)(new pe.wA("remote-config",function I(C,{instanceIdentifier:M}){const j=C.getProvider("app").getImmediate(),Q=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ri.create("registration-window");if(!(0,oe.hl)())throw ri.create("indexed-db-unavailable");const{projectId:se,apiKey:ve,appId:et}=j.options;if(!se)throw ri.create("registration-project-id");if(!ve)throw ri.create("registration-api-key");if(!et)throw ri.create("registration-app-id");const mt=new Od(et,j.name,M=M||"firebase"),At=new jo(mt),Jt=new ce.Yd(ms);Jt.logLevel=ce.in.ERROR;const Ft=new co(Q,re.SDK_VERSION,M,se,ve,et),ji=new vs(Ft,mt),si=new uc(ji,mt,At,Jt),To=new Ng(j,si,At,mt,Jt);return function Pn(I){const C=(0,oe.m9)(I);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(To),To},"PUBLIC").setMultipleInstances(!0)),(0,re.registerVersion)(ms,"0.4.3"),(0,re.registerVersion)(ms,"0.4.3","esm2017")}();const Bi="/firebase-messaging-sw.js",Ho="/firebase-cloud-messaging-push-scope",js="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zl="google.c.a.c_id",cc="google.c.a.c_l",Pd="google.c.a.ts",Go="google.c.a.e";var Sr=(()=>{return(I=Sr||(Sr={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Sr;var I})();function bs(I){const C=new Uint8Array(I);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function cr(I){const M=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),j=atob(M),Q=new Uint8Array(j.length);for(let se=0;se<j.length;++se)Q[se]=j.charCodeAt(se);return Q}const ho="fcm_token_details_db",qo="fcm_token_object_Store";function Rg(I){return dc.apply(this,arguments)}function dc(){return dc=(0,k.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(se=>se.name).includes(ho))return null;let C=null;return(yield(0,de.X3)(ho,5,{upgrade:(j=(0,k.Z)(function*(Q,se,ve,et){var mt;if(se<2||!Q.objectStoreNames.contains(qo))return;const At=et.objectStore(qo),Jt=yield At.index("fcmSenderId").get(I);if(yield At.clear(),Jt)if(2===se){const Ft=Jt;if(!Ft.auth||!Ft.p256dh||!Ft.endpoint)return;C={token:Ft.fcmToken,createTime:null!==(mt=Ft.createTime)&&void 0!==mt?mt:Date.now(),subscriptionOptions:{auth:Ft.auth,p256dh:Ft.p256dh,endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:"string"==typeof Ft.vapidKey?Ft.vapidKey:bs(Ft.vapidKey)}}}else if(3===se){const Ft=Jt;C={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:bs(Ft.auth),p256dh:bs(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:bs(Ft.vapidKey)}}}else if(4===se){const Ft=Jt;C={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:bs(Ft.auth),p256dh:bs(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:bs(Ft.vapidKey)}}}}),function(se,ve,et,mt){return j.apply(this,arguments)})})).close(),yield(0,de.Lj)(ho),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),qn(C)?C:null;var j}),dc.apply(this,arguments)}function qn(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:C}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}const Ur="firebase-messaging-store";let Oi=null;function zl(){return Oi||(Oi=(0,de.X3)("firebase-messaging-database",1,{upgrade:(I,C)=>{0===C&&I.createObjectStore(Ur)}})),Oi}function Zo(I){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,k.Z)(function*(I){const C=Nr(I),j=yield(yield zl()).transaction(Ur).objectStore(Ur).get(C);if(j)return j;{const Q=yield Rg(I.appConfig.senderId);if(Q)return yield hn(I,Q),Q}})).apply(this,arguments)}function hn(I,C){return hc.apply(this,arguments)}function hc(){return(hc=(0,k.Z)(function*(I,C){const M=Nr(I),Q=(yield zl()).transaction(Ur,"readwrite");return yield Q.objectStore(Ur).put(C,M),yield Q.done,C})).apply(this,arguments)}function $s(I){return fc.apply(this,arguments)}function fc(){return(fc=(0,k.Z)(function*(I){const C=Nr(I),j=(yield zl()).transaction(Ur,"readwrite");yield j.objectStore(Ur).delete(C),yield j.done})).apply(this,arguments)}function Nr({appConfig:I}){return I.appId}const Kn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function qt(I,C){return Za.apply(this,arguments)}function Za(){return(Za=(0,k.Z)(function*(I,C){const M=yield Ka(I),j=xe(C),Q={method:"POST",headers:M,body:JSON.stringify(j)};let se;try{se=yield(yield fetch(fo(I.appConfig),Q)).json()}catch(ve){throw Kn.create("token-subscribe-failed",{errorInfo:ve?.toString()})}if(se.error)throw Kn.create("token-subscribe-failed",{errorInfo:se.error.message});if(!se.token)throw Kn.create("token-subscribe-no-token");return se.token})).apply(this,arguments)}function xg(I,C){return za.apply(this,arguments)}function za(){return(za=(0,k.Z)(function*(I,C){const M=yield Ka(I),j=xe(C.subscriptionOptions),Q={method:"PATCH",headers:M,body:JSON.stringify(j)};let se;try{se=yield(yield fetch(`${fo(I.appConfig)}/${C.token}`,Q)).json()}catch(ve){throw Kn.create("token-update-failed",{errorInfo:ve?.toString()})}if(se.error)throw Kn.create("token-update-failed",{errorInfo:se.error.message});if(!se.token)throw Kn.create("token-update-no-token");return se.token})).apply(this,arguments)}function Ld(I,C){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,k.Z)(function*(I,C){const j={method:"DELETE",headers:yield Ka(I)};try{const se=yield(yield fetch(`${fo(I.appConfig)}/${C}`,j)).json();if(se.error)throw Kn.create("token-unsubscribe-failed",{errorInfo:se.error.message})}catch(Q){throw Kn.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function fo({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Ka(I){return zo.apply(this,arguments)}function zo(){return(zo=(0,k.Z)(function*({appConfig:I,installations:C}){const M=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function xe({p256dh:I,auth:C,endpoint:M,vapidKey:j}){const Q={web:{endpoint:M,auth:C,p256dh:I}};return j!==js&&(Q.web.applicationPubKey=j),Q}const nn=6048e5;function mf(I){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,k.Z)(function*(I){const C=yield _f(I.swRegistration,I.vapidKey),M={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:C.endpoint,auth:bs(C.getKey("auth")),p256dh:bs(C.getKey("p256dh"))},j=yield Zo(I.firebaseDependencies);if(j){if(kg(j.subscriptionOptions,M))return Date.now()>=j.createTime+nn?Wl(I,{token:j.token,createTime:Date.now(),subscriptionOptions:M}):j.token;try{yield Ld(I.firebaseDependencies,j.token)}catch(Q){console.warn(Q)}return Kl(I.firebaseDependencies,M)}return Kl(I.firebaseDependencies,M)})).apply(this,arguments)}function hi(I){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,k.Z)(function*(I){const C=yield Zo(I.firebaseDependencies);C&&(yield Ld(I.firebaseDependencies,C.token),yield $s(I.firebaseDependencies));const M=yield I.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Wl(I,C){return sr.apply(this,arguments)}function sr(){return(sr=(0,k.Z)(function*(I,C){try{const M=yield xg(I.firebaseDependencies,C),j=Object.assign(Object.assign({},C),{token:M,createTime:Date.now()});return yield hn(I.firebaseDependencies,j),M}catch(M){throw yield hi(I),M}})).apply(this,arguments)}function Kl(I,C){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,k.Z)(function*(I,C){const j={token:yield qt(I,C),createTime:Date.now(),subscriptionOptions:C};return yield hn(I,j),j.token})).apply(this,arguments)}function _f(I,C){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,k.Z)(function*(I,C){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:cr(C)})})).apply(this,arguments)}function kg(I,C){return C.vapidKey===I.vapidKey&&C.endpoint===I.endpoint&&C.auth===I.auth&&C.p256dh===I.p256dh}function po(I){const C={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function fi(I,C){if(!C.notification)return;I.notification={};const M=C.notification.title;M&&(I.notification.title=M);const j=C.notification.body;j&&(I.notification.body=j);const Q=C.notification.image;Q&&(I.notification.image=Q);const se=C.notification.icon;se&&(I.notification.icon=se)}(C,I),function Xr(I,C){!C.data||(I.data=C.data)}(C,I),function Qa(I,C){var M,j,Q,se,ve;if(!(C.fcmOptions||null!==(M=C.notification)&&void 0!==M&&M.click_action))return;I.fcmOptions={};const et=null!==(Q=null===(j=C.fcmOptions)||void 0===j?void 0:j.link)&&void 0!==Q?Q:null===(se=C.notification)||void 0===se?void 0:se.click_action;et&&(I.fcmOptions.link=et);const mt=null===(ve=C.fcmOptions)||void 0===ve?void 0:ve.analytics_label;mt&&(I.fcmOptions.analyticsLabel=mt)}(C,I),C}function Ja(I){return"object"==typeof I&&!!I&&Zl in I}function ws(I,C){const M=[];for(let j=0;j<I.length;j++)M.push(I.charAt(j)),j<C.length&&M.push(C.charAt(j));return M.join("")}function pc(I){return Kn.create("missing-app-config-values",{valueName:I})}ws("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ws("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vd{constructor(C,M,j){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function Ud(I){if(!I||!I.options)throw pc("App Configuration Object");if(!I.name)throw pc("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:M}=I;for(const j of C)if(!M[j])throw pc(j);return{appName:I.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:Q,installations:M,analyticsProvider:j}}_delete(){return Promise.resolve()}}function yf(I){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,k.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Bi,{scope:Ho}),I.swRegistration.update().catch(()=>{})}catch(C){throw Kn.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function gc(I,C){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,k.Z)(function*(I,C){if(!C&&!I.swRegistration&&(yield yf(I)),C||!I.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Kn.create("invalid-sw-registration");I.swRegistration=C}})).apply(this,arguments)}function mc(I,C){return el.apply(this,arguments)}function el(){return(el=(0,k.Z)(function*(I,C){C?I.vapidKey=C:I.vapidKey||(I.vapidKey=js)})).apply(this,arguments)}function Jo(){return(Jo=(0,k.Z)(function*(I,C){if(!navigator)throw Kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Kn.create("permission-blocked");return yield mc(I,C?.vapidKey),yield gc(I,C?.serviceWorkerRegistration),mf(I)})).apply(this,arguments)}function vf(I,C,M){return tl.apply(this,arguments)}function tl(){return(tl=(0,k.Z)(function*(I,C,M){const j=bf(C);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(j,{message_id:M[Zl],message_name:M[cc],message_time:M[Pd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bf(I){switch(I){case Sr.NOTIFICATION_CLICKED:return"notification_open";case Sr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Hs(){return(Hs=(0,k.Z)(function*(I,C){const M=C.data;if(!M.isFirebaseMessaging)return;I.onMessageHandler&&M.messageType===Sr.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(po(M)):I.onMessageHandler.next(po(M)));const j=M.data;Ja(j)&&"1"===j[Go]&&(yield vf(I,M.messageType,j))})).apply(this,arguments)}const Gs="@firebase/messaging",$n=I=>{const C=new Vd(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function jd(I,C){return Hs.apply(this,arguments)}(C,M)),C},Ds=I=>{const C=I.getProvider("messaging").getImmediate();return{getToken:j=>function Bd(I,C){return Jo.apply(this,arguments)}(C,j)}};function Hd(){return _c.apply(this,arguments)}function _c(){return(_c=(0,k.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Un(){(0,re._registerComponent)(new pe.wA("messaging",$n,"PUBLIC")),(0,re._registerComponent)(new pe.wA("messaging-internal",Ds,"PRIVATE")),(0,re.registerVersion)(Gs,"0.12.3"),(0,re.registerVersion)(Gs,"0.12.3","esm2017")}();const ta="analytics",qd="firebase_id",wc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zd="https://www.googletagmanager.com/gtag/js",Yn=new ce.Yd("@firebase/analytics");function Ql(I){return Promise.all(I.map(C=>C.catch(M=>M)))}function Jl(I,C){const M=document.createElement("script");M.src=`${Zd}?l=${I}&id=${C}`,M.async=!0,document.head.appendChild(M)}function Df(I,C,M,j,Q,se){return nl.apply(this,arguments)}function nl(){return(nl=(0,k.Z)(function*(I,C,M,j,Q,se){const ve=j[Q];try{if(ve)yield C[ve];else{const mt=(yield Ql(M)).find(At=>At.measurementId===Q);mt&&(yield C[mt.appId])}}catch(et){Yn.error(et)}I("config",Q,se)})).apply(this,arguments)}function Ts(I,C,M,j,Q){return il.apply(this,arguments)}function il(){return(il=(0,k.Z)(function*(I,C,M,j,Q){try{let se=[];if(Q&&Q.send_to){let ve=Q.send_to;Array.isArray(ve)||(ve=[ve]);const et=yield Ql(M);for(const mt of ve){const At=et.find(Ft=>Ft.measurementId===mt),Jt=At&&C[At.appId];if(!Jt){se=[];break}se.push(Jt)}}0===se.length&&(se=Object.values(C)),yield Promise.all(se),I("event",j,Q||{})}catch(se){Yn.error(se)}})).apply(this,arguments)}function zd(I){const C=window.document.getElementsByTagName("script");for(const M of Object.values(C))if(M.src&&M.src.includes(Zd)&&M.src.includes(I))return M;return null}const pi=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),sl=new class Tc{constructor(C={},M=1e3){this.throttleMetadata=C,this.intervalMillis=M}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,M){this.throttleMetadata[C]=M}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function na(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function If(I){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,k.Z)(function*(I){var C;const{appId:M,apiKey:j}=I,Q={method:"GET",headers:na(j)},se=wc.replace("{app-id}",M),ve=yield fetch(se,Q);if(200!==ve.status&&304!==ve.status){let et="";try{const mt=yield ve.json();null!==(C=mt.error)&&void 0!==C&&C.message&&(et=mt.error.message)}catch{}throw pi.create("config-fetch-failed",{httpStatus:ve.status,responseMessage:et})}return ve.json()})).apply(this,arguments)}function Wd(I){return dr.apply(this,arguments)}function dr(){return(dr=(0,k.Z)(function*(I,C=sl,M){const{appId:j,apiKey:Q,measurementId:se}=I.options;if(!j)throw pi.create("no-app-id");if(!Q){if(se)return{measurementId:se,appId:j};throw pi.create("no-api-key")}const ve=C.getThrottleMetadata(j)||{backoffCount:0,throttleEndTimeMillis:Date.now()},et=new ol;return setTimeout((0,k.Z)(function*(){et.abort()}),void 0!==M?M:6e4),Kd({appId:j,apiKey:Q,measurementId:se},ve,et,C)})).apply(this,arguments)}function Kd(I,C,M){return Es.apply(this,arguments)}function Es(){return(Es=(0,k.Z)(function*(I,{throttleEndTimeMillis:C,backoffCount:M},j,Q=sl){var se;const{appId:ve,measurementId:et}=I;try{yield Ec(j,C)}catch(mt){if(et)return Yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:ve,measurementId:et};throw mt}try{const mt=yield If(I);return Q.deleteThrottleMetadata(ve),mt}catch(mt){const At=mt;if(!eu(At)){if(Q.deleteThrottleMetadata(ve),et)return Yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${At?.message}]`),{appId:ve,measurementId:et};throw mt}const Jt=503===Number(null===(se=At?.customData)||void 0===se?void 0:se.httpStatus)?(0,oe.$s)(M,Q.intervalMillis,30):(0,oe.$s)(M,Q.intervalMillis),Ft={throttleEndTimeMillis:Date.now()+Jt,backoffCount:M+1};return Q.setThrottleMetadata(ve,Ft),Yn.debug(`Calling attemptFetch again in ${Jt} millis`),Kd(I,Ft,j,Q)}})).apply(this,arguments)}function Ec(I,C){return new Promise((M,j)=>{const Q=Math.max(C-Date.now(),0),se=setTimeout(M,Q);I.addEventListener(()=>{clearTimeout(se),j(pi.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}function eu(I){if(!(I instanceof oe.ZR&&I.customData))return!1;const C=Number(I.customData.httpStatus);return 429===C||500===C||503===C||504===C}class ol{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let go,nu;function ia(){return(ia=(0,k.Z)(function*(I,C,M,j,Q){if(Q&&Q.global)I("event",M,j);else{const se=yield C;I("event",M,Object.assign(Object.assign({},j),{send_to:se}))}})).apply(this,arguments)}function oa(I){nu=I}function Ic(I){go=I}function Zs(){return aa.apply(this,arguments)}function aa(){return(aa=(0,k.Z)(function*(){if(!(0,oe.hl)())return Yn.warn(pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(I){return Yn.warn(pi.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function la(){return(la=(0,k.Z)(function*(I,C,M,j,Q,se,ve){var et;const mt=Wd(I);mt.then(si=>{M[si.measurementId]=si.appId,I.options.measurementId&&si.measurementId!==I.options.measurementId&&Yn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${si.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(si=>Yn.error(si)),C.push(mt);const At=Zs().then(si=>{if(si)return j.getId()}),[Jt,Ft]=yield Promise.all([mt,At]);zd(se)||Jl(se,Jt.measurementId),nu&&(Q("consent","default",nu),oa(void 0)),Q("js",new Date);const ji=null!==(et=ve?.config)&&void 0!==et?et:{};return ji.origin="firebase",ji.update=!0,null!=Ft&&(ji[qd]=Ft),Q("config",Jt.measurementId,ji),go&&(Q("set",go),Ic(void 0)),Jt.measurementId})).apply(this,arguments)}class iu{constructor(C){this.app=C}_delete(){return delete zi[this.app.options.appId],Promise.resolve()}}let zi={},ua=[];const _o={};let da,ts,ca="dataLayer",Qd=!1;function Af(I,C,M){!function Pg(){const I=[];if((0,oe.ru)()&&I.push("This is a browser extension environment."),(0,oe.zI)()||I.push("Cookies are not available."),I.length>0){const C=I.map((j,Q)=>`(${Q+1}) ${j}`).join(" "),M=pi.create("invalid-analytics-context",{errorInfo:C});Yn.warn(M.message)}}();const j=I.options.appId;if(!j)throw pi.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw pi.create("no-api-key");Yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=zi[j])throw pi.create("already-exists",{id:j});if(!Qd){!function Xl(I){let C=[];Array.isArray(window[I])?C=window[I]:window[I]=C}(ca);const{wrappedGtag:se,gtagCore:ve}=function rl(I,C,M,j,Q){let se=function(...ve){window[j].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(se=window[Q]),window[Q]=function Dc(I,C,M,j){function se(){return(se=(0,k.Z)(function*(ve,et,mt){try{"event"===ve?yield Ts(I,C,M,et,mt):"config"===ve?yield Df(I,C,M,j,et,mt):"consent"===ve?I("consent","update",mt):I("set",et)}catch(At){Yn.error(At)}})).apply(this,arguments)}return function Q(ve,et,mt){return se.apply(this,arguments)}}(se,I,C,M),{gtagCore:se,wrappedGtag:window[Q]}}(zi,ua,_o,ca,"gtag");ts=se,da=ve,Qd=!0}return zi[j]=function Sf(I,C,M,j,Q,se,ve){return la.apply(this,arguments)}(I,ua,_o,C,da,ca,M),new iu(I)}function Py(){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,k.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const gt="@firebase/analytics";!function fn(){(0,re._registerComponent)(new pe.wA(ta,(C,{options:M})=>Af(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,re._registerComponent)(new pe.wA("analytics-internal",function I(C){try{const M=C.getProvider(ta).getImmediate();return{logEvent:(j,Q,se)=>function bn(I,C,M,j){I=(0,oe.m9)(I),function al(I,C,M,j,Q){return ia.apply(this,arguments)}(ts,zi[I.app.options.appId],C,M,j).catch(Q=>Yn.error(Q))}(M,j,Q,se)}}catch(M){throw pi.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,re.registerVersion)(gt,"0.9.3"),(0,re.registerVersion)(gt,"0.9.3","esm2017")}();var Is=F(4408),Jn=F(7565);const Jd=new class vo extends Jn.v{}(class yo extends Is.o{constructor(C,M){super(C,M),this.scheduler=C,this.work=M}schedule(C,M=0){return M>0?super.schedule(C,M):(this.delay=M,this.state=C,this.scheduler.flush(this),this)}execute(C,M){return M>0||this.closed?super.execute(C,M):this._execute(C,M)}requestAsyncId(C,M,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(C,M,j):(C.flush(this),0)}});var Mf=F(4986),zs=F(9751),eh=F(8505),Ws=F(9468),ht=F(5363);const Sc=new u.GfV("7.5.0"),ns="__angularfire_symbol__analyticsIsSupportedValue",ul="__angularfire_symbol__analyticsIsSupported",cl="__angularfire_symbol__remoteConfigIsSupportedValue",Vn="__angularfire_symbol__remoteConfigIsSupported",dl="__angularfire_symbol__messagingIsSupportedValue",fa="__angularfire_symbol__messagingIsSupported";function Ks(I,C,M){if(C){if(1===C.length)return C[0];const se=C.filter(ve=>ve.app===M);if(1===se.length)return se[0]}return M.container.getProvider(I).getImmediate({optional:!0})}globalThis[ul]||(globalThis[ul]=Py().then(I=>globalThis[ns]=I).catch(()=>globalThis[ns]=!1)),globalThis[fa]||(globalThis[fa]=Hd().then(I=>globalThis[dl]=I).catch(()=>globalThis[dl]=!1)),globalThis[Vn]||(globalThis[Vn]=xy().then(I=>globalThis[cl]=I).catch(()=>globalThis[cl]=!1));const hr=(I,C)=>{const M=C?[C]:(0,$.C6)(),j=[];return M.forEach(Q=>{Q.container.getProvider(I).instances.forEach(ve=>{j.includes(ve)||j.push(ve)})}),j};function jr(){}class su{constructor(C,M=Jd){this.zone=C,this.delegate=M}now(){return this.delegate.now()}schedule(C,M,j){const Q=this.zone;return this.delegate.schedule(function(ve){Q.runGuarded(()=>{C.apply(this,[ve])})},M,j)}}class Wi{constructor(C){this.zone=C,this.task=null}call(C,M){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jr,{},jr,jr)),M.pipe((0,eh.b)({next:j,complete:j,error:j})).subscribe(C).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bo=(()=>{class I{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new su(Zone.current)),this.insideAngular=M.run(()=>new su(Zone.current,Mf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(M){return new(M||I)(u.LFG(u.R0b))},I.\u0275prov=u.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function xi(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function th(I){return xi().ngZone.runOutsideAngular(()=>I())}function Mn(I){return xi().ngZone.run(()=>I())}function Xn(I){return xi(),function sn(I){return function(M){return(M=M.lift(new Wi(I.ngZone))).pipe((0,Ws.R)(I.outsideAngular),(0,ht.Q)(I.insideAngular))}}(xi())(I)}const is=(I,C)=>function(){const j=arguments;return C&&setTimeout(()=>{"scheduled"===C.state&&C.invoke()},10),Mn(()=>I.apply(void 0,j))},gi=(I,C)=>function(){let M;const j=arguments;for(let se=0;se<arguments.length;se++)"function"==typeof j[se]&&(C&&(M||(M=Mn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jr,{},jr,jr)))),j[se]=is(j[se],M));const Q=th(()=>I.apply(this,j));if(!C){if(Q instanceof zs.y){const se=xi();return Q.pipe((0,Ws.R)(se.outsideAngular),(0,ht.Q)(se.insideAngular))}return Mn(()=>Q)}return Q instanceof zs.y?Q.pipe(Xn):Q instanceof Promise?Mn(()=>new Promise((se,ve)=>Q.then(et=>Mn(()=>se(et)),et=>Mn(()=>ve(et))))):"function"==typeof Q&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),Q.apply(this,arguments)}:Mn(()=>Q)}},2722:(wt,Se,F)=>{F.d(Se,{$:()=>fo,A:()=>Z,B:()=>ke,G:()=>oo,H:()=>ar,J:()=>vs,L:()=>q,M:()=>ql,N:()=>kd,P:()=>Mf,Q:()=>Zl,R:()=>Fg,T:()=>cc,U:()=>js,V:()=>Sr,W:()=>bs,X:()=>Rg,Y:()=>qa,Z:()=>qt,_:()=>xg,a:()=>qs,a0:()=>mf,a1:()=>hi,a2:()=>Wl,a3:()=>Kl,a4:()=>_f,a5:()=>kg,a6:()=>fi,a7:()=>Xr,a8:()=>Ja,a9:()=>ws,aA:()=>H,aB:()=>et,aC:()=>Mn,aD:()=>th,aE:()=>Mt,aI:()=>na,aL:()=>Go,aa:()=>yf,ab:()=>gc,ac:()=>mc,af:()=>vf,ag:()=>bf,ah:()=>jd,ak:()=>Ur,al:()=>yc,an:()=>Zd,ao:()=>nl,ap:()=>_e,aq:()=>$e,ar:()=>dt,as:()=>st,at:()=>fl,au:()=>Ki,av:()=>Gt,aw:()=>Oe,ax:()=>ie,ay:()=>ji,az:()=>Qe,b:()=>pi,c:()=>Vn,d:()=>Of,e:()=>fa,f:()=>Xn,g:()=>M,h:()=>gi,i:()=>aa,j:()=>se,k:()=>ss,l:()=>gn,m:()=>Uf,o:()=>de,r:()=>Is,s:()=>Br,u:()=>Jd});var u=F(5861),$=F(2090),k=F(9681),re=F(1877),oe=F(655),pe=F(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function J(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ie=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ot=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),fe=new re.Yd("@firebase/auth");function nt(b,...m){fe.logLevel<=re.in.ERROR&&fe.error(`Auth (${k.SDK_VERSION}): ${b}`,...m)}function st(b,...m){throw We(b,...m)}function Oe(b,...m){return We(b,...m)}function Re(b,m,_){const D=Object.assign(Object.assign({},Ie()),{[m]:_});return new $.LL("auth","Firebase",D).create(m,{appName:b.name})}function De(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&st(b,"argument-error"),Re(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(b,...m){if("string"!=typeof b){const _=m[0],D=[...m.slice(1)];return D[0]&&(D[0].appName=b.name),b._errorFactory.create(_,...D)}return ot.create(b,...m)}function ie(b,m,..._){if(!b)throw We(m,..._)}function le(b){const m="INTERNAL ASSERTION FAILED: "+b;throw nt(m),new Error(m)}function _e(b,m){b||le(m)}const Ye=new Map;function Qe(b){_e(b instanceof Function,"Expected a class definition");let m=Ye.get(b);return m?(_e(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,Ye.set(b,m),m)}function ae(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function ge(){return"http:"===we()||"https:"===we()}function we(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Te{constructor(m,_){this.shortDelay=m,this.longDelay=_,_e(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function Fe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ge()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dt(b,m){_e(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class $t{static initialize(m,_,D){this.fetchImpl=m,_&&(this.headersImpl=_),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ct=new Te(3e4,6e4);function Nt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function It(b,m,_,D){return on.apply(this,arguments)}function on(){return(on=(0,u.Z)(function*(b,m,_,D,N={}){return Wn(b,N,(0,u.Z)(function*(){let P={},ne={};D&&("GET"===m?ne=D:P={body:JSON.stringify(D)});const Le=(0,$.xO)(Object.assign({key:b.config.apiKey},ne)).slice(1),ft=yield b._getAdditionalHeaders();return ft["Content-Type"]="application/json",b.languageCode&&(ft["X-Firebase-Locale"]=b.languageCode),$t.fetch()(qi(b,b.config.apiHost,_,Le),Object.assign({method:m,headers:ft,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Wn(b,m,_){return jn.apply(this,arguments)}function jn(){return(jn=(0,u.Z)(function*(b,m,_){b._canInitEmulator=!1;const D=Object.assign(Object.assign({},vn),m);try{const N=new ir(b),P=yield Promise.race([_(),N.promise]);N.clearNetworkTimeout();const ne=yield P.json();if("needConfirmation"in ne)throw ti(b,"account-exists-with-different-credential",ne);if(P.ok&&!("errorMessage"in ne))return ne;{const Le=P.ok?ne.errorMessage:ne.error.message,[ft,Ot]=Le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ft)throw ti(b,"credential-already-in-use",ne);if("EMAIL_EXISTS"===ft)throw ti(b,"email-already-in-use",ne);if("USER_DISABLED"===ft)throw ti(b,"user-disabled",ne);const tn=D[ft]||ft.toLowerCase().replace(/[_\s]+/g,"-");if(Ot)throw Re(b,tn,Ot);st(b,tn)}}catch(N){if(N instanceof $.ZR)throw N;st(b,"network-request-failed")}})).apply(this,arguments)}function pn(b,m,_,D){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,u.Z)(function*(b,m,_,D,N={}){const P=yield It(b,m,_,D,N);return"mfaPendingCredential"in P&&st(b,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function qi(b,m,_,D){const N=`${m}${_}?${D}`;return b.config.emulator?Dt(b.config,N):`${b.config.apiScheme}://${N}`}class ir{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,D)=>{this.timer=setTimeout(()=>D(Oe(this.auth,"network-request-failed")),ct.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ti(b,m,_){const D={appName:b.name};_.email&&(D.email=_.email),_.phoneNumber&&(D.phoneNumber=_.phoneNumber);const N=Oe(b,m,D);return N.customData._tokenResponse=_,N}function ps(){return(ps=(0,u.Z)(function*(b,m){return It(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function rt(b,m){return ui.apply(this,arguments)}function ui(){return(ui=(0,u.Z)(function*(b,m){return It(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ni(b,m){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,u.Z)(function*(b,m){return It(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Mi(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function xn(){return(xn=(0,u.Z)(function*(b,m=!1){const _=(0,$.m9)(b),D=yield _.getIdToken(m),N=Ct(D);ie(N&&N.exp&&N.auth_time&&N.iat,_.auth,"internal-error");const P="object"==typeof N.firebase?N.firebase:void 0,ne=P?.sign_in_provider;return{claims:N,token:D,authTime:Mi(Cn(N.auth_time)),issuedAtTime:Mi(Cn(N.iat)),expirationTime:Mi(Cn(N.exp)),signInProvider:ne||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function Cn(b){return 1e3*Number(b)}function Ct(b){const[m,_,D]=b.split(".");if(void 0===m||void 0===_||void 0===D)return nt("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,$.tV)(_);return N?JSON.parse(N):(nt("Failed to decode base64 JWT payload"),null)}catch(N){return nt("Caught error parsing JWT payload as JSON",N?.toString()),null}}function Ht(b,m){return or.apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(D){throw D instanceof $.ZR&&ci(D)&&b.auth.currentUser===b&&(yield b.auth.signOut()),D}})).apply(this,arguments)}function ci({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Zi{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const N=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const D=this.getInterval(m);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),D)}iteration(){var m=this;return(0,u.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&m.schedule(!0))}m.schedule()})()}}class Vt{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mi(this.lastLoginAt),this.creationTime=Mi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rr(b){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,u.Z)(function*(b){var m;const _=b.auth,D=yield b.getIdToken(),N=yield Ht(b,ni(_,{idToken:D}));ie(N?.users.length,_,"internal-error");const P=N.users[0];b._notifyReloadListener(P);const ne=null!==(m=P.providerUserInfo)&&void 0!==m&&m.length?Ln(P.providerUserInfo):[],Le=wi(b.providerData,ne),tn=!!b.isAnonymous&&!(b.email&&P.passwordHash||Le?.length),Sn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:Le,metadata:new Vt(P.createdAt,P.lastLoginAt),isAnonymous:tn};Object.assign(b,Sn)})).apply(this,arguments)}function rn(){return(rn=(0,u.Z)(function*(b){const m=(0,$.m9)(b);yield rr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function wi(b,m){return[...b.filter(D=>!m.some(N=>N.providerId===D.providerId)),...m]}function Ln(b){return b.map(m=>{var{providerId:_}=m,D=(0,oe._T)(m,["providerId"]);return{providerId:_,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Ce(){return(Ce=(0,u.Z)(function*(b,m){const _=yield Wn(b,{},(0,u.Z)(function*(){const D=(0,$.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:N,apiKey:P}=b.config,ne=qi(b,N,"/v1/token",`key=${P}`),Le=yield b._getAdditionalHeaders();return Le["Content-Type"]="application/x-www-form-urlencoded",$t.fetch()(ne,{method:"POST",headers:Le,body:D})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ie(m.idToken,"internal-error"),ie(typeof m.idToken<"u","internal-error"),ie(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function St(b){const m=Ct(b);return ie(m,"internal-error"),ie(typeof m.exp<"u","internal-error"),ie(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var D=this;return(0,u.Z)(function*(){return ie(!D.accessToken||D.refreshToken,m,"user-token-expired"),_||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(m,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var D=this;return(0,u.Z)(function*(){const{accessToken:N,refreshToken:P,expiresIn:ne}=yield function at(b,m){return Ce.apply(this,arguments)}(m,_);D.updateTokensAndExpiration(N,P,Number(ne))})()}updateTokensAndExpiration(m,_,D){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(m,_){const{refreshToken:D,accessToken:N,expirationTime:P}=_,ne=new lt;return D&&(ie("string"==typeof D,"internal-error",{appName:m}),ne.refreshToken=D),N&&(ie("string"==typeof N,"internal-error",{appName:m}),ne.accessToken=N),P&&(ie("number"==typeof P,"internal-error",{appName:m}),ne.expirationTime=P),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new lt,this.toJSON())}_performRefresh(){return le("not implemented")}}function kt(b,m){ie("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class Bt{constructor(m){var{uid:_,auth:D,stsTokenManager:N}=m,P=(0,oe._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=D,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Vt(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,u.Z)(function*(){const D=yield Ht(_,_.stsTokenManager.getToken(_.auth,m));return ie(D,_.auth,"internal-error"),_.accessToken!==D&&(_.accessToken=D,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),D})()}getIdTokenResult(m){return function Rn(b){return xn.apply(this,arguments)}(this,m)}reload(){return function Dr(b){return rn.apply(this,arguments)}(this)}_assign(m){this!==m&&(ie(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Bt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var D=this;return(0,u.Z)(function*(){let N=!1;m.idToken&&m.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(m),N=!0),_&&(yield rr(D)),yield D.auth._persistUserIfCurrent(D),N&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var m=this;return(0,u.Z)(function*(){const _=yield m.getIdToken();return yield Ht(m,function Lr(b,m){return ps.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var D,N,P,ne,Le,ft,Ot,tn;const Sn=null!==(D=_.displayName)&&void 0!==D?D:void 0,Or=null!==(N=_.email)&&void 0!==N?N:void 0,$r=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,gl=null!==(ne=_.photoURL)&&void 0!==ne?ne:void 0,Oc=null!==(Le=_.tenantId)&&void 0!==Le?Le:void 0,rh=null!==(ft=_._redirectEventId)&&void 0!==ft?ft:void 0,ga=null!==(Ot=_.createdAt)&&void 0!==Ot?Ot:void 0,Zg=null!==(tn=_.lastLoginAt)&&void 0!==tn?tn:void 0,{uid:ml,emailVerified:Vf,isAnonymous:zg,providerData:_l,stsTokenManager:ma}=_;ie(ml&&ma,m,"internal-error");const Wg=lt.fromJSON(this.name,ma);ie("string"==typeof ml,m,"internal-error"),kt(Sn,m.name),kt(Or,m.name),ie("boolean"==typeof Vf,m,"internal-error"),ie("boolean"==typeof zg,m,"internal-error"),kt($r,m.name),kt(gl,m.name),kt(Oc,m.name),kt(rh,m.name),kt(ga,m.name),kt(Zg,m.name);const sh=new Bt({uid:ml,auth:m,email:Or,emailVerified:Vf,displayName:Sn,isAnonymous:zg,photoURL:gl,phoneNumber:$r,tenantId:Oc,stsTokenManager:Wg,createdAt:ga,lastLoginAt:Zg});return _l&&Array.isArray(_l)&&(sh.providerData=_l.map(du=>Object.assign({},du))),rh&&(sh._redirectEventId=rh),sh}static _fromIdTokenResponse(m,_,D=!1){return(0,u.Z)(function*(){const N=new lt;N.updateFromServerResponse(_);const P=new Bt({uid:_.localId,auth:m,stsTokenManager:N,isAnonymous:D});return yield rr(P),P})()}}const q=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,D){var N=this;return(0,u.Z)(function*(){N.storage[_]=D})()}_get(_){var D=this;return(0,u.Z)(function*(){const N=D.storage[_];return void 0===N?null:N})()}_remove(_){var D=this;return(0,u.Z)(function*(){delete D.storage[_]})()}_addListener(_,D){}_removeListener(_,D){}}return b.type="NONE",b})();function H(b,m,_){return`firebase:${b}:${m}:${_}`}class Y{constructor(m,_,D){this.persistence=m,this.auth=_,this.userKey=D;const{config:N,name:P}=this.auth;this.fullUserKey=H(this.userKey,N.apiKey,P),this.fullPersistenceKey=H("persistence",N.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,u.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Bt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,u.Z)(function*(){if(_.persistence===m)return;const D=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,D?_.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,D="authUser"){return(0,u.Z)(function*(){if(!_.length)return new Y(Qe(q),m,D);const N=(yield Promise.all(_.map(function(){var Ot=(0,u.Z)(function*(tn){if(yield tn._isAvailable())return tn});return function(tn){return Ot.apply(this,arguments)}}()))).filter(Ot=>Ot);let P=N[0]||Qe(q);const ne=H(D,m.config.apiKey,m.name);let Le=null;for(const Ot of _)try{const tn=yield Ot._get(ne);if(tn){const Sn=Bt._fromJSON(m,tn);Ot!==P&&(Le=Sn),P=Ot;break}}catch{}const ft=N.filter(Ot=>Ot._shouldAllowMigration);return P._shouldAllowMigration&&ft.length?(P=ft[0],Le&&(yield P._set(ne,Le.toJSON())),yield Promise.all(_.map(function(){var Ot=(0,u.Z)(function*(tn){if(tn!==P)try{yield tn._remove(ne)}catch{}});return function(tn){return Ot.apply(this,arguments)}}())),new Y(P,m,D)):new Y(P,m,D)})()}}function B(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Be(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(O(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(vt(m))return"Blackberry";if(Ae(m))return"Webos";if(V(m))return"Safari";if((m.includes("chrome/")||ee(m))&&!m.includes("edge/"))return"Chrome";if(dt(m))return"Android";{const D=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function O(b=(0,$.z$)()){return/firefox\//i.test(b)}function V(b=(0,$.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function ee(b=(0,$.z$)()){return/crios\//i.test(b)}function Be(b=(0,$.z$)()){return/iemobile/i.test(b)}function dt(b=(0,$.z$)()){return/android/i.test(b)}function vt(b=(0,$.z$)()){return/blackberry/i.test(b)}function Ae(b=(0,$.z$)()){return/webos/i.test(b)}function $e(b=(0,$.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Gt(b=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Dn(b=(0,$.z$)()){return $e(b)||dt(b)||Ae(b)||vt(b)||/windows phone/i.test(b)||Be(b)}function kn(b,m=[]){let _;switch(b){case"Browser":_=B((0,$.z$)());break;case"Worker":_=`${B((0,$.z$)())}-${b}`;break;default:_=b}const D=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${k.SDK_VERSION}/${D}`}class ro{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const D=P=>new Promise((ne,Le)=>{try{ne(m(P))}catch(ft){Le(ft)}});D.onAbort=_,this.queue.push(D);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,u.Z)(function*(){if(_.auth.currentUser===m)return;const D=[];try{for(const N of _.queue)yield N(m),N.onAbort&&D.push(N.onAbort)}catch(N){D.reverse();for(const P of D)try{P()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:N?.message})}})()}}class Uo{constructor(m,_,D){this.app=m,this.heartbeatServiceProvider=_,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new so(this),this.idTokenSubscription=new so(this),this.beforeStateQueue=new ro(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ot,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(m,_){var D=this;return _&&(this._popupRedirectResolver=Qe(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var N,P;if(!D._deleted&&(D.persistenceManager=yield Y.create(D,m),!D._deleted)){if(null!==(N=D._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(_),D.lastNotifiedUid=(null===(P=D.currentUser)||void 0===P?void 0:P.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,u.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,u.Z)(function*(){var D;const N=yield _.assertedPersistence.getCurrentUser();let P=N,ne=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Le=null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId,ft=P?._redirectEventId,Ot=yield _.tryRedirectSignIn(m);(!Le||Le===ft)&&Ot?.user&&(P=Ot.user,ne=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(ne)try{yield _.beforeStateQueue.runMiddleware(P)}catch(Le){P=N,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Le))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return ie(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(m){var _=this;return(0,u.Z)(function*(){let D=null;try{D=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,u.Z)(function*(){try{yield rr(m)}catch(D){if("auth/network-request-failed"!==D?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function Ve(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,u.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,u.Z)(function*(){const D=m?(0,$.m9)(m):null;return D&&ie(D.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(D&&D._clone(_))})()}_updateCurrentUser(m,_=!1){var D=this;return(0,u.Z)(function*(){if(!D._deleted)return m&&ie(D.tenantId===m.tenantId,D,"tenant-id-mismatch"),_||(yield D.beforeStateQueue.runMiddleware(m)),D.queue((0,u.Z)(function*(){yield D.directlySetCurrentUser(m),D.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,u.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(Qe(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new $.LL("auth","Firebase",m())}onAuthStateChanged(m,_,D){return this.registerStateListener(this.authStateSubscription,m,_,D)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,D){return this.registerStateListener(this.idTokenSubscription,m,_,D)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var D=this;return(0,u.Z)(function*(){const N=yield D.getOrInitRedirectPersistenceManager(_);return null===m?N.removeCurrentUser():N.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const D=m&&Qe(m)||_._popupRedirectResolver;ie(D,_,"argument-error"),_.redirectPersistenceManager=yield Y.create(_,[Qe(D._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,u.Z)(function*(){var D,N;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(D=_._currentUser)||void 0===D?void 0:D._redirectEventId)===m?_._currentUser:(null===(N=_.redirectUser)||void 0===N?void 0:N._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,u.Z)(function*(){if(m===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,D,N){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(ne,this,"internal-error"),ne.then(()=>P(this.currentUser)),"function"==typeof _?m.addObserver(_,D,N):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=kn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,u.Z)(function*(){var _;const D={"X-Client-Version":m.clientVersion};m.app.options.appId&&(D["X-Firebase-gmpid"]=m.app.options.appId);const N=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return N&&(D["X-Firebase-Client"]=N),D})()}}function Mt(b){return(0,$.m9)(b)}class so{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,$.ne)(_=>this.observer=_)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function oo(b,m,_){const D=Mt(b);ie(D._canInitEmulator,D,"emulator-config-failed"),ie(/^https?:\/\//.test(m),D,"invalid-emulator-scheme");const N=!!_?.disableWarnings,P=Gl(m),{host:ne,port:Le}=function ms(b){const m=Gl(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const D=_[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(D);if(N){const P=N[1];return{host:P,port:ii(D.substr(P.length+1))}}{const[P,ne]=D.split(":");return{host:P,port:ii(ne)}}}(m);D.config.emulator={url:`${P}//${ne}${null===Le?"":`:${Le}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ne,port:Le,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function ao(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Gl(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function ii(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class ar{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return le("not implemented")}_getIdTokenResponse(m){return le("not implemented")}_linkToIdToken(m,_){return le("not implemented")}_getReauthenticationResolver(m){return le("not implemented")}}function Tr(b,m){return ri.apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(b,m){return It(b,"POST","/v1/accounts:resetPassword",Nt(b,m))})).apply(this,arguments)}function oc(b,m){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(b,m){return It(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ff(b,m){return ja.apply(this,arguments)}function ja(){return(ja=(0,u.Z)(function*(b,m){return It(b,"POST","/v1/accounts:update",Nt(b,m))})).apply(this,arguments)}function lo(){return(lo=(0,u.Z)(function*(b,m){return pn(b,"POST","/v1/accounts:signInWithPassword",Nt(b,m))})).apply(this,arguments)}function Er(b,m){return uo.apply(this,arguments)}function uo(){return(uo=(0,u.Z)(function*(b,m){return It(b,"POST","/v1/accounts:sendOobCode",Nt(b,m))})).apply(this,arguments)}function _s(b,m){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(b,m){return Er(b,m)})).apply(this,arguments)}function pf(b,m){return di.apply(this,arguments)}function di(){return(di=(0,u.Z)(function*(b,m){return Er(b,m)})).apply(this,arguments)}function Ir(b,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,u.Z)(function*(b,m){return Er(b,m)})).apply(this,arguments)}function ac(b,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,u.Z)(function*(b,m){return Er(b,m)})).apply(this,arguments)}function lc(){return(lc=(0,u.Z)(function*(b,m){return pn(b,"POST","/v1/accounts:signInWithEmailLink",Nt(b,m))})).apply(this,arguments)}function uc(){return(uc=(0,u.Z)(function*(b,m){return pn(b,"POST","/v1/accounts:signInWithEmailLink",Nt(b,m))})).apply(this,arguments)}class ys extends ar{constructor(m,_,D,N=null){super("password",D),this._email=m,this._password=_,this._tenantId=N}static _fromEmailAndPassword(m,_){return new ys(m,_,"password")}static _fromEmailAndCode(m,_,D=null){return new ys(m,_,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return function $a(b,m){return lo.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function lr(b,m){return lc.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:st(m,"internal-error")}})()}_linkToIdToken(m,_){var D=this;return(0,u.Z)(function*(){switch(D.signInMethod){case"password":return oc(m,{idToken:_,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Cg(b,m){return uc.apply(this,arguments)}(m,{idToken:_,email:D._email,oobCode:D._password});default:st(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function co(b,m){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,u.Z)(function*(b,m){return pn(b,"POST","/v1/accounts:signInWithIdp",Nt(b,m))})).apply(this,arguments)}class vs extends ar{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new vs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):st("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:N}=_,P=(0,oe._T)(_,["providerId","signInMethod"]);if(!D||!N)return null;const ne=new vs(D,N);return ne.idToken=P.idToken||void 0,ne.accessToken=P.accessToken||void 0,ne.secret=P.secret,ne.nonce=P.nonce,ne.pendingToken=P.pendingToken||null,ne}_getIdTokenResponse(m){return co(m,this.buildRequest())}_linkToIdToken(m,_){const D=this.buildRequest();return D.idToken=_,co(m,D)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,co(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,$.xO)(_)}return m}}function Ag(b,m){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,u.Z)(function*(b,m){return It(b,"POST","/v1/accounts:sendVerificationCode",Nt(b,m))})).apply(this,arguments)}function Ga(){return(Ga=(0,u.Z)(function*(b,m){return pn(b,"POST","/v1/accounts:signInWithPhoneNumber",Nt(b,m))})).apply(this,arguments)}function Md(){return(Md=(0,u.Z)(function*(b,m){const _=yield pn(b,"POST","/v1/accounts:signInWithPhoneNumber",Nt(b,m));if(_.temporaryProof)throw ti(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Mg={USER_NOT_FOUND:"user-not-found"};function Od(){return(Od=(0,u.Z)(function*(b,m){return pn(b,"POST","/v1/accounts:signInWithPhoneNumber",Nt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Mg)})).apply(this,arguments)}class jo extends ar{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new jo({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new jo({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Ng(b,m){return Ga.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Bo(b,m){return Md.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Og(b,m){return Od.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:D,verificationCode:N}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:D,code:N}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:D,phoneNumber:N,temporaryProof:P}=m;return D||_||N||P?new jo({verificationId:_,verificationCode:D,phoneNumber:N,temporaryProof:P}):null}}class $o{constructor(m){var _,D,N,P,ne,Le;const ft=(0,$.zd)((0,$.pd)(m)),Ot=null!==(_=ft.apiKey)&&void 0!==_?_:null,tn=null!==(D=ft.oobCode)&&void 0!==D?D:null,Sn=function Rd(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=ft.mode)&&void 0!==N?N:null);ie(Ot&&tn&&Sn,"argument-error"),this.apiKey=Ot,this.operation=Sn,this.code=tn,this.continueUrl=null!==(P=ft.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(ne=ft.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(Le=ft.tenantId)&&void 0!==Le?Le:null}static parseLink(m){const _=function xd(b){const m=(0,$.zd)((0,$.pd)(b)).link,_=m?(0,$.zd)((0,$.pd)(m)).deep_link_id:null,D=(0,$.zd)((0,$.pd)(b)).deep_link_id;return(D?(0,$.zd)((0,$.pd)(D)).link:null)||D||_||m||b}(m);try{return new $o(_)}catch{return null}}}let ql=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,D){return ys._fromEmailAndPassword(_,D)}static credentialWithLink(_,D){const N=$o.parseLink(D);return ie(N,"argument-error"),ys._fromEmailAndCode(_,N.code,N.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Bi{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Ho extends Bi{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class js extends Ho{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return ie("providerId"in _&&"signInMethod"in _,"argument-error"),vs._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ie(m.idToken||m.accessToken,"argument-error"),vs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return js.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return js.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:D,oauthTokenSecret:N,pendingToken:P,nonce:ne,providerId:Le}=m;if(!D&&!N&&!_&&!P||!Le)return null;try{return new js(Le)._credential({idToken:_,accessToken:D,nonce:ne,pendingToken:P})}catch{return null}}}let kd=(()=>{class b extends Ho{constructor(){super("facebook.com")}static credential(_){return vs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Zl=(()=>{class b extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(_,D){return vs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:D})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:D,oauthAccessToken:N}=_;if(!D&&!N)return null;try{return b.credential(D,N)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),cc=(()=>{class b extends Ho{constructor(){super("github.com")}static credential(_){return vs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Go extends ar{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return co(m,this.buildRequest())}_linkToIdToken(m,_){const D=this.buildRequest();return D.idToken=_,co(m,D)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,co(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:N,pendingToken:P}=_;return D&&N&&P&&D===N?new Go(D,P):null}static _create(m,_){return new Go(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Sr extends Bi{constructor(m){ie(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Sr.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Sr.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=Go.fromJSON(m);return ie(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:D}=m;if(!_||!D)return null;try{return Go._create(D,_)}catch{return null}}}let bs=(()=>{class b extends Ho{constructor(){super("twitter.com")}static credential(_,D){return vs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:D})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:D,oauthTokenSecret:N}=_;if(!D||!N)return null;try{return b.credential(D,N)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function cr(b,m){return ho.apply(this,arguments)}function ho(){return(ho=(0,u.Z)(function*(b,m){return pn(b,"POST","/v1/accounts:signUp",Nt(b,m))})).apply(this,arguments)}class Ar{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,D,N=!1){return(0,u.Z)(function*(){const P=yield Bt._fromIdTokenResponse(m,D,N),ne=qo(D);return new Ar({user:P,providerId:ne,_tokenResponse:D,operationType:_})})()}static _forOperation(m,_,D){return(0,u.Z)(function*(){yield m._updateTokensIfNecessary(D,!0);const N=qo(D);return new Ar({user:m,providerId:N,_tokenResponse:D,operationType:_})})()}}function qo(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Rg(b){return dc.apply(this,arguments)}function dc(){return(dc=(0,u.Z)(function*(b){var m;const _=Mt(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new Ar({user:_.currentUser,providerId:null,operationType:"signIn"});const D=yield cr(_,{returnSecureToken:!0}),N=yield Ar._fromIdTokenResponse(_,"signIn",D,!0);return yield _._updateCurrentUser(N.user),N})).apply(this,arguments)}class qn extends $.ZR{constructor(m,_,D,N){var P;super(_.code,_.message),this.operationType=D,this.user=N,Object.setPrototypeOf(this,qn.prototype),this.customData={appName:m.name,tenantId:null!==(P=m.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(m,_,D,N){return new qn(m,_,D,N)}}function Fd(b,m,_,D){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?qn._fromErrorAndOperation(b,P,m,D):P})}function gf(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Ur(b,m){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,u.Z)(function*(b,m){const _=(0,$.m9)(b);yield Jr(!0,_,m);const{providerUserInfo:D}=yield rt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),N=gf(D||[]);return _.providerData=_.providerData.filter(P=>N.has(P.providerId)),N.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function zl(b,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,u.Z)(function*(b,m,_=!1){const D=yield Ht(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return Ar._forOperation(b,"link",D)})).apply(this,arguments)}function Jr(b,m,_){return hn.apply(this,arguments)}function hn(){return(hn=(0,u.Z)(function*(b,m,_){yield rr(m);const N=!1===b?"provider-already-linked":"no-such-provider";ie(gf(m.providerData).has(_)===b,m.auth,N)})).apply(this,arguments)}function hc(b,m){return $s.apply(this,arguments)}function $s(){return($s=(0,u.Z)(function*(b,m,_=!1){const{auth:D}=b,N="reauthenticate";try{const P=yield Ht(b,Fd(D,N,m,b),_);ie(P.idToken,D,"internal-error");const ne=Ct(P.idToken);ie(ne,D,"internal-error");const{sub:Le}=ne;return ie(b.uid===Le,D,"user-mismatch"),Ar._forOperation(b,N,P)}catch(P){throw"auth/user-not-found"===P?.code&&st(D,"user-mismatch"),P}})).apply(this,arguments)}function fc(b,m){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,u.Z)(function*(b,m,_=!1){const D="signIn",N=yield Fd(b,D,m),P=yield Ar._fromIdTokenResponse(b,D,N);return _||(yield b._updateCurrentUser(P.user)),P})).apply(this,arguments)}function qa(b,m){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,u.Z)(function*(b,m){return fc(Mt(b),m)})).apply(this,arguments)}function qt(b,m){return Za.apply(this,arguments)}function Za(){return(Za=(0,u.Z)(function*(b,m){const _=(0,$.m9)(b);return yield Jr(!1,_,m.providerId),zl(_,m)})).apply(this,arguments)}function xg(b,m){return za.apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(b,m){return hc((0,$.m9)(b),m)})).apply(this,arguments)}function Ld(b,m){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,u.Z)(function*(b,m){return pn(b,"POST","/v1/accounts:signInWithCustomToken",Nt(b,m))})).apply(this,arguments)}function fo(b,m){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,u.Z)(function*(b,m){const _=Mt(b),D=yield Ld(_,{token:m,returnSecureToken:!0}),N=yield Ar._fromIdTokenResponse(_,"signIn",D);return yield _._updateCurrentUser(N.user),N})).apply(this,arguments)}class zo{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?xe._fromServerResponse(m,_):st(m,"internal-error")}}class xe extends zo{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new xe(_)}}function nn(b,m,_){var D;ie((null===(D=_.url)||void 0===D?void 0:D.length)>0,b,"invalid-continue-uri"),ie(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ie(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(ie(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function mf(b,m,_){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(b,m,_){const D=(0,$.m9)(b),N={requestType:"PASSWORD_RESET",email:m};_&&nn(D,N,_),yield pf(D,N)})).apply(this,arguments)}function hi(b,m,_){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(b,m,_){yield Tr((0,$.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Wl(b,m){return sr.apply(this,arguments)}function sr(){return(sr=(0,u.Z)(function*(b,m){yield ff((0,$.m9)(b),{oobCode:m})})).apply(this,arguments)}function Kl(b,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(b,m){const _=(0,$.m9)(b),D=yield Tr(_,{oobCode:m}),N=D.requestType;switch(ie(N,_,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(D.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(D.mfaInfo,_,"internal-error");default:ie(D.email,_,"internal-error")}let P=null;return D.mfaInfo&&(P=zo._fromServerResponse(Mt(_),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:P},operation:N}})).apply(this,arguments)}function _f(b,m){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,u.Z)(function*(b,m){const{data:_}=yield Kl((0,$.m9)(b),m);return _.email})).apply(this,arguments)}function kg(b,m,_){return po.apply(this,arguments)}function po(){return(po=(0,u.Z)(function*(b,m,_){const D=Mt(b),N=yield cr(D,{returnSecureToken:!0,email:m,password:_}),P=yield Ar._fromIdTokenResponse(D,"signIn",N);return yield D._updateCurrentUser(P.user),P})).apply(this,arguments)}function fi(b,m,_){return qa((0,$.m9)(b),ql.credential(m,_))}function Xr(b,m,_){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,u.Z)(function*(b,m,_){const D=(0,$.m9)(b),N={requestType:"EMAIL_SIGNIN",email:m};ie(_.handleCodeInApp,D,"argument-error"),_&&nn(D,N,_),yield Ir(D,N)})).apply(this,arguments)}function Ja(b,m){return"EMAIL_SIGNIN"===$o.parseLink(m)?.operation}function ws(b,m,_){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,u.Z)(function*(b,m,_){const D=(0,$.m9)(b),N=ql.credentialWithLink(m,_||ae());return ie(N._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),qa(D,N)})).apply(this,arguments)}function pc(b,m){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,u.Z)(function*(b,m){return It(b,"POST","/v1/accounts:createAuthUri",Nt(b,m))})).apply(this,arguments)}function yf(b,m){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,u.Z)(function*(b,m){const D={identifier:m,continueUri:ge()?ae():"http://localhost"},{signinMethods:N}=yield pc((0,$.m9)(b),D);return N||[]})).apply(this,arguments)}function gc(b,m){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,u.Z)(function*(b,m){const _=(0,$.m9)(b),N={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&nn(_.auth,N,m);const{email:P}=yield _s(_.auth,N);P!==b.email&&(yield b.reload())})).apply(this,arguments)}function mc(b,m,_){return el.apply(this,arguments)}function el(){return(el=(0,u.Z)(function*(b,m,_){const D=(0,$.m9)(b),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&nn(D.auth,P,_);const{email:ne}=yield ac(D.auth,P);ne!==b.email&&(yield b.reload())})).apply(this,arguments)}function Bd(b,m){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(b,m){return It(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function vf(b,m){return tl.apply(this,arguments)}function tl(){return(tl=(0,u.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const D=(0,$.m9)(b),P={idToken:yield D.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},ne=yield Ht(D,Bd(D.auth,P));D.displayName=ne.displayName||null,D.photoURL=ne.photoUrl||null;const Le=D.providerData.find(({providerId:ft})=>"password"===ft);Le&&(Le.displayName=D.displayName,Le.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ne)})).apply(this,arguments)}function bf(b,m){return Hs((0,$.m9)(b),m,null)}function jd(b,m){return Hs((0,$.m9)(b),null,m)}function Hs(b,m,_){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,u.Z)(function*(b,m,_){const{auth:D}=b,P={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(P.email=m),_&&(P.password=_);const ne=yield Ht(b,oc(D,P));yield b._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class $n{constructor(m,_,D={}){this.isNewUser=m,this.providerId=_,this.profile=D}}class Ds extends $n{constructor(m,_,D,N){super(m,_,D),this.username=N}}class Un extends $n{constructor(m,_){super(m,"facebook.com",_)}}class Hd extends Ds{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class _c extends $n{constructor(m,_){super(m,"google.com",_)}}class wf extends Ds{constructor(m,_,D){super(m,"twitter.com",_,D)}}function yc(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function $d(b){var m,_;if(!b)return null;const{providerId:D}=b,N=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},P=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!D&&b?.idToken){const ne=null===(_=null===(m=Ct(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(ne)return new $n(P,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!D)return null;switch(D){case"facebook.com":return new Un(P,N);case"github.com":return new Hd(P,N);case"google.com":return new _c(P,N);case"twitter.com":return new wf(P,N,b.screenName||null);case"custom":case"anonymous":return new $n(P,null);default:return new $n(P,D,N)}}(_)}class Mr{constructor(m,_,D){this.type=m,this.credential=_,this.auth=D}static _fromIdtoken(m,_){return new Mr("enroll",m,_)}static _fromMfaPendingCredential(m){return new Mr("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,D;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Mr._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(D=m.multiFactorSession)&&void 0!==D&&D.idToken)return Mr._fromIdtoken(m.multiFactorSession.idToken)}return null}}class wc{constructor(m,_,D){this.session=m,this.hints=_,this.signInResolver=D}static _fromError(m,_){const D=Mt(m),N=_.customData._serverResponse,P=(N.mfaInfo||[]).map(Le=>zo._fromServerResponse(D,Le));ie(N.mfaPendingCredential,D,"internal-error");const ne=Mr._fromMfaPendingCredential(N.mfaPendingCredential);return new wc(ne,P,function(){var Le=(0,u.Z)(function*(ft){const Ot=yield ft._process(D,ne);delete N.mfaInfo,delete N.mfaPendingCredential;const tn=Object.assign(Object.assign({},N),{idToken:Ot.idToken,refreshToken:Ot.refreshToken});switch(_.operationType){case"signIn":const Sn=yield Ar._fromIdTokenResponse(D,_.operationType,tn);return yield D._updateCurrentUser(Sn.user),Sn;case"reauthenticate":return ie(_.user,D,"internal-error"),Ar._forOperation(_.user,_.operationType,tn);default:st(D,"internal-error")}});return function(ft){return Le.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,u.Z)(function*(){return _.signInResolver(m)})()}}function Zd(b,m){var _;const D=(0,$.m9)(b),N=m;return ie(m.customData.operationType,D,"argument-error"),ie(null===(_=N.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,D,"argument-error"),wc._fromError(D,N)}function Yn(b,m){return It(b,"POST","/v2/accounts/mfaEnrollment:start",Nt(b,m))}class Xl{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(D=>zo._fromServerResponse(m.auth,D)))})}static _fromUser(m){return new Xl(m)}getSession(){var m=this;return(0,u.Z)(function*(){return Mr._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var D=this;return(0,u.Z)(function*(){const N=m,P=yield D.getSession(),ne=yield Ht(D.user,N._process(D.user.auth,P,_));return yield D.user._updateTokensIfNecessary(ne),D.user.reload()})()}unenroll(m){var _=this;return(0,u.Z)(function*(){const D="string"==typeof m?m:m.uid,N=yield _.user.getIdToken();try{const P=yield Ht(_.user,function Jl(b,m){return It(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Nt(b,m))}(_.user.auth,{idToken:N,mfaEnrollmentId:D}));_.enrolledFactors=_.enrolledFactors.filter(({uid:ne})=>ne!==D),yield _.user._updateTokensIfNecessary(P),yield _.user.reload()}catch(P){throw P}})()}}const Df=new WeakMap;function nl(b){const m=(0,$.m9)(b);return Df.has(m)||Df.set(m,Xl._fromUser(m)),Df.get(m)}const Ts="__sak";class il{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Ts,"1"),this.storage.removeItem(Ts),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const pi=(()=>{class b extends il{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,D)=>this.onStorageEvent(_,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dc(){const b=(0,$.z$)();return V(b)||$e(b)}()&&function gs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Dn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const D of Object.keys(this.listeners)){const N=this.storage.getItem(D),P=this.localCache[D];N!==P&&_(D,P,N)}}onStorageEvent(_,D=!1){if(!_.key)return void this.forAllChangedKeys((Le,ft,Ot)=>{this.notifyListeners(Le,Ot)});const N=_.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Le=this.storage.getItem(N);if(_.newValue!==Le)null!==_.newValue?this.storage.setItem(N,_.newValue):this.storage.removeItem(N);else if(this.localCache[N]===_.newValue&&!D)return}const P=()=>{const Le=this.storage.getItem(N);!D&&this.localCache[N]===Le||this.notifyListeners(N,Le)},ne=this.storage.getItem(N);!function Zt(){return(0,$.w1)()&&10===document.documentMode}()||ne===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,D){this.localCache[_]=D;const N=this.listeners[_];if(N)for(const P of Array.from(N))P(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,D,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:D,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,D){var N=()=>super._set,P=this;return(0,u.Z)(function*(){yield N().call(P,_,D),P.localCache[_]=JSON.stringify(D)})()}_get(_){var D=()=>super._get,N=this;return(0,u.Z)(function*(){const P=yield D().call(N,_);return N.localCache[_]=JSON.stringify(P),P})()}_remove(_){var D=()=>super._remove,N=this;return(0,u.Z)(function*(){yield D().call(N,_),delete N.localCache[_]})()}}return b.type="LOCAL",b})(),qs=(()=>{class b extends il{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,D){}_removeListener(_,D){}}return b.type="SESSION",b})();let sl=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const D=this.receivers.find(P=>P.isListeningto(_));if(D)return D;const N=new b(_);return this.receivers.push(N),N}isListeningto(_){return this.eventTarget===_}handleEvent(_){var D=this;return(0,u.Z)(function*(){const N=_,{eventId:P,eventType:ne,data:Le}=N.data,ft=D.handlersMap[ne];if(!ft?.size)return;N.ports[0].postMessage({status:"ack",eventId:P,eventType:ne});const Ot=Array.from(ft).map(function(){var Sn=(0,u.Z)(function*(Or){return Or(N.origin,Le)});return function(Or){return Sn.apply(this,arguments)}}()),tn=yield function Tc(b){return Promise.all(b.map(function(){var m=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(D){return{fulfilled:!1,reason:D}}});return function(_){return m.apply(this,arguments)}}()))}(Ot);N.ports[0].postMessage({status:"done",eventId:P,eventType:ne,response:tn})})()}_subscribe(_,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(D)}_unsubscribe(_,D){this.handlersMap[_]&&D&&this.handlersMap[_].delete(D),(!D||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function na(b="",m=10){let _="";for(let D=0;D<m;D++)_+=Math.floor(10*Math.random());return b+_}class If{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,D=50){var N=this;return(0,u.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let ne,Le;return new Promise((ft,Ot)=>{const tn=na("",20);P.port1.start();const Sn=setTimeout(()=>{Ot(new Error("unsupported_event"))},D);Le={messageChannel:P,onMessage(Or){const $r=Or;if($r.data.eventId===tn)switch($r.data.status){case"ack":clearTimeout(Sn),ne=setTimeout(()=>{Ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),ft($r.data.response);break;default:clearTimeout(Sn),clearTimeout(ne),Ot(new Error("invalid_response"))}}},N.handlers.add(Le),P.port1.addEventListener("message",Le.onMessage),N.target.postMessage({eventType:m,eventId:tn,data:_},[P.port2])}).finally(()=>{Le&&N.removeMessageHandler(Le)})})()}}function Qn(){return window}function dr(){return typeof Qn().WorkerGlobalScope<"u"&&"function"==typeof Qn().importScripts}function Es(){return(Es=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ol="firebaseLocalStorageDb",al="firebaseLocalStorage",ia="fbase_key";class mo{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ra(b,m){return b.transaction([al],m?"readwrite":"readonly").objectStore(al)}function tu(){const b=indexedDB.open(ol,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const D=b.result;try{D.createObjectStore(al,{keyPath:ia})}catch(N){_(N)}}),b.addEventListener("success",(0,u.Z)(function*(){const D=b.result;D.objectStoreNames.contains(al)?m(D):(D.close(),yield function Yd(){const b=indexedDB.deleteDatabase(ol);return new mo(b).toPromise()}(),m(yield tu()))}))})}function ll(b,m,_){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(b,m,_){const D=ra(b,!0).put({[ia]:m,value:_});return new mo(D).toPromise()})).apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(b,m){const _=ra(b,!1).get(m),D=yield new mo(_).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function nu(b,m){const _=ra(b,!0).delete(m);return new mo(_).toPromise()}const aa=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield tu()),_.db})()}_withRetries(_){var D=this;return(0,u.Z)(function*(){let N=0;for(;;)try{const P=yield D._openDb();return yield _(P)}catch(P){if(N++>3)throw P;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return dr()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=sl._getInstance(function eu(){return dr()?self:null}()),_.receiver._subscribe("keyChanged",function(){var D=(0,u.Z)(function*(N,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(N,P){return D.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var D=(0,u.Z)(function*(N,P){return["keyChanged"]});return function(N,P){return D.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var D,N;if(_.activeServiceWorker=yield function Kd(){return Es.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new If(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);!P||(null===(D=P[0])||void 0===D?void 0:D.fulfilled)&&(null===(N=P[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var D=this;return(0,u.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Ec(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:_},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield tu();return yield ll(_,Ts,"1"),yield nu(_,Ts),!0}catch{}return!1})()}_withPendingWrite(_){var D=this;return(0,u.Z)(function*(){D.pendingWrites++;try{yield _()}finally{D.pendingWrites--}})()}_set(_,D){var N=this;return(0,u.Z)(function*(){return N._withPendingWrite((0,u.Z)(function*(){return yield N._withRetries(P=>ll(P,_,D)),N.localCache[_]=D,N.notifyServiceWorker(_)}))})()}_get(_){var D=this;return(0,u.Z)(function*(){const N=yield D._withRetries(P=>function Cf(b,m){return sa.apply(this,arguments)}(P,_));return D.localCache[_]=N,N})()}_remove(_){var D=this;return(0,u.Z)(function*(){return D._withPendingWrite((0,u.Z)(function*(){return yield D._withRetries(N=>nu(N,_)),delete D.localCache[_],D.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const D=yield _._withRetries(ne=>{const Le=ra(ne,!1).getAll();return new mo(Le).toPromise()});if(!D)return[];if(0!==_.pendingWrites)return[];const N=[],P=new Set;for(const{fbase_key:ne,value:Le}of D)P.add(ne),JSON.stringify(_.localCache[ne])!==JSON.stringify(Le)&&(_.notifyListeners(ne,Le),N.push(ne));for(const ne of Object.keys(_.localCache))_.localCache[ne]&&!P.has(ne)&&(_.notifyListeners(ne,null),N.push(ne));return N})()}notifyListeners(_,D){this.localCache[_]=D;const N=this.listeners[_];if(N)for(const P of Array.from(N))P(D)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Sf(b,m){return It(b,"POST","/v2/accounts/mfaSignIn:start",Nt(b,m))}function zi(){return(zi=(0,u.Z)(function*(b){return(yield It(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _o(b){return new Promise((m,_)=>{const D=document.createElement("script");D.setAttribute("src",b),D.onload=m,D.onerror=N=>{const P=Oe("internal-error");P.customData=N,_(P)},D.type="text/javascript",D.charset="UTF-8",function ua(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(D)})}function ca(b){return`__${b}${Math.floor(1e6*Math.random())}`}const ts=1e12;class Qd{constructor(m){this.auth=m,this.counter=ts,this._widgets=new Map}render(m,_){const D=this.counter;return this._widgets.set(D,new Fn(m,this.auth.name,_||{})),this.counter++,D}reset(m){var _;const D=m||ts;null===(_=this._widgets.get(D))||void 0===_||_.delete(),this._widgets.delete(D)}getResponse(m){var _;return(null===(_=this._widgets.get(m||ts))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,u.Z)(function*(){var D;return null===(D=_._widgets.get(m||ts))||void 0===D||D.execute(),""})()}}class Fn{constructor(m,_,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof m?document.getElementById(m):m;ie(N,"argument-error",{appName:_}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pg(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<b;D++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Af=ca("rcb"),hw=new Te(3e4,6e4);class Py{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Qn().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return ie(function Nf(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Qn().grecaptcha):new Promise((D,N)=>{const P=Qn().setTimeout(()=>{N(Oe(m,"network-request-failed"))},hw.get());Qn()[Af]=()=>{Qn().clearTimeout(P),delete Qn()[Af];const Le=Qn().grecaptcha;if(!Le)return void N(Oe(m,"internal-error"));const ft=Le.render;Le.render=(Ot,tn)=>{const Sn=ft(Ot,tn);return this.counter++,Sn},this.hostLanguage=_,D(Le)},_o(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Af,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),N(Oe(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Qn().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fw{load(m){return(0,u.Z)(function*(){return new Qd(m)})()}clearedOneInstance(){}}const ha="recaptcha",Fy={theme:"light",type:"image"};class Fg{constructor(m,_=Object.assign({},Fy),D){this.parameters=_,this.type=ha,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mt(D),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof m?document.getElementById(m):m;ie(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fw:new Py,this.validateStartingState()}verify(){var m=this;return(0,u.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),D=m.getAssertedRecaptcha();return D.getResponse(_)||new Promise(P=>{const ne=Le=>{!Le||(m.tokenChangeListeners.delete(ne),P(Le))};m.tokenChangeListeners.add(ne),m.isInvisible&&D.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(D=>D(_)),"function"==typeof m)m(_);else if("string"==typeof m){const D=Qn()[m];"function"==typeof D&&D(_)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,u.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const D=document.createElement("div");_.appendChild(D),_=D}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,u.Z)(function*(){ie(ge()&&!dr(),m.auth,"internal-error"),yield function Ri(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function iu(b){return zi.apply(this,arguments)}(m.auth);ie(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bn{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=jo._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Br(b,m,_){return gt.apply(this,arguments)}function gt(){return(gt=(0,u.Z)(function*(b,m,_){const D=Mt(b),N=yield Jn(D,m,(0,$.m9)(_));return new bn(N,P=>qa(D,P))})).apply(this,arguments)}function gn(b,m,_){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(b,m,_){const D=(0,$.m9)(b);yield Jr(!1,D,"phone");const N=yield Jn(D.auth,m,(0,$.m9)(_));return new bn(N,P=>qt(D,P))})).apply(this,arguments)}function Is(b,m,_){return yo.apply(this,arguments)}function yo(){return(yo=(0,u.Z)(function*(b,m,_){const D=(0,$.m9)(b),N=yield Jn(D.auth,m,(0,$.m9)(_));return new bn(N,P=>xg(D,P))})).apply(this,arguments)}function Jn(b,m,_){return vo.apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(b,m,_){var D;const N=yield _.verify();try{let P;if(ie("string"==typeof N,b,"argument-error"),ie(_.type===ha,b,"argument-error"),P="string"==typeof m?{phoneNumber:m}:m,"session"in P){const ne=P.session;if("phoneNumber"in P)return ie("enroll"===ne.type,b,"internal-error"),(yield Yn(b,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{ie("signin"===ne.type,b,"internal-error");const Le=(null===(D=P.multiFactorHint)||void 0===D?void 0:D.uid)||P.multiFactorUid;return ie(Le,b,"missing-multi-factor-info"),(yield Sf(b,{mfaPendingCredential:ne.credential,mfaEnrollmentId:Le,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield Ag(b,{phoneNumber:P.phoneNumber,recaptchaToken:N});return ne}}finally{_._reset()}})).apply(this,arguments)}function Jd(b,m){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,u.Z)(function*(b,m){yield zl((0,$.m9)(b),m)})).apply(this,arguments)}let Mf=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=Mt(_)}verifyPhoneNumber(_,D){return Jn(this.auth,_,(0,$.m9)(D))}static credential(_,D){return jo._fromVerification(_,D)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:D,temporaryProof:N}=_;return D&&N?jo._fromTokenResponse(D,N):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function zs(b,m){return m?Qe(m):(ie(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class eh extends ar{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return co(m,this._buildIdpRequest())}_linkToIdToken(m,_){return co(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return co(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Ws(b){return fc(b.auth,new eh(b),b.bypassAuthState)}function ht(b){const{auth:m,user:_}=b;return ie(_,m,"internal-error"),hc(_,new eh(b),b.bypassAuthState)}function Sc(b){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(b){const{auth:m,user:_}=b;return ie(_,m,"internal-error"),zl(_,new eh(b),b.bypassAuthState)})).apply(this,arguments)}class ul{constructor(m,_,D,N,P=!1){this.auth=m,this.resolver=D,this.user=N,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,u.Z)(function*(D,N){m.pendingPromise={resolve:D,reject:N};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(P){m.reject(P)}});return function(D,N){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,u.Z)(function*(){const{urlResponse:D,sessionId:N,postBody:P,tenantId:ne,error:Le,type:ft}=m;if(Le)return void _.reject(Le);const Ot={auth:_.auth,requestUri:D,sessionId:N,tenantId:ne||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ft)(Ot))}catch(tn){_.reject(tn)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Ws;case"linkViaPopup":case"linkViaRedirect":return Sc;case"reauthViaPopup":case"reauthViaRedirect":return ht;default:st(this.auth,"internal-error")}}resolve(m){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cl=new Te(2e3,1e4);function Vn(b,m,_){return dl.apply(this,arguments)}function dl(){return(dl=(0,u.Z)(function*(b,m,_){const D=Mt(b);De(b,m,Bi);const N=zs(D,_);return new ru(D,"signInViaPopup",m,N).executeNotNull()})).apply(this,arguments)}function fa(b,m,_){return hl.apply(this,arguments)}function hl(){return(hl=(0,u.Z)(function*(b,m,_){const D=(0,$.m9)(b);De(D.auth,m,Bi);const N=zs(D.auth,_);return new ru(D.auth,"reauthViaPopup",m,N,D).executeNotNull()})).apply(this,arguments)}function Of(b,m,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,u.Z)(function*(b,m,_){const D=(0,$.m9)(b);De(D.auth,m,Bi);const N=zs(D.auth,_);return new ru(D.auth,"linkViaPopup",m,N,D).executeNotNull()})).apply(this,arguments)}let ru=(()=>{class b extends ul{constructor(_,D,N,P,ne){super(_,D,P,ne),this.provider=N,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const D=yield _.execute();return ie(D,_.auth,"internal-error"),D})()}onExecution(){var _=this;return(0,u.Z)(function*(){_e(1===_.filter.length,"Popup operations only handle one event");const D=na();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],D),_.authWindow.associatedEvent=D,_.resolver._originValidation(_.auth).catch(N=>{_.reject(N)}),_.resolver._isIframeWebStorageSupported(_.auth,N=>{N||_.reject(Oe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var D,N;this.pollId=null!==(N=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Oe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,cl.get())};_()}}return b.currentPopupAction=null,b})();const hr=new Map;class jr extends ul{constructor(m,_,D=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,D),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,u.Z)(function*(){let D=hr.get(_.auth._key());if(!D){try{const P=(yield function su(b,m){return Wi.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;D=()=>Promise.resolve(P)}catch(N){D=()=>Promise.reject(N)}hr.set(_.auth._key(),D)}return _.bypassAuthState||hr.set(_.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,D=this;return(0,u.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(D,m);if("unknown"!==m.type){if(m.eventId){const N=yield D.auth._redirectUserForId(m.eventId);if(N)return D.user=N,_().call(D,m);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Wi(){return(Wi=(0,u.Z)(function*(b,m){const _=Do(m),D=wo(b);if(!(yield D._isAvailable()))return!1;const N="true"===(yield D._get(_));return yield D._remove(_),N})).apply(this,arguments)}function bo(b,m){return xi.apply(this,arguments)}function xi(){return(xi=(0,u.Z)(function*(b,m){return wo(b)._set(Do(m),"true")})).apply(this,arguments)}function th(){hr.clear()}function Mn(b,m){hr.set(b._key(),m)}function wo(b){return Qe(b._redirectPersistence)}function Do(b){return H("pendingRedirect",b.config.apiKey,b.name)}function Xn(b,m,_){return function sn(b,m,_){return is.apply(this,arguments)}(b,m,_)}function is(){return(is=(0,u.Z)(function*(b,m,_){const D=Mt(b);De(b,m,Bi),yield D._initializationPromise;const N=zs(D,_);return yield bo(N,D),N._openRedirect(D,m,"signInViaRedirect")})).apply(this,arguments)}function gi(b,m,_){return function I(b,m,_){return C.apply(this,arguments)}(b,m,_)}function C(){return(C=(0,u.Z)(function*(b,m,_){const D=(0,$.m9)(b);De(D.auth,m,Bi),yield D.auth._initializationPromise;const N=zs(D.auth,_);yield bo(N,D.auth);const P=yield At(D);return N._openRedirect(D.auth,m,"reauthViaRedirect",P)})).apply(this,arguments)}function M(b,m,_){return function j(b,m,_){return Q.apply(this,arguments)}(b,m,_)}function Q(){return(Q=(0,u.Z)(function*(b,m,_){const D=(0,$.m9)(b);De(D.auth,m,Bi),yield D.auth._initializationPromise;const N=zs(D.auth,_);yield Jr(!1,D,m.providerId),yield bo(N,D.auth);const P=yield At(D);return N._openRedirect(D.auth,m,"linkViaRedirect",P)})).apply(this,arguments)}function se(b,m){return ve.apply(this,arguments)}function ve(){return(ve=(0,u.Z)(function*(b,m){return yield Mt(b)._initializationPromise,et(b,m,!1)})).apply(this,arguments)}function et(b,m){return mt.apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(b,m,_=!1){const D=Mt(b),N=zs(D,m),ne=yield new jr(D,N,_).execute();return ne&&!_&&(delete ne.user._redirectEventId,yield D._persistUserIfCurrent(ne.user),yield D._setRedirectUser(null,m)),ne})).apply(this,arguments)}function At(b){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(b){const m=na(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class ji{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(m,D)&&(_=!0,this.sendToConsumer(m,D),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Xt(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return To(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var D;if(m.error&&!To(m)){const N=(null===(D=m.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";_.onError(Oe(this.auth,N))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const D=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&D}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(si(m))}saveEventToCache(m){this.cachedEventUids.add(si(m)),this.lastProcessedEventTime=Date.now()}}function si(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function To({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function Ki(b){return ki.apply(this,arguments)}function ki(){return(ki=(0,u.Z)(function*(b,m={}){return It(b,"GET","/v1/projects",m)})).apply(this,arguments)}const fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rf=/^https?/;function rs(){return(rs=(0,u.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Ki(b);for(const _ of m)try{if(Ly(_))return}catch{}st(b,"unauthorized-domain")})).apply(this,arguments)}function Ly(b){const m=ae(),{protocol:_,hostname:D}=new URL(m);if(b.startsWith("chrome-extension://")){const ne=new URL(b);return""===ne.hostname&&""===D?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&ne.hostname===D}if(!Rf.test(_))return!1;if(fr.test(b))return D===b;const N=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(D)}const Ug=new Te(3e4,6e4);function xf(){const b=Qn().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let ei=null;function Eo(b){return ei=ei||function pw(b){return new Promise((m,_)=>{var D,N,P;function ne(){xf(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{xf(),_(Oe(b,"network-request-failed"))},timeout:Ug.get()})}if(null!==(N=null===(D=Qn().gapi)||void 0===D?void 0:D.iframes)&&void 0!==N&&N.Iframe)m(gapi.iframes.getContext());else{if(null===(P=Qn().gapi)||void 0===P||!P.load){const Le=ca("iframefcb");return Qn()[Le]=()=>{gapi.load?ne():_(Oe(b,"network-request-failed"))},_o(`https://apis.google.com/js/api.js?onload=${Le}`).catch(ft=>_(ft))}ne()}}).catch(m=>{throw ei=null,m})}(b),ei}const kf=new Te(5e3,15e3),Pf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vy(b){const m=b.config;ie(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?Dt(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,D={apiKey:m.apiKey,appName:b.name,v:k.SDK_VERSION},N=Uy.get(b.config.apiHost);N&&(D.eid=N);const P=b._getFrameworks();return P.length&&(D.fw=P.join(",")),`${_}?${(0,$.xO)(D).slice(1)}`}function Ac(){return Ac=(0,u.Z)(function*(b){const m=yield Eo(b),_=Qn().gapi;return ie(_,b,"internal-error"),m.open({where:document.body,url:Vy(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pf,dontclear:!0},D=>new Promise(function(){var N=(0,u.Z)(function*(P,ne){yield D.restyle({setHideOnLeave:!1});const Le=Oe(b,"network-request-failed"),ft=Qn().setTimeout(()=>{ne(Le)},kf.get());function Ot(){Qn().clearTimeout(ft),P(D)}D.ping(Ot).then(Ot,()=>{ne(Le)})});return function(P,ne){return N.apply(this,arguments)}}()))}),Ac.apply(this,arguments)}const By={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Nc{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fl(b,m,_,D,N,P){ie(b.config.authDomain,b,"auth-domain-config-required"),ie(b.config.apiKey,b,"invalid-api-key");const ne={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:D,v:k.SDK_VERSION,eventId:N};if(m instanceof Bi){m.setDefaultLanguage(b.languageCode),ne.providerId=m.providerId||"",(0,$.xb)(m.getCustomParameters())||(ne.customParameters=JSON.stringify(m.getCustomParameters()));for(const[ft,Ot]of Object.entries(P||{}))ne[ft]=Ot}if(m instanceof Ho){const ft=m.getScopes().filter(Ot=>""!==Ot);ft.length>0&&(ne.scopes=ft.join(","))}b.tenantId&&(ne.tid=b.tenantId);const Le=ne;for(const ft of Object.keys(Le))void 0===Le[ft]&&delete Le[ft];return`${function jg({config:b}){return b.emulator?Dt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,$.xO)(Le).slice(1)}`}const pl="webStorageSupport",ss=class uu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qs,this._completeRedirectFn=et,this._overrideRedirectResult=Mn}_openPopup(m,_,D,N){var P=this;return(0,u.Z)(function*(){var ne;_e(null===(ne=P.eventManagers[m._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const Le=fl(m,_,D,ae(),N);return function mw(b,m,_,D=500,N=600){const P=Math.max((window.screen.availHeight-N)/2,0).toString(),ne=Math.max((window.screen.availWidth-D)/2,0).toString();let Le="";const ft=Object.assign(Object.assign({},By),{width:D.toString(),height:N.toString(),top:P,left:ne}),Ot=(0,$.z$)().toLowerCase();_&&(Le=ee(Ot)?"_blank":_),O(Ot)&&(m=m||"http://localhost",ft.scrollbars="yes");const tn=Object.entries(ft).reduce((Or,[$r,gl])=>`${Or}${$r}=${gl},`,"");if(function wn(b=(0,$.z$)()){var m;return $e(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Ot)&&"_self"!==Le)return function lu(b,m){const _=document.createElement("a");_.href=b,_.target=m;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(D)}(m||"",Le),new Nc(null);const Sn=window.open(m||"",Le,tn);ie(Sn,b,"popup-blocked");try{Sn.focus()}catch{}return new Nc(Sn)}(m,Le,na())})()}_openRedirect(m,_,D,N){var P=this;return(0,u.Z)(function*(){return yield P._originValidation(m),function Wd(b){Qn().location.href=b}(fl(m,_,D,ae(),N)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:N,promise:P}=this.eventManagers[_];return N?Promise.resolve(N):(_e(P,"If manager is not set, promise should be"),P)}const D=this.initAndGetManager(m);return this.eventManagers[_]={promise:D},D.catch(()=>{delete this.eventManagers[_]}),D}initAndGetManager(m){var _=this;return(0,u.Z)(function*(){const D=yield function Bg(b){return Ac.apply(this,arguments)}(m),N=new ji(m);return D.register("authEvent",P=>(ie(P?.authEvent,m,"invalid-auth-event"),{status:N.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:N},_.iframes[m._key()]=D,N})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(pl,{type:pl},N=>{var P;const ne=null===(P=N?.[0])||void 0===P?void 0:P[pl];void 0!==ne&&_(!!ne),st(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Lg(b){return rs.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return Dn()||V()||$e()}};class Lf extends class nh{constructor(m){this.factorId=m}_process(m,_,D){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,D);case"signin":return this._finalizeSignIn(m,_.credential);default:return le("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Lf(m)}_finalizeEnroll(m,_,D){return function Ql(b,m){return It(b,"POST","/v2/accounts/mfaEnrollment:finalize",Nt(b,m))}(m,{idToken:_,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function la(b,m){return It(b,"POST","/v2/accounts/mfaSignIn:finalize",Nt(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Uf=(()=>{class b{constructor(){}static assertion(_){return Lf._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var cu="@firebase/auth";class $g{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(D=>{m(D?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,$.Pz)("authIdTokenMaxAge"),function Gy(b){(0,k._registerComponent)(new pe.wA("auth",(m,{options:_})=>{const D=m.getProvider("app").getImmediate(),N=m.getProvider("heartbeat"),{apiKey:P,authDomain:ne}=D.options;return((Le,ft)=>{ie(P&&!P.includes(":"),"invalid-api-key",{appName:Le.name}),ie(!ne?.includes(":"),"argument-error",{appName:Le.name});const Ot={apiKey:P,authDomain:ne,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kn(b)},tn=new Uo(Le,ft,Ot);return function it(b,m){const _=m?.persistence||[],D=(Array.isArray(_)?_:[_]).map(Qe);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(D,m?.popupRedirectResolver)}(tn,_),tn})(D,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,D)=>{m.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new pe.wA("auth-internal",m=>{const _=Mt(m.getProvider("auth").getImmediate());return new $g(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(cu,"0.21.3",function Hy(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,k.registerVersion)(cu,"0.21.3","esm2017")}("Browser")},2090:(wt,Se,F)=>{F.d(Se,{$s:()=>lt,BH:()=>Re,G6:()=>we,L:()=>de,LL:()=>vn,P0:()=>nt,Pz:()=>Oe,Sg:()=>De,UG:()=>le,US:()=>pe,ZB:()=>Z,ZR:()=>$t,aH:()=>st,b$:()=>Qe,eu:()=>Ve,hl:()=>Fe,jU:()=>_e,m9:()=>cn,ne:()=>xn,pd:()=>io,r3:()=>ir,ru:()=>Ye,tV:()=>me,uI:()=>ie,vZ:()=>rt,w1:()=>it,xO:()=>Nn,xb:()=>Lr,z$:()=>We,zI:()=>Te,zd:()=>Mi});const re=function(q){const H=[];let Y=0;for(let B=0;B<q.length;B++){let O=q.charCodeAt(B);O<128?H[Y++]=O:O<2048?(H[Y++]=O>>6|192,H[Y++]=63&O|128):55296==(64512&O)&&B+1<q.length&&56320==(64512&q.charCodeAt(B+1))?(O=65536+((1023&O)<<10)+(1023&q.charCodeAt(++B)),H[Y++]=O>>18|240,H[Y++]=O>>12&63|128,H[Y++]=O>>6&63|128,H[Y++]=63&O|128):(H[Y++]=O>>12|224,H[Y++]=O>>6&63|128,H[Y++]=63&O|128)}return H},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,H){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let O=0;O<q.length;O+=3){const V=q[O],ee=O+1<q.length,Be=ee?q[O+1]:0,dt=O+2<q.length,vt=dt?q[O+2]:0;let Gt=(15&Be)<<2|vt>>6,wn=63&vt;dt||(wn=64,ee||(Gt=64)),B.push(Y[V>>2],Y[(3&V)<<4|Be>>4],Y[Gt],Y[wn])}return B.join("")},encodeString(q,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(q):this.encodeByteArray(re(q),H)},decodeString(q,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(q):function(q){const H=[];let Y=0,B=0;for(;Y<q.length;){const O=q[Y++];if(O<128)H[B++]=String.fromCharCode(O);else if(O>191&&O<224){const V=q[Y++];H[B++]=String.fromCharCode((31&O)<<6|63&V)}else if(O>239&&O<365){const dt=((7&O)<<18|(63&q[Y++])<<12|(63&q[Y++])<<6|63&q[Y++])-65536;H[B++]=String.fromCharCode(55296+(dt>>10)),H[B++]=String.fromCharCode(56320+(1023&dt))}else{const V=q[Y++],ee=q[Y++];H[B++]=String.fromCharCode((15&O)<<12|(63&V)<<6|63&ee)}}return H.join("")}(this.decodeStringToByteArray(q,H))},decodeStringToByteArray(q,H){this.init_();const Y=H?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let O=0;O<q.length;){const V=Y[q.charAt(O++)],Be=O<q.length?Y[q.charAt(O)]:0;++O;const vt=O<q.length?Y[q.charAt(O)]:64;++O;const $e=O<q.length?Y[q.charAt(O)]:64;if(++O,null==V||null==Be||null==vt||null==$e)throw Error();B.push(V<<2|Be>>4),64!==vt&&(B.push(Be<<4&240|vt>>2),64!==$e&&B.push(vt<<6&192|$e))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},de=function(q){return function(q){const H=re(q);return pe.encodeByteArray(H,!0)}(q).replace(/\./g,"")},me=function(q){try{return pe.decodeString(q,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function Z(q,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return H}for(const Y in H)!H.hasOwnProperty(Y)||!J(Y)||(q[Y]=Z(q[Y],H[Y]));return q}function J(q){return"__proto__"!==q}const ye=()=>{try{return function ze(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=q&&me(q[1]);return H&&JSON.parse(H)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},nt=q=>{const H=(q=>{var H,Y;return null===(Y=null===(H=ye())||void 0===H?void 0:H.emulatorHosts)||void 0===Y?void 0:Y[q]})(q);if(!H)return;const Y=H.lastIndexOf(":");if(Y<=0||Y+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const B=parseInt(H.substring(Y+1),10);return"["===H[0]?[H.substring(1,Y-1),B]:[H.substring(0,Y),B]},st=()=>{var q;return null===(q=ye())||void 0===q?void 0:q.config},Oe=q=>{var H;return null===(H=ye())||void 0===H?void 0:H[`_${q}`]};class Re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,Y)=>{this.resolve=H,this.reject=Y})}wrapCallback(H){return(Y,B)=>{Y?this.reject(Y):this.resolve(B),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(Y):H(Y,B))}}}function De(q,H){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=H||"demo-project",O=q.iat||0,V=q.sub||q.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:O,exp:O+3600,auth_time:O,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},q);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(ee)),""].join(".")}function We(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function le(){var q;const H=null===(q=ye())||void 0===q?void 0:q.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function _e(){return"object"==typeof self&&self.self===self}function Ye(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function it(){const q=We();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function we(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ve(){return new Promise((q,H)=>{try{let Y=!0;const B="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(B);O.onsuccess=()=>{O.result.close(),Y||self.indexedDB.deleteDatabase(B),q(!0)},O.onupgradeneeded=()=>{Y=!1},O.onerror=()=>{var V;H((null===(V=O.error)||void 0===V?void 0:V.message)||"")}}catch(Y){H(Y)}})}function Te(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class $t extends Error{constructor(H,Y,B){super(Y),this.code=H,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,$t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vn.prototype.create)}}class vn{constructor(H,Y,B){this.service=H,this.serviceName=Y,this.errors=B}create(H,...Y){const B=Y[0]||{},O=`${this.service}/${H}`,V=this.errors[H],ee=V?function ct(q,H){return q.replace(Nt,(Y,B)=>{const O=H[B];return null!=O?String(O):`<${B}?>`})}(V,B):"Error";return new $t(O,`${this.serviceName}: ${ee} (${O}).`,B)}}const Nt=/\{\$([^}]+)}/g;function ir(q,H){return Object.prototype.hasOwnProperty.call(q,H)}function Lr(q){for(const H in q)if(Object.prototype.hasOwnProperty.call(q,H))return!1;return!0}function rt(q,H){if(q===H)return!0;const Y=Object.keys(q),B=Object.keys(H);for(const O of Y){if(!B.includes(O))return!1;const V=q[O],ee=H[O];if(ui(V)&&ui(ee)){if(!rt(V,ee))return!1}else if(V!==ee)return!1}for(const O of B)if(!Y.includes(O))return!1;return!0}function ui(q){return null!==q&&"object"==typeof q}function Nn(q){const H=[];for(const[Y,B]of Object.entries(q))Array.isArray(B)?B.forEach(O=>{H.push(encodeURIComponent(Y)+"="+encodeURIComponent(O))}):H.push(encodeURIComponent(Y)+"="+encodeURIComponent(B));return H.length?"&"+H.join("&"):""}function Mi(q){const H={};return q.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[O,V]=B.split("=");H[decodeURIComponent(O)]=decodeURIComponent(V)}}),H}function io(q){const H=q.indexOf("?");if(!H)return"";const Y=q.indexOf("#",H);return q.substring(H,Y>0?Y:void 0)}function xn(q,H){const Y=new Cn(q,H);return Y.subscribe.bind(Y)}class Cn{constructor(H,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{H(this)}).catch(B=>{this.error(B)})}next(H){this.forEachObserver(Y=>{Y.next(H)})}error(H){this.forEachObserver(Y=>{Y.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,Y,B){let O;if(void 0===H&&void 0===Y&&void 0===B)throw new Error("Missing Observer.");O=function St(q,H){if("object"!=typeof q||null===q)return!1;for(const Y of H)if(Y in q&&"function"==typeof q[Y])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:Y,complete:B},void 0===O.next&&(O.next=Ht),void 0===O.error&&(O.error=Ht),void 0===O.complete&&(O.complete=Ht);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),V}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,H)}sendOne(H,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{Y(this.observers[H])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ht(){}function lt(q,H=1e3,Y=2){const B=H*Math.pow(Y,q),O=Math.round(.5*B*(Math.random()-.5)*2);return Math.min(144e5,B+O)}function cn(q){return q&&q._delegate?q._delegate:q}},7786:(wt,Se,F)=>{var u=F(4650);let $=null;function k(){return $}const ce=new u.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function me(){return(0,u.LFG)(Z)}()},providedIn:"platform"}),n})();const z=new u.OlP("Location Initialized");let Z=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=k().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){J()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){J()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ze(){return new Z((0,u.LFG)(ce))}()},providedIn:"platform"}),n})();function J(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ot(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(nt)},providedIn:"root"}),n})();const fe=new u.OlP("appBaseHref");let nt=(()=>{class n extends ye{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+ot(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const c=this.prepareExternalUrl(r+ot(a));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){const c=this.prepareExternalUrl(r+ot(a));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(de),u.LFG(fe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),st=(()=>{class n extends ye{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=ke(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let c=this.prepareExternalUrl(r+ot(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,a){let c=this.prepareExternalUrl(r+ot(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(de),u.LFG(fe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Oe=(()=>{class n{constructor(t){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=Ie(We(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ot(i))}normalize(t){return n.stripTrailingSlash(function De(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,We(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ot(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=ot,n.joinWithSlash=ke,n.stripTrailingSlash=Ie,n.\u0275fac=function(t){return new(t||n)(u.LFG(ye))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Re(){return new Oe((0,u.LFG)(ye))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}class lo{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Er=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new lo(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===a?void 0:a);else if(null!==a){const h=i.get(a);i.move(h,c),uo(h,r)}});for(let r=0,a=i.length;r<a;r++){const h=i.get(r).context;h.index=r,h.count=a,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{uo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function uo(n,e){n.context.$implicit=e.item}let Pn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new pf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){di("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){di("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class pf{constructor(){this.$implicit=null,this.ngIf=null}}function di(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let ur=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function qo(n){return"server"===n}let Fd=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new gf((0,u.LFG)(ce),window)}),n})();class gf{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Oi(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ur(this.window.history)||Ur(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ur(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Hs extends class jd extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oe(n){$||($=n)}(new Hs)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function $d(){return Gs=Gs||document.querySelector("base"),Gs?Gs.getAttribute("href"):null}();return null==t?null:function Ds(n){$n=$n||document.createElement("a"),$n.setAttribute("href",n);const e=$n.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Gs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function oc(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let $n,Gs=null;const Un=new u.OlP("TRANSITION_ID"),_c=[{provide:u.ip1,useFactory:function Hd(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const i=k(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[Un,ce,u.zs3],multi:!0}];let yc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const vc=new u.OlP("EventManagerPlugins");let bc=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const c=r[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vc),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Yl{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=k().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Xo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ea=(()=>{class n extends Xo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Gd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Gd))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Gd(n){k().remove(n)}const ta={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qd=/%COMP%/g;function Jl(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Jl(n,r,t):(r=r.replace(qd,n),t.push(r))}return t}function Xl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let nl=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ts(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case u.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new zd(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case u.ifc.ShadowDom:return new Tf(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Jl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bc),u.LFG(ea),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ts{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ta[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(rl(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(rl(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=ta[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=ta[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,i,r&u.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Xl(i)):this.eventManager.addEventListener(e,t,Xl(i))}}function rl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class zd extends Ts{constructor(e,t,i,r){super(e),this.component=i;const a=Jl(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Yn(n){return"_ngcontent-%COMP%".replace(qd,n)}(r+"-"+i.id),this.hostAttr=function Ql(n){return"_nghost-%COMP%".replace(qd,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Tf extends Ts{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Jl(r.id,r.styles,[]);for(let c=0;c<a.length;c++){const h=document.createElement("style");h.textContent=a[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let pi=(()=>{class n extends Yl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ef=["alt","control","meta","shift"],qs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Tc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let sl=(()=>{class n extends Yl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),c=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let c="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),c="code."),Ef.forEach(v=>{const T=i.indexOf(v);T>-1&&(i.splice(T,1),c+=v+".")}),c+=a,0!=i.length||0===a.length)return null;const g={};return g.domEventName=r,g.fullKey=c,g}static matchEventFullKeyCode(t,i){let r=qs[t.key]||t.key,a="";return i.indexOf("code.")>-1&&(r=t.code,a="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ef.forEach(c=>{c!==r&&(0,Tc[c])(t)&&(a+=c+".")}),a+=r,a===i)}static eventCallback(t,i,r){return a=>{n.matchEventFullKeyCode(a,t)&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ol=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function Kd(){Hs.makeCurrent()},multi:!0},{provide:ce,useFactory:function Ec(){return(0,u.RDi)(document),document},deps:[]}]),go=new u.OlP(""),al=[{provide:u.rWj,useClass:class wf{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let a=r.length,c=!1;const h=function(g){c=c||g,a--,0==a&&i(c)};r.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],ia=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Es(){return new u.qLn},deps:[]},{provide:vc,useClass:pi,multi:!0,deps:[ce,u.R0b,u.Lbi]},{provide:vc,useClass:sl,multi:!0,deps:[ce]},{provide:nl,useClass:nl,deps:[bc,ea,u.AFp]},{provide:u.FYo,useExisting:nl},{provide:Xo,useExisting:ea},{provide:ea,useClass:ea,deps:[ce]},{provide:bc,useClass:bc,deps:[vc,u.R0b]},{provide:class Zo{},useClass:yc,deps:[]},[]];let mo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Un,useExisting:u.AFp},_c]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(go,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[...ia,...al],imports:[ur,u.hGG]}),n})(),es=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ll(){return new es((0,u.LFG)(ce))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let ha=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):u.LFG(Fg),i},providedIn:"root"}),n})(),Fg=(()=>{class n extends ha{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case u.q3G.NONE:return i;case u.q3G.HTML:return(0,u.qzn)(i,"HTML")?(0,u.z3N)(i):(0,u.EiD)(this._doc,String(i)).toString();case u.q3G.STYLE:return(0,u.qzn)(i,"Style")?(0,u.z3N)(i):i;case u.q3G.SCRIPT:if((0,u.qzn)(i,"Script"))return(0,u.z3N)(i);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.qzn)(i,"URL")?(0,u.z3N)(i):(0,u.mCW)(String(i));case u.q3G.RESOURCE_URL:if((0,u.qzn)(i,"ResourceURL"))return(0,u.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Fy(n){return new Fg(n.get(ce))}(u.LFG(u.zs3)),i},providedIn:"root"}),n})();var bn=F(8996),Br=F(3269);function gt(...n){const e=(0,Br.yG)(n);return(0,bn.D)(n,e)}var gn=F(7579);class fn extends gn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const yo=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Jn=F(9751);const{isArray:vo}=Array,{getPrototypeOf:Jd,prototype:Xd,keys:Mf}=Object;function zs(n){if(1===n.length){const e=n[0];if(vo(e))return{args:e,keys:null};if(function eh(n){return n&&"object"==typeof n&&Jd(n)===Xd}(e)){const t=Mf(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Ws=F(4671),ht=F(4004);const{isArray:Sc}=Array;function ul(n){return(0,ht.U)(e=>function ns(n,e){return Sc(e)?n(...e):n(e)}(n,e))}function cl(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var Vn=F(5403),dl=F(9672);function fa(...n){const e=(0,Br.yG)(n),t=(0,Br.jO)(n),{args:i,keys:r}=zs(n);if(0===i.length)return(0,bn.D)([],e);const a=new Jn.y(function hl(n,e,t=Ws.y){return i=>{Of(e,()=>{const{length:r}=n,a=new Array(r);let c=r,h=r;for(let g=0;g<r;g++)Of(e,()=>{const v=(0,bn.D)(n[g],e);let T=!1;v.subscribe((0,Vn.x)(i,S=>{a[g]=S,T||(T=!0,h--),h||i.next(t(a.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>cl(r,c):Ws.y));return t?a.pipe(ul(t)):a}function Of(n,e,t){n?(0,dl.f)(t,n,e):e()}var pa=F(8189);function Ks(...n){return function ru(){return(0,pa.J)(1)}()((0,bn.D)(n,(0,Br.yG)(n)))}var hr=F(8421);function jr(n){return new Jn.y(e=>{(0,hr.Xf)(n()).subscribe(e)})}var su=F(9635),Wi=F(576);function bo(n,e){const t=(0,Wi.m)(n)?n:()=>n,i=r=>r.error(t());return new Jn.y(e?r=>e.schedule(i,0,r):i)}var xi=F(515),th=F(727),Mn=F(4482);function wo(){return(0,Mn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,Vn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Do extends Jn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Mn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new th.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Vn.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=th.w0.EMPTY)}return e}refCount(){return wo()(this)}}function Xn(n,e){return(0,Mn.e)((t,i)=>{let r=null,a=0,c=!1;const h=()=>c&&!r&&i.complete();t.subscribe((0,Vn.x)(i,g=>{r?.unsubscribe();let v=0;const T=a++;(0,hr.Xf)(n(g,T)).subscribe(r=(0,Vn.x)(i,S=>i.next(e?e(g,S,T,v++):S),()=>{r=null,h()}))},()=>{c=!0,h()}))})}function sn(n){return n<=0?()=>xi.E:(0,Mn.e)((e,t)=>{let i=0;e.subscribe((0,Vn.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function is(...n){const e=(0,Br.yG)(n);return(0,Mn.e)((t,i)=>{(e?Ks(n,t,e):Ks(n,t)).subscribe(i)})}function gi(n,e){return(0,Mn.e)((t,i)=>{let r=0;t.subscribe((0,Vn.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var I=F(5577);function C(n){return(0,Mn.e)((e,t)=>{let i=!1;e.subscribe((0,Vn.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function M(n=j){return(0,Mn.e)((e,t)=>{let i=!1;e.subscribe((0,Vn.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function j(){return new yo}function Q(n,e){const t=arguments.length>=2;return i=>i.pipe(n?gi((r,a)=>n(r,a,i)):Ws.y,sn(1),t?C(e):M(()=>new yo))}function se(n,e){return(0,Wi.m)(e)?(0,I.z)(n,e,1):(0,I.z)(n,1)}var ve=F(8505);function et(n){return(0,Mn.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,Vn.x)(t,void 0,void 0,c=>{a=(0,hr.Xf)(n(c,et(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function mt(n,e,t,i,r){return(a,c)=>{let h=t,g=e,v=0;a.subscribe((0,Vn.x)(c,T=>{const S=v++;g=h?n(g,T,S):(h=!0,T),i&&c.next(g)},r&&(()=>{h&&c.next(g),c.complete()})))}}function At(n,e){return(0,Mn.e)(mt(n,e,arguments.length>=2,!0))}function Jt(n){return n<=0?()=>xi.E:(0,Mn.e)((e,t)=>{let i=[];e.subscribe((0,Vn.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Ft(n,e){const t=arguments.length>=2;return i=>i.pipe(n?gi((r,a)=>n(r,a,i)):Ws.y,Jt(1),t?C(e):M(()=>new yo))}function To(n){return(0,Mn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Xt="primary",Ki=Symbol("RouteTitle");class ki{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function fr(n){return new ki(n)}function Rf(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const c=i[a],h=n[a];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function rs(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!Ly(n[r],e[r]))return!1;return!0}function Ly(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function Ug(n){return Array.prototype.concat.apply([],n)}function xf(n){return n.length>0?n[n.length-1]:null}function ei(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Eo(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,bn.D)(Promise.resolve(n)):gt(n)}const gw={exact:function Bg(n,e,t){if(!lu(n.segments,e.segments)||!ou(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Bg(n.children[i],e.children[i],t))return!1;return!0},subset:By},Pf={exact:function Vy(n,e){return rs(n,e)},subset:function Ac(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ly(n[t],e[t]))},ignored:()=>!0};function Uy(n,e,t){return gw[t.paths](n.root,e.root,t.matrixParams)&&Pf[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function By(n,e,t){return jy(n,e,e.segments,t)}function jy(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!lu(r,t)||e.hasChildren()||!ou(r,t,i))}if(n.segments.length===t.length){if(!lu(n.segments,t)||!ou(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!By(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(lu(n.segments,r)&&ou(n.segments,r,i)&&n.children[Xt])&&jy(n.children[Xt],e,a,i)}}function ou(n,e,t){return e.every((i,r)=>Pf[t](n[r].parameters,i.parameters))}class au{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return jg.serialize(this)}}class an{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ei(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pl(this)}}class Nc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=fr(this.parameters)),this._parameterMap}toString(){return $g(this)}}function lu(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Ff=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return new fl},providedIn:"root"}),n})();class fl{parse(e){const t=new m(e);return new au(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${uu(e.root,!0)}`,i=function Gy(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${nh(t)}=${nh(r)}`).join("&"):`${nh(t)}=${nh(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Lf(n){return encodeURI(n)}(e.fragment)}`:""}`}}const jg=new fl;function pl(n){return n.segments.map(e=>$g(e)).join("/")}function uu(n,e){if(!n.hasChildren())return pl(n);if(e){const t=n.children[Xt]?uu(n.children[Xt],!1):"",i=[];return ei(n.children,(r,a)=>{a!==Xt&&i.push(`${a}:${uu(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function $y(n,e){let t=[];return ei(n.children,(i,r)=>{r===Xt&&(t=t.concat(e(i,r)))}),ei(n.children,(i,r)=>{r!==Xt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Xt?[uu(n.children[Xt],!1)]:[`${r}:${uu(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Xt]?`${pl(n)}/${t[0]}`:`${pl(n)}/(${t.join("//")})`}}function ss(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nh(n){return ss(n).replace(/%3B/gi,";")}function Uf(n){return ss(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cu(n){return decodeURIComponent(n)}function Mc(n){return cu(n.replace(/\+/g,"%20"))}function $g(n){return`${Uf(n.path)}${function Hy(n){return Object.keys(n).map(e=>`;${Uf(e)}=${Uf(n[e])}`).join("")}(n.parameters)}`}const Hg=/^[^\/()?;=#]+/;function ih(n){const e=n.match(Hg);return e?e[0]:""}const Gg=/^[^=?&#]+/,qg=/^[^&#]+/;class m{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Xt]=new an(e,t)),i}parseSegment(){const e=ih(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new Nc(cu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ih(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=ih(this.remaining);r&&(i=r,this.capture(i))}e[cu(t)]=cu(i)}parseQueryParam(e){const t=function pr(n){const e=n.match(Gg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function b(n){const e=n.match(qg);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Mc(t),a=Mc(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ih(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Xt);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Xt]:new an([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function _(n){return n.segments.length>0?new an([],{[Xt]:n}):n}function D(n){const e={};for(const i of Object.keys(n.children)){const a=D(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function N(n){if(1===n.numberOfChildren&&n.children[Xt]){const e=n.children[Xt];return new an(n.segments.concat(e.segments),e.children)}return n}(new an(n.segments,e))}function P(n){return n instanceof au}function tn(n,e,t,i,r){if(0===t.length)return $r(e.root,e.root,e.root,i,r);const a=function rh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Oc(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return ei(a.outlets,(g,v)=>{h[v]="string"==typeof g?g.split("/"):g}),[...r,{outlets:h}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===c?(a.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,a]},[]);return new Oc(t,e,i)}(t);return a.toRoot()?$r(e.root,e.root,new an([],{}),i,r):function c(g){const v=function ml(n,e,t,i){if(n.isAbsolute)return new ga(e.root,!0,0);if(-1===i)return new ga(t,t===e.root,0);return function Vf(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new u.vHH(4005,!1);r=i.segments.length}return new ga(i,!1,r-a)}(t,i+(Sn(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,g),T=v.processChildren?ma(v.segmentGroup,v.index,a.commands):_l(v.segmentGroup,v.index,a.commands);return $r(e.root,v.segmentGroup,T,i,r)}(n.snapshot?._lastPathIndex)}function Sn(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Or(n){return"object"==typeof n&&null!=n&&n.outlets}function $r(n,e,t,i,r){let c,a={};i&&ei(i,(g,v)=>{a[v]=Array.isArray(g)?g.map(T=>`${T}`):`${g}`}),c=n===e?t:gl(n,e,t);const h=_(D(c));return new au(h,a,r)}function gl(n,e,t){const i={};return ei(n.children,(r,a)=>{i[a]=r===e?t:gl(r,e,t)}),new an(n.segments,i)}class Oc{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Sn(i[0]))throw new u.vHH(4003,!1);const r=i.find(Or);if(r&&r!==xf(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ga{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function _l(n,e,t){if(n||(n=new an([],{})),0===n.segments.length&&n.hasChildren())return ma(n,e,t);const i=function Wg(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const c=n.segments[r],h=t[i];if(Or(h))break;const g=`${h}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!qy(g,v,c))return a;i+=2}else{if(!qy(g,{},c))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new an(n.segments.slice(0,i.pathIndex),{});return a.children[Xt]=new an(n.segments.slice(i.pathIndex),n.children),ma(a,0,r)}return i.match&&0===r.length?new an(n.segments,{}):i.match&&!n.hasChildren()?sh(n,e,t):i.match?ma(n,0,r):sh(n,e,t)}function ma(n,e,t){if(0===t.length)return new an(n.segments,{});{const i=function zg(n){return Or(n[0])?n[0].outlets:{[Xt]:n}}(t),r={};return ei(i,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[c]=_l(n.children[c],e,a))}),ei(n.children,(a,c)=>{void 0===i[c]&&(r[c]=a)}),new an(n.segments,r)}}function sh(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(Or(a)){const g=du(a.outlets);return new an(i,g)}if(0===r&&Sn(t[0])){i.push(new Nc(n.segments[e].path,Kg(t[0]))),r++;continue}const c=Or(a)?a.outlets[Xt]:`${a}`,h=r<t.length-1?t[r+1]:null;c&&h&&Sn(h)?(i.push(new Nc(c,Kg(h))),r+=2):(i.push(new Nc(c,{})),r++)}return new an(i,{})}function du(n){const e={};return ei(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=sh(new an([],{}),0,t))}),e}function Kg(n){const e={};return ei(n,(t,i)=>e[i]=`${t}`),e}function qy(n,e,t){return n==t.path&&rs(e,t.parameters)}class yl{constructor(e,t){this.id=e,this.url=t}}class Bf extends yl{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rc extends yl{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yg extends yl{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _w extends yl{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class TI extends yl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EI extends yl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class II extends yl{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yw extends yl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zy extends yl{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vw{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zy{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class CI{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SI{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bw{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ww{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hu{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Wy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ky(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Ky(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Tw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Tw(e,this._root).map(t=>t.value)}}function Ky(n,e){if(n===e.value)return e;for(const t of e.children){const i=Ky(n,t);if(i)return i}return null}function Tw(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Tw(n,t);if(i.length)return i.unshift(e),i}return[]}class Ys{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function oh(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Yy extends Wy{constructor(e,t){super(e),this.snapshot=t,jf(this,e)}toString(){return this.snapshot.toString()}}function Qy(n,e){const t=function Ew(n,e){const c=new xc([],{},{},"",{},Xt,e,null,n.root,-1,{});return new Xy("",new Ys(c,[]))}(n,e),i=new fn([new Nc("",{})]),r=new fn({}),a=new fn({}),c=new fn({}),h=new fn(""),g=new vl(i,r,c,h,a,Xt,e,t.root);return g.snapshot=t.root,new Yy(new Ys(g,[]),t)}class vl{constructor(e,t,i,r,a,c,h,g){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=h,this.title=this.data?.pipe((0,ht.U)(v=>v[Ki]))??gt(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(e=>fr(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(e=>fr(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jy(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function Qg(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class xc{constructor(e,t,i,r,a,c,h,g,v,T,S,x){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=c,this.component=h,this.title=this.data?.[Ki],this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=T,this._correctedLastPathIndex=x??T,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xy extends Wy{constructor(e,t){super(t),this.url=e,jf(this,t)}toString(){return Jg(this._root)}}function jf(n,e){e.value._routerState=n,e.children.forEach(t=>jf(n,t))}function Jg(n){const e=n.children.length>0?` { ${n.children.map(Jg).join(", ")} } `:"";return`${n.value}${e}`}function $f(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,rs(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),rs(e.params,t.params)||n.params.next(t.params),function Lg(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!rs(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),rs(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function kc(n,e){const t=rs(n.params,e.params)&&function mw(n,e){return lu(n,e)&&n.every((t,i)=>rs(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||kc(n.parent,e.parent))}function ah(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function NI(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ah(n,i,r);return ah(n,i)})}(n,e,t);return new Ys(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>ah(n,h)),c}}const i=function MI(n){return new vl(new fn(n.url),new fn(n.params),new fn(n.queryParams),new fn(n.fragment),new fn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>ah(n,a));return new Ys(i,r)}}const Xg="ngNavigationCancelingError";function em(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=P(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Hf(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function Hf(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Xg]=!0,i.cancellationCode=e,t&&(i.url=t),i}function tm(n){return fu(n)&&P(n.url)}function fu(n){return n&&n[Xg]}class OI{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gf,this.attachRef=null}}let Gf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new OI,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ev=!1;let tv=(()=>{class n{constructor(t,i,r,a,c){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=r||Xt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,ev);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,ev);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,ev);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new u.vHH(4013,ev);this._activatedRoute=t;const r=this.location,c=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new nv(t,h,r.injector);if(i&&function RI(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(c);this.activated=r.createComponent(v,r.length,g)}else this.activated=r.createComponent(c,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Gf),u.Y36(u.s_b),u.$8M("name"),u.Y36(u.sBO),u.Y36(u.lqb))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class nv{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===vl?this.route:e===Gf?this.childContexts:this.parent.get(e,t)}}let nm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(t,i){1&t&&u._UZ(0,"router-outlet")},dependencies:[tv],encapsulation:2}),n})();function qf(n,e){return n.providers&&!n._injector&&(n._injector=(0,u.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function iv(n){const e=n.children&&n.children.map(iv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Xt&&(t.component=nm),t}function Qs(n){return n.outlet||Xt}function _a(n,e){const t=n.filter(i=>Qs(i)===e);return t.push(...n.filter(i=>Qs(i)!==e)),t}function ya(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class BI{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),$f(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=oh(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,r[c],i),delete r[c]}),ei(r,(a,c)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=oh(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=oh(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=oh(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new ww(a.value.snapshot))}),e.children.length&&this.forwardEvent(new SI(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if($f(r),r===a)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),$f(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=ya(r.snapshot),g=h?.get(u._Vd)??null;c.attachRef=null,c.route=r,c.resolver=g,c.injector=h,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class Cw{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class im{constructor(e,t){this.component=e,this.route=t}}function jI(n,e,t){const i=n._root;return Zf(i,e?e._root:null,t,[i.value])}function Pc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,u.Z0I)(n)?e.get(n):n:i}function Zf(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=oh(e);return n.children.forEach(c=>{(function HI(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const g=function GI(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!lu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!lu(n.url,e.url)||!rs(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kc(n,e)||!rs(n.queryParams,e.queryParams);default:return!kc(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new Cw(i)):(a.data=c.data,a._resolvedData=c._resolvedData),Zf(n,e,a.component?h?h.children:null:t,i,r),g&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new im(h.outlet.component,c))}else c&&zf(e,h,r),r.canActivateChecks.push(new Cw(i)),Zf(n,null,a.component?h?h.children:null:t,i,r)})(c,a[c.value.outlet],t,i.concat([c.value]),r),delete a[c.value.outlet]}),ei(a,(c,h)=>zf(c,t.getContext(h),r)),r}function zf(n,e,t){const i=oh(n),r=n.value;ei(i,(a,c)=>{zf(a,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new im(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function pu(n){return"function"==typeof n}function Kf(n){return n instanceof yo||"EmptyError"===n?.name}const lh=Symbol("INITIAL_VALUE");function Yf(){return Xn(n=>fa(n.map(e=>e.pipe(sn(1),is(lh)))).pipe((0,ht.U)(e=>{for(const t of e)if(!0!==t){if(t===lh)return lh;if(!1===t||t instanceof au)return t}return!0}),gi(e=>e!==lh),sn(1)))}function sm(n){return(0,su.z)((0,ve.b)(e=>{if(P(e))throw em(0,e)}),(0,ht.U)(e=>!0===e))}const mi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rv(n,e,t,i,r){const a=sv(n,e,t);return a.matched?function KI(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?gt(r.map(c=>{const h=Pc(c,n);return Eo(function FM(n){return n&&pu(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Yf(),sm()):gt(!0)}(i=qf(e,i),e,t).pipe((0,ht.U)(c=>!0===c?a:{...mi})):gt(a)}function sv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...mi}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Rf)(t,n,e);if(!r)return{...mi};const a={};ei(r.posParams,(h,g)=>{a[g]=h.path});const c=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function uh(n,e,t,i,r="corrected"){if(t.length>0&&function QI(n,e,t){return t.some(i=>om(n,e,i)&&Qs(i)!==Xt)}(n,t,i)){const c=new an(e,function YI(n,e,t,i){const r={};r[Xt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Qs(a)!==Xt){const c=new an([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[Qs(a)]=c}return r}(n,e,i,new an(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function kw(n,e,t){return t.some(i=>om(n,e,i))}(n,t,i)){const c=new an(n.segments,function xw(n,e,t,i,r,a){const c={};for(const h of i)if(om(n,t,h)&&!r[Qs(h)]){const g=new an([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[Qs(h)]=g}return{...r,...c}}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new an(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function om(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Pw(n,e,t,i){return!!(Qs(n)===i||i!==Xt&&om(e,t,n))&&("**"===n.path||sv(e,n,t).matched)}function JI(n,e,t){return 0===e.length&&!n.children[t]}const ov=!1;class gu{constructor(e){this.segmentGroup=e||null}}class am{constructor(e){this.urlTree=e}}function ch(n){return bo(new gu(n))}function av(n){return bo(new am(n))}class Uw{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=uh(this.urlTree.root,[],[],this.config).segmentGroup,t=new an(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Xt).pipe((0,ht.U)(a=>this.createUrlTree(D(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(et(a=>{if(a instanceof am)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof gu?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Xt).pipe((0,ht.U)(r=>this.createUrlTree(D(r),e.queryParams,e.fragment))).pipe(et(r=>{throw r instanceof gu?this.noMatchError(r):r}))}noMatchError(e){return new u.vHH(4002,ov)}createUrlTree(e,t,i){const r=_(e);return new au(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,ht.U)(a=>new an([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,bn.D)(r).pipe(se(a=>{const c=i.children[a],h=_a(t,a);return this.expandSegmentGroup(e,h,c,a).pipe((0,ht.U)(g=>({segment:g,outlet:a})))}),At((a,c)=>(a[c.outlet]=c.segment,a),{}),Ft())}expandSegment(e,t,i,r,a,c){return(0,bn.D)(i).pipe(se(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,a,c).pipe(et(v=>{if(v instanceof gu)return gt(null);throw v}))),Q(h=>!!h),et((h,g)=>{if(Kf(h))return JI(t,r,a)?gt(new an([],{})):ch(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,a,c,h){return Pw(r,t,a,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c):ch(t):ch(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?av(a):this.lineralizeSegments(i,a).pipe((0,I.z)(c=>{const h=new an(c,{});return this.expandSegment(e,h,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,c){const{matched:h,consumedSegments:g,remainingSegments:v,positionalParamSegments:T}=sv(t,r,a);if(!h)return ch(t);const S=this.applyRedirectCommands(g,r.redirectTo,T);return r.redirectTo.startsWith("/")?av(S):this.lineralizeSegments(r,S).pipe((0,I.z)(x=>this.expandSegment(e,t,i,x.concat(v),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=qf(i,e),i.loadChildren?(i._loadedRoutes?gt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,ht.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new an(r,{})))):gt(new an(r,{}))):rv(t,i,r,e).pipe(Xn(({matched:c,consumedSegments:h,remainingSegments:g})=>c?this.getChildConfig(e=i._injector??e,i,r).pipe((0,I.z)(T=>{const S=T.injector??e,x=T.routes,{segmentGroup:U,slicedSegments:G}=uh(t,h,g,x),K=new an(U.segments,U.children);if(0===G.length&&K.hasChildren())return this.expandChildren(S,x,K).pipe((0,ht.U)(He=>new an(h,He)));if(0===x.length&&0===G.length)return gt(new an(h,{}));const X=Qs(i)===a;return this.expandSegment(S,K,x,G,X?Xt:a,!0).pipe((0,ht.U)(je=>new an(h.concat(je.segments),je.children)))})):ch(t)))}getChildConfig(e,t,i){return t.children?gt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?gt({routes:t._loadedRoutes,injector:t._loadedInjector}):function Rw(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?gt(!0):gt(r.map(c=>{const h=Pc(c,n);return Eo(function Wf(n){return n&&pu(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Yf(),sm())}(e,t,i).pipe((0,I.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,ve.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function XI(n){return bo(Hf(ov,3))}())):gt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return gt(i);if(r.numberOfChildren>1||!r.children[Xt])return bo(new u.vHH(4e3,ov));r=r.children[Xt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new au(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return ei(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[a]=t[h]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let c={};return ei(t.children,(h,g)=>{c[g]=this.createSegmentGroup(e,h,i,r)}),new an(a,c)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new u.vHH(4001,ov);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class eC{}class Bw{constructor(e,t,i,r,a,c,h,g){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h,this.urlSerializer=g}recognize(){const e=uh(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Xt).pipe((0,ht.U)(t=>{if(null===t)return null;const i=new xc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ys(i,t),a=new Xy(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=Jy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,bn.D)(Object.keys(i.children)).pipe(se(r=>{const a=i.children[r],c=_a(t,r);return this.processSegmentGroup(e,c,a,r)}),At((r,a)=>r&&a?(r.push(...a),r):null),function ji(n,e=!1){return(0,Mn.e)((t,i)=>{let r=0;t.subscribe((0,Vn.x)(i,a=>{const c=n(a,r++);(c||e)&&i.next(a),!c&&i.complete()}))})}(r=>null!==r),C(null),Ft(),(0,ht.U)(r=>{if(null===r)return null;const a=Qf(r);return function Fc(n){n.sort((e,t)=>e.value.outlet===Xt?-1:t.value.outlet===Xt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,bn.D)(t).pipe(se(c=>this.processSegmentAgainstRoute(c._injector??e,c,i,r,a)),Q(c=>!!c),et(c=>{if(Kf(c))return JI(i,r,a)?gt([]):gt(null);throw c}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!Pw(t,i,r,a))return gt(null);let c;if("**"===t.path){const h=r.length>0?xf(r).parameters:{},g=Jf(i)+r.length;c=gt({snapshot:new xc(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hv(t),Qs(t),t.component??t._loadedComponent??null,t,lm(i),g,um(t),g),consumedSegments:[],remainingSegments:[]})}else c=rv(i,t,r,e).pipe((0,ht.U)(({matched:h,consumedSegments:g,remainingSegments:v,parameters:T})=>{if(!h)return null;const S=Jf(i)+g.length;return{snapshot:new xc(g,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hv(t),Qs(t),t.component??t._loadedComponent??null,t,lm(i),S,um(t),S),consumedSegments:g,remainingSegments:v}}));return c.pipe(Xn(h=>{if(null===h)return gt(null);const{snapshot:g,consumedSegments:v,remainingSegments:T}=h;e=t._injector??e;const S=t._loadedInjector??e,x=function tC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:U,slicedSegments:G}=uh(i,v,T,x.filter(X=>void 0===X.redirectTo),this.relativeLinkResolution);if(0===G.length&&U.hasChildren())return this.processChildren(S,x,U).pipe((0,ht.U)(X=>null===X?null:[new Ys(g,X)]));if(0===x.length&&0===G.length)return gt([new Ys(g,[])]);const K=Qs(t)===a;return this.processSegment(S,x,U,G,K?Xt:a).pipe((0,ht.U)(X=>null===X?null:[new Ys(g,X)]))}))}}function dv(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Qf(n){const e=[],t=new Set;for(const i of n){if(!dv(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=Qf(i.children);e.push(new Ys(i.value,r))}return e.filter(i=>!t.has(i))}function lm(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Jf(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function hv(n){return n.data||{}}function um(n){return n.resolve||{}}function rC(n,e){return(0,I.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return gt(t);let a=0;return(0,bn.D)(r).pipe(se(c=>function jw(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!$w(r)&&(a[Ki]=r.title),function dh(n,e,t,i){const r=function sC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return gt({});const a={};return(0,bn.D)(r).pipe((0,I.z)(c=>function oC(n,e,t,i){const r=ya(e)??i,a=Pc(n,r);return Eo(a.resolve?a.resolve(e,t):r.runInContext(()=>a(e,t)))}(n[c],e,t,i).pipe(Q(),(0,ve.b)(h=>{a[c]=h}))),Jt(1),function si(n){return(0,ht.U)(()=>n)}(a),et(c=>Kf(c)?xi.E:bo(c)))}(a,n,e,i).pipe((0,ht.U)(c=>(n._resolvedData=c,n.data=Jy(n,t).resolve,r&&$w(r)&&(n.data[Ki]=r.title),null)))}(c.route,i,n,e)),(0,ve.b)(()=>a++),Jt(1),(0,I.z)(c=>a===r.length?gt(t):xi.E))})}function $w(n){return"string"==typeof n.title||null===n.title}function fv(n){return Xn(e=>{const t=n(e);return t?(0,bn.D)(t).pipe((0,ht.U)(()=>e)):gt(e)})}let cm=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===Xt);return i}getResolvedTitleForRoute(t){return t.data[Ki]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.f3M)(Hw)},providedIn:"root"}),n})(),Hw=(()=>{class n extends cm{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(es))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lC{}class VM extends class Gw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const _u=new u.OlP("",{providedIn:"root",factory:()=>({})}),yu=new u.OlP("ROUTES");let Lc=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return gt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Eo(t.loadComponent()).pipe((0,ve.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),To(()=>{this.componentLoaders.delete(t)})),r=new Do(i,()=>new gn.x).pipe(wo());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return gt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ht.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,v,T=!1;Array.isArray(h)?v=h:(g=h.create(t).injector,v=Ug(g.get(yu,[],u.XFs.Self|u.XFs.Optional)));return{routes:v.map(iv),injector:g}}),To(()=>{this.childrenLoaders.delete(i)})),c=new Do(a,()=>new gn.x).pipe(wo());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(t){return Eo(t()).pipe((0,I.z)(i=>i instanceof u.YKP||Array.isArray(i)?gt(i):(0,bn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(u.Sil))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cC{}class BM{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function dC(n){throw n}function hC(n,e,t){return e.parse("/")}const fC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function dm(){const n=(0,u.f3M)(Ff),e=(0,u.f3M)(Gf),t=(0,u.f3M)(Oe),i=(0,u.f3M)(u.zs3),r=(0,u.f3M)(u.Sil),a=(0,u.f3M)(yu,{optional:!0})??[],c=(0,u.f3M)(_u,{optional:!0})??{},h=(0,u.f3M)(Hw),g=(0,u.f3M)(cm,{optional:!0}),v=(0,u.f3M)(cC,{optional:!0}),T=(0,u.f3M)(lC,{optional:!0}),S=new Yi(null,n,e,t,i,r,Ug(a));return v&&(S.urlHandlingStrategy=v),T&&(S.routeReuseStrategy=T),S.titleStrategy=g??h,function zw(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,S),S}let Yi=(()=>{class n{constructor(t,i,r,a,c,h,g){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new gn.x,this.errorHandler=dC,this.malformedUriErrorHandler=hC,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>gt(void 0),this.urlHandlingStrategy=new BM,this.routeReuseStrategy=new VM,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(Lc),this.configLoader.onLoadEndListener=x=>this.triggerEvent(new zy(x)),this.configLoader.onLoadStartListener=x=>this.triggerEvent(new vw(x)),this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const S=c.get(u.R0b);this.isNgZoneEnabled=S instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function Vg(){return new au(new an([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qy(this.currentUrlTree,this.rootComponentType),this.transitions=new fn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(gi(r=>0!==r.id),(0,ht.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Xn(r=>{let a=!1,c=!1;return gt(r).pipe((0,ve.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Xn(h=>{const g=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return hm(h.source)&&(this.browserUrlTree=h.extractedUrl),gt(h).pipe(Xn(S=>{const x=this.transitions.getValue();return i.next(new Bf(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),x!==this.transitions.getValue()?xi.E:Promise.resolve(S)}),function lv(n,e,t,i){return Xn(r=>function Lw(n,e,t,i,r){return new Uw(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,ht.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ve.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},r.urlAfterRedirects=S.urlAfterRedirects}),function iC(n,e,t,i,r,a){return(0,I.z)(c=>function Vw(n,e,t,i,r,a,c="emptyOnly",h="legacy"){return new Bw(n,e,t,i,r,c,h,a).recognize().pipe(Xn(g=>null===g?function cv(n){return new Jn.y(e=>e.error(n))}(new eC):gt(g)))}(n,e,t,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,a).pipe((0,ht.U)(h=>({...c,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ve.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(U,S)}this.browserUrlTree=S.urlAfterRedirects}const x=new TI(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);i.next(x)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:x,extractedUrl:U,source:G,restoredState:K,extras:X}=h,Ne=new Bf(x,this.serializeUrl(U),G,K);i.next(Ne);const je=Qy(U,this.rootComponentType).snapshot;return gt(r={...h,targetSnapshot:je,urlAfterRedirects:U,extras:{...X,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),xi.E}),(0,ve.b)(h=>{const g=new EI(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),(0,ht.U)(h=>r={...h,guards:jI(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function UM(n,e){return(0,I.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?gt({...t,guardsResult:!0}):function Mw(n,e,t,i){return(0,bn.D)(n).pipe((0,I.z)(r=>function rm(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?gt(a.map(h=>{const g=ya(e)??r,v=Pc(h,g);return Eo(function Nw(n){return n&&pu(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,i):g.runInContext(()=>v(n,e,t,i))).pipe(Q())})).pipe(Yf()):gt(!0)}(r.component,r.route,t,e,i)),Q(r=>!0!==r,!0))}(c,i,r,n).pipe((0,I.z)(h=>h&&function wl(n){return"boolean"==typeof n}(h)?function qI(n,e,t,i){return(0,bn.D)(e).pipe(se(r=>Ks(function zI(n,e){return null!==n&&e&&e(new CI(n)),gt(!0)}(r.route.parent,i),function ZI(n,e){return null!==n&&e&&e(new bw(n)),gt(!0)}(r.route,i),function Ow(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function $I(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>jr(()=>gt(c.guards.map(g=>{const v=ya(c.node)??t,T=Pc(g,v);return Eo(function Aw(n){return n&&pu(n.canActivateChild)}(T)?T.canActivateChild(i,n):v.runInContext(()=>T(i,n))).pipe(Q())})).pipe(Yf())));return gt(a).pipe(Yf())}(n,r.path,t),function WI(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return gt(!0);const r=i.map(a=>jr(()=>{const c=ya(e)??t,h=Pc(a,c);return Eo(function Sw(n){return n&&pu(n.canActivate)}(h)?h.canActivate(e,n):c.runInContext(()=>h(e,n))).pipe(Q())}));return gt(r).pipe(Yf())}(n,r.route,t))),Q(r=>!0!==r,!0))}(i,a,n,e):gt(h)),(0,ht.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,ve.b)(h=>{if(r.guardsResult=h.guardsResult,P(h.guardsResult))throw em(0,h.guardsResult);const g=new II(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),gi(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),fv(h=>{if(h.guards.canActivateChecks.length)return gt(h).pipe((0,ve.b)(g=>{const v=new yw(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),Xn(g=>{let v=!1;return gt(g).pipe(rC(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ve.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,ve.b)(g=>{const v=new Zy(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),fv(h=>{const g=v=>{const T=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,ve.b)(S=>{v.component=S}),(0,ht.U)(()=>{})));for(const S of v.children)T.push(...g(S));return T};return fa(g(h.targetSnapshot.root)).pipe(C(),sn(1))}),fv(()=>this.afterPreactivation()),(0,ht.U)(h=>{const g=function AI(n,e,t){const i=ah(n,e._root,t?t._root:void 0);return new Yy(i,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:g}}),(0,ve.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,ht.U)(i=>(new BI(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,ve.b)({next(){a=!0},complete(){a=!0}}),To(()=>{a||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),et(h=>{if(c=!0,fu(h)){tm(h)||(this.navigated=!0,this.restoreHistory(r,!0));const g=new Yg(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(g),tm(h)){const v=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),T={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hm(r.source)};this.scheduleNavigation(v,"imperative",null,T,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const g=new _w(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(g);try{r.resolve(this.errorHandler(h))}catch(v){r.reject(v)}}return xi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const h={...a};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(iv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:c,queryParamsHandling:h,preserveFragment:g}=i,v=r||this.routerState.root,T=g?this.currentUrlTree.fragment:c;let S=null;switch(h){case"merge":S={...this.currentUrlTree.queryParams,...a};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=a||null}return null!==S&&(S=this.removeEmptyProps(S)),tn(v,this.currentUrlTree,t,S,T??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=P(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function pC(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new u.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...fC}:!1===i?{...Zw}:i,P(t))return Uy(this.currentUrlTree,t,r);const a=this.parseUrl(t);return Uy(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Rc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,c){if(this.disposed)return Promise.resolve(!1);let h,g,v;c?(h=c.resolve,g=c.reject,v=c.promise):v=new Promise((x,U)=>{h=x,g=U});const T=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),S=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:T,targetPageId:S,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:h,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(x=>Promise.reject(x))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new Yg(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:function(){return dm()},providedIn:"root"}),n})();function hm(n){return"imperative"!==n}class Ww{}let _C=(()=>{class n{constructor(t,i,r,a,c){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(gi(t=>t instanceof Rc),se(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,u.MMx)(a.providers,t,`Route: ${a.path}`));const c=a._injector??t,h=a._loadedInjector??c;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(c,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(h,a.children??a._loadedRoutes))}return(0,bn.D)(r).pipe((0,pa.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):gt(null);const a=r.pipe((0,I.z)(c=>null===c?gt(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,bn.D)([a,c]).pipe((0,pa.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Yi),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(Ww),u.LFG(Lc))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vu=new u.OlP("");let va=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Bf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Rc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof hu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new hu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function ep(n,e){return{\u0275kind:n,\u0275providers:e}}function pm(n){return[{provide:yu,multi:!0,useValue:n}]}function gv(){const n=(0,u.f3M)(u.zs3);return e=>{const t=n.get(u.z2F);if(e!==t.components[0])return;const i=n.get(Yi),r=n.get(vC);1===n.get(gm)&&i.initialNavigation(),n.get(Yw,null,u.XFs.Optional)?.setUpPreloading(),n.get(vu,null,u.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const vC=new u.OlP("",{factory:()=>new gn.x}),gm=new u.OlP("",{providedIn:"root",factory:()=>1});const Yw=new u.OlP("");function Io(n){return ep(0,[{provide:Yw,useExisting:_C},{provide:Ww,useExisting:n}])}const Qw=new u.OlP("ROUTER_FORROOT_GUARD"),DC=[Oe,{provide:Ff,useClass:fl},{provide:Yi,useFactory:dm},Gf,{provide:vl,useFactory:function yC(n){return n.routerState.root},deps:[Yi]},Lc];function TC(){return new u.PXZ("Router",Yi)}let mv=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[DC,[],pm(t),{provide:Qw,useFactory:en,deps:[[Yi,new u.FiY,new u.tp0]]},{provide:_u,useValue:i||{}},i?.useHash?{provide:ye,useClass:st}:{provide:ye,useClass:nt},{provide:vu,useFactory:()=>{const n=(0,u.f3M)(Yi),e=(0,u.f3M)(Fd),t=(0,u.f3M)(_u);return t.scrollOffset&&e.setOffset(t.scrollOffset),new va(n,e,t)}},i?.preloadingStrategy?Io(i.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:TC},i?.initialNavigation?Jw(i):[],[{provide:_v,useFactory:gv},{provide:u.tb,multi:!0,useExisting:_v}]]}}static forChild(t){return{ngModule:n,providers:[pm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Qw,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[nm]}),n})();function en(n){return"guarded"}function Jw(n){return["disabled"===n.initialNavigation?ep(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Yi);return()=>{e.setUpLocationChangeListener()}}},{provide:gm,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ep(2,[{provide:gm,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const t=e.get(z,Promise.resolve());let i=!1;return()=>t.then(()=>new Promise(a=>{const c=e.get(Yi),h=e.get(vC);(function r(a){e.get(Yi).events.pipe(gi(h=>h instanceof Rc||h instanceof Yg||h instanceof _w),(0,ht.U)(h=>h instanceof Rc||h instanceof Yg&&(0===h.code||1===h.code)&&null),gi(h=>null!==h),sn(1)).subscribe(()=>{a()})})(()=>{a(!0),i=!0}),c.afterPreactivation=()=>(a(!0),i||h.closed?gt(void 0):h),c.initialNavigation()}))}}]).\u0275providers:[]]}const _v=new u.OlP("");F(9568);var _t,eD=F(3942),be=F(5861),os=F(9681),np=F(4859),bu=F(1877),ln=F(2090),tD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ba={},yv=yv||{},Kt=tD||self;function hh(){}function mm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function _m(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var nD="closure_uid_"+(1e9*Math.random()>>>0),SC=0;function iD(n,e,t){return n.call.apply(n.bind,arguments)}function KM(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Rr(n,e,t){return(Rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?iD:KM).apply(null,arguments)}function Dl(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function gr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(i,r,a){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[r].apply(i,c)}}function Tl(){this.s=this.s,this.o=this.o}Tl.prototype.s=!1,Tl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function WM(n){Object.prototype.hasOwnProperty.call(n,nD)&&n[nD]||(n[nD]=++SC)}(this)},Tl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rD=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function vm(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function sD(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(mm(i)){const r=n.length||0,a=i.length||0;n.length=r+a;for(let c=0;c<a;c++)n[r+c]=i[c]}else n.push(i)}}function xr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}xr.prototype.h=function(){this.defaultPrevented=!0};var AC=function(){if(!Kt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Kt.addEventListener("test",hh,e),Kt.removeEventListener("test",hh,e)}catch{}return n}();function bm(n){return/^[\s\xa0]*$/.test(n)}var oD=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function wm(n,e){return n<e?-1:n>e?1:0}function Dm(){var n=Kt.navigator;return n&&(n=n.userAgent)?n:""}function Co(n){return-1!=Dm().indexOf(n)}function Tm(n){return Tm[" "](n),n}Tm[" "]=hh;var Bc,n,YM=Co("Opera"),wu=Co("Trident")||Co("MSIE"),aD=Co("Edge"),lD=aD||wu,Vc=Co("Gecko")&&!(-1!=Dm().toLowerCase().indexOf("webkit")&&!Co("Edge"))&&!(Co("Trident")||Co("MSIE"))&&!Co("Edge"),uD=-1!=Dm().toLowerCase().indexOf("webkit")&&!Co("Edge");function bv(){var n=Kt.document;return n?n.documentMode:void 0}e:{var Cs="",Em=(n=Dm(),Vc?/rv:([^\);]+)(\)|;)/.exec(n):aD?/Edge\/([\d\.]+)/.exec(n):wu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):uD?/WebKit\/(\S+)/.exec(n):YM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Em&&(Cs=Em?Em[1]:""),wu){var wv=bv();if(null!=wv&&wv>parseFloat(Cs)){Bc=String(wv);break e}}Bc=Cs}var Dv={};var Ev=Kt.document&&wu&&(bv()||parseInt(Bc,10))||void 0;function Im(n,e){if(xr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Vc){e:{try{Tm(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:cD[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Im.X.h.call(this)}}gr(Im,xr);var cD={2:"touch",3:"pen",4:"mouse"};Im.prototype.h=function(){Im.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Cm="closure_listenable_"+(1e6*Math.random()|0),Sm=0;function Am(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ha=r,this.key=++Sm,this.ba=this.ea=!1}function fh(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function rp(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Nm(n){const e={};for(const t in n)e[t]=n[t];return e}const NC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dD(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<NC.length;a++)t=NC[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Mm(n){this.src=n,this.g={},this.h=0}function Iv(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=rD(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(fh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Cv(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==i)return r}return-1}Mm.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=Cv(n,e,i,r);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new Am(e,this.src,a,!!i,r)).ea=t,n.push(e)),e};var Om="closure_lm_"+(1e6*Math.random()|0),hD={};function fD(n,e,t,i,r){if(i&&i.once)return Sv(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)fD(n,e[a],t,i,r);return null}return t=yD(t),n&&n[Cm]?n.N(e,t,_m(i)?!!i.capture:!!i,r):MC(n,e,t,!1,i,r)}function MC(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var c=_m(r)?!!r.capture:!!r,h=mD(n);if(h||(n[Om]=h=new Mm(n)),(t=h.add(e,t,i,c,a)).proxy)return t;if(i=function pD(){const e=QM;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)AC||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(OC(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Sv(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)Sv(n,e[a],t,i,r);return null}return t=yD(t),n&&n[Cm]?n.O(e,t,_m(i)?!!i.capture:!!i,r):MC(n,e,t,!0,i,r)}function gD(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)gD(n,e[a],t,i,r);else i=_m(i)?!!i.capture:!!i,t=yD(t),n&&n[Cm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Cv(a=n.g[e],t,i,r))&&(fh(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=mD(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Cv(e,t,i,r)),(t=-1<n?e[n]:null)&&sp(t))}function sp(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Cm])Iv(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(OC(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=mD(e))?(Iv(t,n),0==t.h&&(t.src=null,e[Om]=null)):fh(n)}}}function OC(n){return n in hD?hD[n]:hD[n]="on"+n}function QM(n,e){if(n.ba)n=!0;else{e=new Im(e,this);var t=n.listener,i=n.ha||n.src;n.ea&&sp(n),n=t.call(i,e)}return n}function mD(n){return(n=n[Om])instanceof Mm?n:null}var _D="__closure_events_fn_"+(1e9*Math.random()>>>0);function yD(n){return"function"==typeof n?n:(n[_D]||(n[_D]=function(e){return n.handleEvent(e)}),n[_D])}function mr(){Tl.call(this),this.i=new Mm(this),this.P=this,this.I=null}function kr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new xr(e,n);else if(e instanceof xr)e.target=e.target||n;else{var r=e;dD(e=new xr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];r=Av(c,i,!0,e)&&r}if(r=Av(c=e.g=n,i,!0,e)&&r,r=Av(c,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=Av(c=e.g=t[a],i,!1,e)&&r}function Av(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ba&&c.capture==t){var h=c.listener,g=c.ha||c.src;c.ea&&Iv(n.i,c),r=!1!==h.call(g,i)&&r}}return r&&!i.defaultPrevented}gr(mr,Tl),mr.prototype[Cm]=!0,mr.prototype.removeEventListener=function(n,e,t,i){gD(this,n,e,t,i)},mr.prototype.M=function(){if(mr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)fh(t[i]);delete n.g[e],n.h--}}this.I=null},mr.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},mr.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var vD=Kt.JSON.stringify;function JM(){var n=Il;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var km,Rm=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new RC,n=>n.reset());class RC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function bD(n){Kt.setTimeout(()=>{throw n},0)}function xm(n,e){km||function Nv(){var n=Kt.Promise.resolve(void 0);km=function(){n.then(wD)}}(),Mv||(km(),Mv=!0),Il.add(n,e)}var Mv=!1,Il=new class Du{constructor(){this.h=this.g=null}add(e,t){const i=Rm.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function wD(){for(var n;n=JM();){try{n.h.call(n.g)}catch(t){bD(t)}var e=Rm;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Mv=!1}function Pm(n,e){mr.call(this),this.h=n||1,this.g=e||Kt,this.j=Rr(this.lb,this),this.l=Date.now()}function Ov(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Fm(n,e,t){if("function"==typeof n)t&&(n=Rr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Rr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Kt.setTimeout(n,e||0)}function DD(n){n.g=Fm(()=>{n.g=null,n.i&&(n.i=!1,DD(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}gr(Pm,mr),(_t=Pm.prototype).ca=!1,_t.R=null,_t.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),kr(this,"tick"),this.ca&&(Ov(this),this.start()))}},_t.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_t.M=function(){Pm.X.M.call(this),Ov(this),delete this.g};class xC extends Tl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:DD(this)}M(){super.M(),this.g&&(Kt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tu(n){Tl.call(this),this.h=n,this.g={}}gr(Tu,Tl);var jc=[];function Lm(n,e,t,i){Array.isArray(t)||(t&&(jc[0]=t.toString()),t=jc);for(var r=0;r<t.length;r++){var a=fD(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function $c(n){rp(n.g,function(e,t){this.g.hasOwnProperty(t)&&sp(e)},n),n.g={}}function ph(){this.g=!0}function Hc(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function xv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<r.length;c++)r[c]=""}}}return vD(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Tu.prototype.M=function(){Tu.X.M.call(this),$c(this)},Tu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ph.prototype.Aa=function(){this.g=!1},ph.prototype.info=function(){};var Eu={},Vm=null;function Bm(){return Vm=Vm||new mr}function kC(n){xr.call(this,Eu.Pa,n)}function op(n){const e=Bm();kr(e,new kC(e))}function kv(n,e){xr.call(this,Eu.STAT_EVENT,n),this.stat=e}function Hr(n){const e=Bm();kr(e,new kv(e,n))}function Pv(n,e){xr.call(this,Eu.Qa,n),this.size=e}function gh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Kt.setTimeout(function(){n()},e)}Eu.Pa="serverreachability",gr(kC,xr),Eu.STAT_EVENT="statevent",gr(kv,xr),Eu.Qa="timingevent",gr(Pv,xr);var jm={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},as={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function $m(){}function PC(){}$m.prototype.h=null;var Fv,ap={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function lp(){xr.call(this,"d")}function Hm(){xr.call(this,"c")}function Gm(){}function up(n,e,t,i){this.l=n,this.j=e,this.m=t,this.U=i||1,this.S=new Tu(this),this.O=FC,this.T=new Pm(n=lD?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Lv}function Lv(){this.i=null,this.g="",this.h=!1}gr(lp,xr),gr(Hm,xr),gr(Gm,$m),Gm.prototype.g=function(){return new XMLHttpRequest},Gm.prototype.i=function(){return{}},Fv=new Gm;var FC=45e3,qm={},Zm={};function Uv(n,e,t){n.K=1,n.v=cp(So(e)),n.s=t,n.P=!0,Vv(n,null)}function Vv(n,e){n.F=Date.now(),Gc(n),n.A=So(n.v);var t=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),MD(t.i,"t",i),n.C=0,t=n.l.H,n.h=new Lv,n.g=d_(n.l,t?e:null,!n.s),0<n.N&&(n.L=new xC(Rr(n.La,n,n.g),n.N)),Lm(n.S,n.g,"readystatechange",n.ib),e=n.H?Nm(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),op(),function Um(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var c="",h=a.split("&"),g=0;g<h.length;g++){var v=h[g].split("=");if(1<v.length){var T=v[0];v=v[1];var S=T.split("_");c=2<=S.length&&"type"==S[1]?c+(T+"=")+v+"&":c+(T+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Bv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function ID(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=wa(n,t),r==Zm){4==e&&(n.o=4,Hr(14),i=!1),Hc(n.j,n.m,null,"[Incomplete Response]");break}if(r==qm){n.o=4,Hr(15),Hc(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Hc(n.j,n.m,r,null),jv(n,r)}Bv(n)&&r!=Zm&&r!=qm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Hr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),l_(e),e.K=!0,Hr(11))):(Hc(n.j,n.m,t,"[Invalid Chunked Response]"),Iu(n),Wm(n))}function wa(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Zm:(t=Number(e.substring(t,i)),isNaN(t)?qm:(i+=1)+t>e.length?Zm:(e=e.substr(i,t),n.C=i+t,e))}function Gc(n){n.V=Date.now()+n.O,CD(n,n.O)}function CD(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=gh(Rr(n.gb,n),e)}function zm(n){n.B&&(Kt.clearTimeout(n.B),n.B=null)}function Wm(n){0==n.l.G||n.I||FD(n.l,n)}function Iu(n){zm(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ov(n.T),$c(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function jv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Gv(t.h,n)))if(!n.J&&Gv(t.h,n)&&3==t.G){try{var i=t.Fa.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;u_(t),Al(t)}a_(t),Hr(18)}}else t.Ba=r[1],0<t.Ba-t.T&&37500>r[2]&&t.L&&0==t.A&&!t.v&&(t.v=gh(Rr(t.cb,t),6e3));if(1>=xD(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Yc(t,11)}else if((n.J||t.g==n)&&u_(t),!bm(e))for(r=t.Fa.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const T=v[3];null!=T&&(t.ma=T,t.j.info("VER="+t.ma));const S=v[4];null!=S&&(t.Ca=S,t.j.info("SVER="+t.Ca));const x=v[5];null!=x&&"number"==typeof x&&0<x&&(t.J=i=1.5*x,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const U=n.g;if(U){const G=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var a=i.h;a.g||-1==G.indexOf("spdy")&&-1==G.indexOf("quic")&&-1==G.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(e_(a,a.h),a.h=null))}if(i.D){const K=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(i.za=K,_i(i.F,i.D,K))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((i=t).sa=c_(i,i.H?i.ka:null,i.V),c.J){t_(i.h,c);var h=c,g=i.J;g&&h.setTimeout(g),h.B&&(zm(h),Gc(h)),i.g=c}else zv(i);0<t.i.length&&_p(t)}else"stop"!=v[0]&&"close"!=v[0]||Yc(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Yc(t,7):Nu(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}op()}catch{}}function Km(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(mm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function UC(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(mm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function LC(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(mm(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}(_t=up.prototype).setTimeout=function(n){this.O=n},_t.ib=function(n){n=n.target;const e=this.L;e&&3==ls(n)?e.l():this.La(n)},_t.La=function(n){try{if(n==this.g)e:{const T=ls(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>T)&&(3!=T||lD||this.g&&(this.h.h||this.g.fa()||Zc(this.g)))){this.I||4!=T||7==e||op(),zm(this);var t=this.g.aa();this.Y=t;t:if(Bv(this)){var i=Zc(this.g);n="";var r=i.length,a=4==ls(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Iu(this),Wm(this);var c="";break t}this.h.i=new Kt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function TD(n,e,t,i,r,a,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.U,T,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bm(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Hr(12),Iu(this),Wm(this);break e}Hc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,jv(this,t)}this.P?(ID(this,T,c),lD&&this.i&&3==T&&(Lm(this.S,this.T,"tick",this.hb),this.T.start())):(Hc(this.j,this.m,c,null),jv(this,c)),4==T&&Iu(this),this.i&&!this.I&&(4==T?FD(this.l,this):(this.i=!1,Gc(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Hr(12)):(this.o=0,Hr(13)),Iu(this),Wm(this)}}}catch{}},_t.hb=function(){if(this.g){var n=ls(this.g),e=this.g.fa();this.C<e.length&&(zm(this),ID(this,n,e),this.i&&4!=n&&Gc(this))}},_t.cancel=function(){this.I=!0,Iu(this)},_t.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function Rv(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(op(),Hr(17)),Iu(this),this.o=2,Wm(this)):CD(this,this.V-n)};var SD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Da){this.h=void 0!==e?e:n.h,qc(this,n.j),this.s=n.s,this.g=n.g,$v(this,n.m),this.l=n.l,e=n.i;var t=new hp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ym(this,t),this.o=n.o}else n&&(t=String(n).match(SD))?(this.h=!!e,qc(this,t[1]||"",!0),this.s=mh(t[2]||""),this.g=mh(t[3]||"",!0),$v(this,t[4]),this.l=mh(t[5]||"",!0),Ym(this,t[6]||"",!0),this.o=mh(t[7]||"")):(this.h=!!e,this.i=new hp(null,this.h))}function So(n){return new Da(n)}function qc(n,e,t){n.j=t?mh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function $v(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Ym(n,e,t){e instanceof hp?(n.i=e,function BC(n,e){e&&!n.j&&(Ta(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Hv(this,i),MD(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=_h(e,Xm)),n.i=new hp(e,n.h))}function _i(n,e,t){n.i.set(e,t)}function cp(n){return _i(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function mh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function _h(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,AD),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function AD(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Da.prototype.toString=function(){var n=[],e=this.j;e&&n.push(_h(e,Qm,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(_h(e,Qm,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(_h(t,"/"==t.charAt(0)?Jm:Cl,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",_h(t,dp)),n.join("")};var Qm=/[#\/\?@]/g,Cl=/[#\?:]/g,Jm=/[#\?]/g,Xm=/[#\?@]/g,dp=/#/g;function hp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ta(n){n.g||(n.g=new Map,n.h=0,n.i&&function VC(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Hv(n,e){Ta(n),e=Ea(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function ND(n,e){return Ta(n),e=Ea(n,e),n.g.has(e)}function MD(n,e,t){Hv(n,e),0<t.length&&(n.i=null,n.g.set(Ea(n,e),vm(t)),n.h+=t.length)}function Ea(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function OD(n){this.l=n||eO,n=Kt.PerformanceNavigationTiming?0<(n=Kt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Kt.g&&Kt.g.Ga&&Kt.g.Ga()&&Kt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_t=hp.prototype).add=function(n,e){Ta(this),this.i=null,n=Ea(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},_t.forEach=function(n,e){Ta(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},_t.oa=function(){Ta(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let a=0;a<r.length;a++)t.push(e[i])}return t},_t.W=function(n){Ta(this);let e=[];if("string"==typeof n)ND(this,n)&&(e=e.concat(this.g.get(Ea(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},_t.set=function(n,e){return Ta(this),this.i=null,ND(this,n=Ea(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},_t.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},_t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const a=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=a;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var eO=10;function RD(n){return!!n.h||!!n.g&&n.g.size>=n.j}function xD(n){return n.h?1:n.g?n.g.size:0}function Gv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function e_(n,e){n.g?n.g.add(e):n.h=e}function t_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function kD(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return vm(n.i)}function fp(){}function jC(){this.g=new fp}function $C(n,e,t){const i=t||"";try{Km(n,function(r,a){let c=r;_m(r)&&(c=vD(r)),e.push(i+a+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function n_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function pp(n){this.l=n.ac||null,this.j=n.jb||!1}function i_(n,e){mr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=yh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}OD.prototype.cancel=function(){if(this.i=kD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},fp.prototype.stringify=function(n){return Kt.JSON.stringify(n,void 0)},fp.prototype.parse=function(n){return Kt.JSON.parse(n,void 0)},gr(pp,$m),pp.prototype.g=function(){return new i_(this.l,this.j)},pp.prototype.i=function(n){return function(){return n}}({}),gr(i_,mr);var yh=0;function Cu(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function r_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Sl(n)}function Sl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_t=i_.prototype).open=function(n,e){if(this.readyState!=yh)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Sl(this)},_t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Kt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},_t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,r_(this)),this.readyState=yh},_t.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Sl(this)),this.g&&(this.readyState=3,Sl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Kt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cu(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},_t.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?r_(this):Sl(this),3==this.readyState&&Cu(this)}},_t.Va=function(n){this.g&&(this.response=this.responseText=n,r_(this))},_t.Ua=function(n){this.g&&(this.response=n,r_(this))},_t.ga=function(){this.g&&r_(this)},_t.setRequestHeader=function(n,e){this.v.append(n,e)},_t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(i_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var GC=Kt.JSON.parse;function Di(n){mr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=s_,this.K=this.L=!1}gr(Di,mr);var s_="",qC=/^https?$/i,Ia=["POST","PUT"];function _r(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Su(n),Gr(n)}function Su(n){n.D||(n.D=!0,kr(n,"complete"),kr(n,"error"))}function mp(n){if(n.h&&typeof yv<"u"&&(!n.C[1]||4!=ls(n)||2!=n.aa()))if(n.v&&4==ls(n))Fm(n.Ha,0,n);else if(kr(n,"readystatechange"),4==ls(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.H).match(SD)[1]||null;if(!r&&Kt.self&&Kt.self.location){var a=Kt.self.location.protocol;r=a.substr(0,a.length-1)}i=!qC.test(r?r.toLowerCase():"")}t=i}if(t)kr(n,"complete"),kr(n,"success");else{n.m=6;try{var c=2<ls(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",Su(n)}}finally{Gr(n)}}}function Gr(n,e){if(n.g){o_(n);const t=n.g,i=n.C[0]?hh:null;n.g=null,n.C=null,e||kr(n,"ready");try{t.onreadystatechange=i}catch{}}}function o_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Kt.clearTimeout(n.A),n.A=null)}function ls(n){return n.g?n.g.readyState:0}function Zc(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case s_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function zc(n){let e="";return rp(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function Au(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=zc(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):_i(n,e,t))}function Ca(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Wc(n){this.Ca=0,this.i=[],this.j=new ph,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ca("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ca("baseRetryDelayMs",5e3,n),this.bb=Ca("retryDelaySeedMs",1e4,n),this.$a=Ca("forwardChannelMaxRetries",2,n),this.ta=Ca("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new OD(n&&n.concurrentRequestLimit),this.Fa=new jC,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Nu(n){if(Kc(n),3==n.G){var e=n.U++,t=So(n.F);_i(t,"SID",n.I),_i(t,"RID",e),_i(t,"TYPE","terminate"),vh(n,t),(e=new up(n,n.j,e,void 0)).K=2,e.v=cp(So(t)),t=!1,Kt.navigator&&Kt.navigator.sendBeacon&&(t=Kt.navigator.sendBeacon(e.v.toString(),"")),!t&&Kt.Image&&((new Image).src=e.v,t=!0),t||(e.g=d_(e.l,null),e.g.da(e.v)),e.F=Date.now(),Gc(e)}Yv(n)}function Al(n){n.g&&(l_(n),n.g.cancel(),n.g=null)}function Kc(n){Al(n),n.u&&(Kt.clearTimeout(n.u),n.u=null),u_(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Kt.clearTimeout(n.m),n.m=null)}function _p(n){RD(n.h)||n.m||(n.m=!0,xm(n.Ja,n),n.C=0)}function qv(n,e){var t;t=e?e.m:n.U++;const i=So(n.F);_i(i,"SID",n.I),_i(i,"RID",t),_i(i,"AID",n.T),vh(n,i),n.o&&n.s&&Au(i,n.o,n.s),t=new up(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Zv(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),e_(n.h,t),Uv(t,i,e)}function vh(n,e){n.ia&&rp(n.ia,function(t,i){_i(e,i,t)}),n.l&&Km({},function(t,i){_i(e,i,t)})}function Zv(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Rr(n.l.Ra,n.l,n):null;e:{var r=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=r[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let h=!0;for(let g=0;g<t;g++){let v=r[g].h;const T=r[g].g;if(v-=a,0>v)a=Math.max(0,r[g].h-100),h=!1;else try{$C(T,c,"req"+v+"_")}catch{i&&i(T)}}if(h){i=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,i}function zv(n){n.g||n.u||(n.Z=1,xm(n.Ia,n),n.A=0)}function a_(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=gh(Rr(n.Ia,n),Kv(n,n.A)),n.A++,0))}function l_(n){null!=n.B&&(Kt.clearTimeout(n.B),n.B=null)}function Wv(n){n.g=new up(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=So(n.sa);_i(e,"RID","rpc"),_i(e,"SID",n.I),_i(e,"CI",n.L?"0":"1"),_i(e,"AID",n.T),_i(e,"TYPE","xmlhttp"),vh(n,e),n.o&&n.s&&Au(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=cp(So(e)),t.s=null,t.P=!0,Vv(t,n)}function u_(n){null!=n.v&&(Kt.clearTimeout(n.v),n.v=null)}function FD(n,e){var t=null;if(n.g==e){u_(n),l_(n),n.g=null;var i=2}else{if(!Gv(n.h,e))return;t=e.D,t_(n.h,e),i=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;kr(i=Bm(),new Pv(i,t)),_p(n)}else zv(n);else if(3==(r=e.o)||0==r&&0<n.pa||!(1==i&&function PD(n,e){return!(xD(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=gh(Rr(n.Ja,n,e),Kv(n,n.C)),n.C++,0)))}(n,e)||2==i&&a_(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:Yc(n,5);break;case 4:Yc(n,10);break;case 3:Yc(n,6);break;default:Yc(n,2)}}function Kv(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Yc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Rr(n.kb,n);t||(t=new Da("//www.google.com/images/cleardot.gif"),Kt.location&&"http"==Kt.location.protocol||qc(t,"https"),cp(t)),function HC(n,e){const t=new ph;if(Kt.Image){const i=new Image;i.onload=Dl(n_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=Dl(n_,t,i,"TestLoadImage: error",!1,e),i.onabort=Dl(n_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=Dl(n_,t,i,"TestLoadImage: timeout",!1,e),Kt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Hr(2);n.G=0,n.l&&n.l.va(e),Yv(n),Kc(n)}function Yv(n){if(n.G=0,n.la=[],n.l){const e=kD(n.h);(0!=e.length||0!=n.i.length)&&(sD(n.la,e),sD(n.la,n.i),n.h.i.length=0,vm(n.i),n.i.length=0),n.l.ua()}}function c_(n,e,t){var i=t instanceof Da?So(t):new Da(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),$v(i,i.m);else{var r=Kt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var a=new Da(null,void 0);i&&qc(a,i),e&&(a.g=e),r&&$v(a,r),t&&(a.l=t),i=a}return e=n.za,(t=n.D)&&e&&_i(i,t,e),_i(i,"VER",n.ma),vh(n,i),i}function d_(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Di(t&&n.Da&&!n.ra?new pp({jb:!0}):n.ra)).Ka(n.H),e}function LD(){}function Qc(){if(wu&&!(10<=Number(Ev)))throw Error("Environmental error: no available transport.")}function Pr(n,e){mr.call(this),this.g=new Wc(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!bm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Nl(this)}function h_(n){lp.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function UD(){Hm.call(this),this.status=1}function Nl(n){this.g=n}(_t=Di.prototype).Ka=function(n){this.L=n},_t.da=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fv.g(),this.C=function ED(n){return n.h||(n.h=n.i())}(this.u?this.u:Fv),this.g.onreadystatechange=Rr(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void _r(this,a)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const a of i.keys())t.set(a,i.get(a))}i=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),r=Kt.FormData&&n instanceof Kt.FormData,!(0<=rD(Ia,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{o_(this),0<this.B&&((this.K=function gp(n){return wu&&function El(){return function vv(n){var e=Dv;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=oD(String(Bc)).split("."),t=oD("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",a=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=wm(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||wm(0==r[2].length,0==a[2].length)||wm(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rr(this.qa,this)):this.A=Fm(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){_r(this,a)}},_t.qa=function(){typeof yv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kr(this,"timeout"),this.abort(8))},_t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,kr(this,"complete"),kr(this,"abort"),Gr(this))},_t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gr(this,!0)),Di.X.M.call(this)},_t.Ha=function(){this.s||(this.F||this.v||this.l?mp(this):this.fb())},_t.fb=function(){mp(this)},_t.aa=function(){try{return 2<ls(this)?this.g.status:-1}catch{return-1}},_t.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},_t.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),GC(e)}},_t.Ea=function(){return this.m},_t.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_t=Wc.prototype).ma=8,_t.G=1,_t.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new up(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=Nm(a),dD(a,this.S)):a=this.S),null!==this.o||this.N||(r.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Zv(this,r,e),_i(t=So(this.F),"RID",n),_i(t,"CVER",22),this.D&&_i(t,"X-HTTP-Session-Id",this.D),vh(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(zc(a)))+"&"+e:this.o&&Au(t,this.o,a)),e_(this.h,r),this.Ya&&_i(t,"TYPE","init"),this.O?(_i(t,"$req",e),_i(t,"SID","null"),r.Z=!0,Uv(r,t,null)):Uv(r,t,e),this.G=2}}else 3==this.G&&(n?qv(this,n):0==this.i.length||RD(this.h)||qv(this))},_t.Ia=function(){if(this.u=null,Wv(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=gh(Rr(this.eb,this),n)}},_t.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Hr(10),Al(this),Wv(this))},_t.cb=function(){null!=this.v&&(this.v=null,Al(this),a_(this),Hr(19))},_t.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Hr(2)):(this.j.info("Failed to ping google.com"),Hr(1))},(_t=LD.prototype).xa=function(){},_t.wa=function(){},_t.va=function(){},_t.ua=function(){},_t.Ra=function(){},Qc.prototype.g=function(n,e){return new Pr(n,e)},gr(Pr,mr),Pr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Hr(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=c_(n,null,n.V),_p(n)},Pr.prototype.close=function(){Nu(this.g)},Pr.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=vD(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&_p(e)},Pr.prototype.M=function(){this.g.l=null,delete this.j,Nu(this.g),delete this.g,Pr.X.M.call(this)},gr(h_,lp),gr(UD,Hm),gr(Nl,LD),Nl.prototype.xa=function(){kr(this.g,"a")},Nl.prototype.wa=function(n){kr(this.g,new h_(n))},Nl.prototype.va=function(n){kr(this.g,new UD)},Nl.prototype.ua=function(){kr(this.g,"b")},Qc.prototype.createWebChannel=Qc.prototype.g,Pr.prototype.send=Pr.prototype.u,Pr.prototype.open=Pr.prototype.m,Pr.prototype.close=Pr.prototype.close,jm.NO_ERROR=0,jm.TIMEOUT=8,jm.HTTP_ERROR=6,as.COMPLETE="complete",PC.EventType=ap,ap.OPEN="a",ap.CLOSE="b",ap.ERROR="c",ap.MESSAGE="d",mr.prototype.listen=mr.prototype.N,Di.prototype.listenOnce=Di.prototype.O,Di.prototype.getLastError=Di.prototype.Oa,Di.prototype.getLastErrorCode=Di.prototype.Ea,Di.prototype.getStatus=Di.prototype.aa,Di.prototype.getResponseJson=Di.prototype.Sa,Di.prototype.getResponseText=Di.prototype.fa,Di.prototype.send=Di.prototype.da,Di.prototype.setWithCredentials=Di.prototype.Ka;var f_=ba.createWebChannelTransport=function(){return new Qc},VD=ba.getStatEventTarget=function(){return Bm()},p_=ba.ErrorCode=jm,Qv=ba.EventType=as,BD=ba.Event=Eu,Jv=ba.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Xv=ba.FetchXmlHttpFactory=pp,yp=ba.WebChannel=PC,ZC=ba.XhrIo=Di;const e0="@firebase/firestore";class Qi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");let Jc="9.17.1";const Ml=new bu.Yd("@firebase/firestore");function t0(){return Ml.logLevel}function Ge(n,...e){if(Ml.logLevel<=bu.in.DEBUG){const t=e.map(g_);Ml.debug(`Firestore (${Jc}): ${n}`,...t)}}function yi(n,...e){if(Ml.logLevel<=bu.in.ERROR){const t=e.map(g_);Ml.error(`Firestore (${Jc}): ${n}`,...t)}}function Sa(n,...e){if(Ml.logLevel<=bu.in.WARN){const t=e.map(g_);Ml.warn(`Firestore (${Jc}): ${n}`,...t)}}function g_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function pt(n="Unexpected state"){const e=`FIRESTORE (${Jc}) INTERNAL ASSERTION FAILED: `+n;throw yi(e),new Error(e)}function Et(n,e){n||pt()}function tt(n,e){return n}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends ln.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $i{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class zC{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qi.UNAUTHENTICATED))}shutdown(){}}class KC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HD{constructor(e){this.t=e,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let c=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $i,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const v=c;e.enqueueRetryable((0,be.Z)(function*(){yield v.promise,yield a(i.currentUser)}))},g=v=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $i)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Et("string"==typeof i.accessToken),new zC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(null===e||"string"==typeof e),new Qi(e)}}class YC{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r,this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Et(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ji{constructor(e,t,i,r){this.h=e,this.l=t,this.m=i,this.g=r}getToken(){return Promise.resolve(new YC(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QC{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const i=a=>{null!=a.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.A;return this.A=a.token,Ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?r(a):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et("string"==typeof t.token),this.A=t.token,new n0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function GD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class qD{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=GD(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function Qt(n,e){return n<e?-1:n>e?1:0}function Xc(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function ed(n){return n+"\0"}class oi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ue(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return oi.fromMillis(Date.now())}static fromDate(e){return oi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new oi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new oi(0,0))}static max(){return new Rt(new oi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bh{constructor(e,t,i){void 0===t?t=0:t>e.length&&pt(),void 0===i?i=e.length-t:i>e.length-t&&pt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===bh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bh?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),c=t.get(r);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class mn extends bh{construct(e,t,i){return new mn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ue(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new mn(t)}static emptyPath(){return new mn([])}}const ZD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pi extends bh{construct(e,t,i){return new Pi(e,t,i)}static isValidIdentifier(e){return ZD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Pi(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Ue(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Ue(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Ue(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(a(),r++)}if(a(),c)throw new Ue(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pi(t)}static emptyPath(){return new Pi([])}}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(mn.fromString(e))}static fromName(e){return new Je(mn.fromString(e).popFirst(5))}static empty(){return new Je(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===mn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return mn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new mn(e.slice()))}}class wh{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Js(n){return n.fields.find(e=>2===e.kind)}function td(n){return n.fields.filter(e=>2!==e.kind)}wh.UNKNOWN_ID=-1;class Ss{constructor(e,t){this.fieldPath=e,this.kind=t}}class qr{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new qr(0,As.min())}}function r0(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Rt.fromTimestamp(1e9===i?new oi(t+1,0):new oi(t,i));return new As(r,Je.empty(),e)}function s0(n){return new As(n.readTime,n.key,-1)}class As{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new As(Rt.min(),Je.empty(),-1)}static max(){return new As(Rt.max(),Je.empty(),-1)}}function o0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Je.comparator(n.documentKey,e.documentKey),0!==t?t:Qt(n.largestBatchId,e.largestBatchId))}const WD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Aa(n){return nd.apply(this,arguments)}function nd(){return nd=(0,be.Z)(function*(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==WD)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),nd.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,i)=>{t(e)})}static reject(e){return new ue((t,i)=>{i(e)})}static waitFor(e){return new ue((t,i)=>{let r=0,a=0,c=!1;e.forEach(h=>{++r,h.next(()=>{++a,c&&a===r&&t()},g=>i(g))}),c=!0,a===r&&t()})}static or(e){let t=ue.resolve(!1);for(const i of e)t=t.next(r=>r?ue.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new ue((i,r)=>{const a=e.length,c=new Array(a);let h=0;for(let g=0;g<a;g++){const v=g;t(e[v]).next(T=>{c[v]=T,++h,h===a&&i(c)},T=>r(T))}})}static doWhile(e,t){return new ue((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class vp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new $i,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Dh(e,t.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=bp(i.target.error);this.P.reject(new Dh(e,r))}}static open(e,t,i,r){try{return new vp(t,e.transaction(r,i))}catch(a){throw new Dh(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new JC(t)}}class No{constructor(e,t,i){this.name=e,this.version=t,this.S=i,12.2===No.D((0,ln.z$)())&&yi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ge("SimpleDb","Removing database:",e),Mu(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ln.hl)())return!1;if(No.N())return!0;const e=(0,ln.z$)(),t=No.D(e),i=0<t&&t<10,r=No.k(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(e){var t=this;return(0,be.Z)(function*(){return t.db||(Ge("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{i(c.target.result)},a.onblocked=()=>{r(new Dh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new Ue(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ue(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Dh(e,h))},a.onupgradeneeded=c=>{Ge("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.S.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=i=>t.B(i)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,be.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{a.db=yield a.F(e);const g=vp.open(a.db,e,c?"readonly":"readwrite",i),v=r(g).next(T=>(g.V(),T)).catch(T=>(g.abort(T),ue.reject(T))).toPromise();return v.catch(()=>{}),yield g.v,v}catch(g){const v=g,T="FirebaseError"!==v.name&&h<3;if(Ge("SimpleDb","Transaction failed with error:",v.message,"Retrying:",T),a.close(),!T)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class YD{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Mu(this.q.delete())}}class Dh extends Ue{constructor(e,t){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Mo(n){return"IndexedDbTransactionError"===n.name}class JC{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ge("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Mu(i)}add(e){return Ge("SimpleDb","ADD",this.store.name,e,e),Mu(this.store.add(e))}get(e){return Mu(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ge("SimpleDb","DELETE",this.store.name,e),Mu(this.store.delete(e))}count(){return Ge("SimpleDb","COUNT",this.store.name),Mu(this.store.count())}W(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.H(r,(c,h)=>{a.push(h)}).next(()=>a)}{const r=this.store.getAll(i.range);return new ue((a,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{a(h.target.result)}})}}J(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ue((r,a)=>{i.onerror=c=>{a(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(e,t){Ge("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const r=this.cursor(i);return this.H(r,(a,c,h)=>h.delete())}Z(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.H(r,t)}tt(e){const t=this.cursor({});return new ue((i,r)=>{t.onerror=a=>{const c=bp(a.target.error);r(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}H(e,t){const i=[];return new ue((r,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const g=new YD(h),v=t(h.primaryKey,h.value,g);if(v instanceof ue){const T=v.catch(S=>(g.done(),ue.reject(S)));i.push(T)}g.isDone?r():null===g.G?h.continue():h.continue(g.G)}}).next(()=>ue.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Mu(n){return new ue((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=bp(i.target.error);t(r)}})}let a0=!1;function bp(n){const e=No.D((0,ln.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return a0||(a0=!0,setTimeout(()=>{throw i},0)),i}}return n}class m_{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Ge("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,be.Z)(function*(){t.task=null;try{Ge("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(i){Mo(i)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Aa(i)}yield t.nt(6e4)}))}}class QD{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.it(i,e))})()}it(e,t){const i=new Set;let r=t,a=!0;return ue.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!i.has(c))return Ge("IndexBackiller",`Processing collection: ${c}`),this.rt(e,c,r).next(h=>{r-=h,i.add(c)});a=!1})).next(()=>t-r)}rt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.ot(r,a)).next(h=>(Ge("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}ot(e,t){let i=e;return t.changes.forEach((r,a)=>{const c=s0(a);o0(c,i)>0&&(i=c)}),new As(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let us=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>i.writeSequenceNumber(r))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class JD{constructor(e,t,i,r,a,c,h,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class Ol{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ol("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}function l0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ou(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function u0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Th(n){return null==n}function wp(n){return 0===n&&1/n==-1/0}function XD(n){return"number"==typeof n&&Number.isInteger(n)&&!wp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Xi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Xi(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new Xi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xi.EMPTY_BYTE_STRING=new Xi("");const eS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ru(n){if(Et(!!n),"string"==typeof n){let e=0;const t=eS.exec(n);if(Et(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ti(n.seconds),nanos:Ti(n.nanos)}}function Ti(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function id(n){return"string"==typeof n?Xi.fromBase64String(n):Xi.fromUint8Array(n)}function c0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function e1(n){const e=n.mapValue.fields.__previous_value__;return c0(e)?e1(e):e}function Dp(n){const e=Ru(n.mapValue.fields.__local_write_time__.timestampValue);return new oi(e.seconds,e.nanos)}const xu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},__={nullValue:"NULL_VALUE"};function rd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?c0(n)?4:b_(n)?9007199254740991:10:pt()}function Na(n,e){if(n===e)return!0;const t=rd(n);if(t!==rd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dp(n).isEqual(Dp(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Ru(i.timestampValue),c=Ru(r.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,id(n.bytesValue).isEqual(id(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ti(i.geoPointValue.latitude)===Ti(r.geoPointValue.latitude)&&Ti(i.geoPointValue.longitude)===Ti(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ti(i.integerValue)===Ti(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Ti(i.doubleValue),c=Ti(r.doubleValue);return a===c?wp(a)===wp(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Xc(n.arrayValue.values||[],e.arrayValue.values||[],Na);case 10:return function(i,r){const a=i.mapValue.fields||{},c=r.mapValue.fields||{};if(l0(a)!==l0(c))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===c[h]||!Na(a[h],c[h])))return!1;return!0}(n,e);default:return pt()}var r}function Tp(n,e){return void 0!==(n.values||[]).find(t=>Na(t,e))}function ku(n,e){if(n===e)return 0;const t=rd(n),i=rd(e);if(t!==i)return Qt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,e.booleanValue);case 2:return function(r,a){const c=Ti(r.integerValue||r.doubleValue),h=Ti(a.integerValue||a.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return t1(n.timestampValue,e.timestampValue);case 4:return t1(Dp(n),Dp(e));case 5:return Qt(n.stringValue,e.stringValue);case 6:return function(r,a){const c=id(r),h=id(a);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const c=r.split("/"),h=a.split("/");for(let g=0;g<c.length&&g<h.length;g++){const v=Qt(c[g],h[g]);if(0!==v)return v}return Qt(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const c=Qt(Ti(r.latitude),Ti(a.latitude));return 0!==c?c:Qt(Ti(r.longitude),Ti(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const c=r.values||[],h=a.values||[];for(let g=0;g<c.length&&g<h.length;++g){const v=ku(c[g],h[g]);if(v)return v}return Qt(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===xu.mapValue&&a===xu.mapValue)return 0;if(r===xu.mapValue)return 1;if(a===xu.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),g=a.fields||{},v=Object.keys(g);h.sort(),v.sort();for(let T=0;T<h.length&&T<v.length;++T){const S=Qt(h[T],v[T]);if(0!==S)return S;const x=ku(c[h[T]],g[v[T]]);if(0!==x)return x}return Qt(h.length,v.length)}(n.mapValue,e.mapValue);default:throw pt()}}function t1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qt(n,e);const t=Ru(n),i=Ru(e),r=Qt(t.seconds,i.seconds);return 0!==r?r:Qt(t.nanos,i.nanos)}function sd(n){return y_(n)}function y_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Ru(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?id(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const c of i.values||[])a?a=!1:r+=",",r+=y_(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",c=!0;for(const h of r)c?c=!1:a+=",",a+=`${h}:${y_(i.fields[h])}`;return a+"}"}(n.mapValue):pt();var e}function Pu(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function v_(n){return!!n&&"integerValue"in n}function Eh(n){return!!n&&"arrayValue"in n}function d0(n){return!!n&&"nullValue"in n}function h0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ep(n){return!!n&&"mapValue"in n}function Ih(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ou(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Ih(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ih(n.arrayValue.values[t]);return e}return Object.assign({},n)}function b_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function f0(n){return"nullValue"in n?__:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Pu(Ol.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pt()}function od(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Pu(Ol.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?xu:pt()}function n1(n,e){const t=ku(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function i1(n,e){const t=ku(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ns{constructor(e,t){this.position=e,this.inclusive=t}}function tS(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],c=n.position[r];if(i=a.field.isKeyField()?Je.comparator(Je.fromName(c.referenceValue),t.key):ku(c,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function w_(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Na(n.position[t],e.position[t]))return!1;return!0}class nS{}class dn extends nS{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new D_(e,t,i):"array-contains"===t?new o1(e,i):"in"===t?new a1(e,i):"not-in"===t?new l1(e,i):"array-contains-any"===t?new u1(e,i):new dn(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new Ei(e,i):new nO(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ku(t,this.value)):null!==t&&rd(this.value)===rd(t)&&this.matchesComparison(ku(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class On extends nS{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new On(e,t)}matches(e){return Ip(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Ip(n){return"and"===n.op}function Lt(n){return"or"===n.op}function p0(n){return r1(n)&&Ip(n)}function r1(n){for(const e of n.filters)if(e instanceof On)return!1;return!0}function g0(n){if(n instanceof dn)return n.field.canonicalString()+n.op.toString()+sd(n.value);if(p0(n))return n.filters.map(e=>g0(e)).join(",");{const e=n.filters.map(t=>g0(t)).join(",");return`${n.op}(${e})`}}function ad(n,e){return n instanceof dn?(t=n,(i=e)instanceof dn&&t.op===i.op&&t.field.isEqual(i.field)&&Na(t.value,i.value)):n instanceof On?function(t,i){return i instanceof On&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,a,c)=>r&&ad(a,i.filters[c]),!0)}(n,e):void pt();var t,i}function s1(n,e){const t=n.filters.concat(e);return On.create(t,n.op)}function Cp(n){return n instanceof dn?`${(e=n).field.canonicalString()} ${e.op} ${sd(e.value)}`:n instanceof On?function(e){return e.op.toString()+" {"+e.getFilters().map(Cp).join(" ,")+"}"}(n):"Filter";var e}class D_ extends dn{constructor(e,t,i){super(e,t,i),this.key=Je.fromName(i.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ei extends dn{constructor(e,t){super(e,"in",t),this.keys=m0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nO extends dn{constructor(e,t){super(e,"not-in",t),this.keys=m0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function m0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Je.fromName(i.referenceValue))}class o1 extends dn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Eh(t)&&Tp(t.arrayValue,this.value)}}class a1 extends dn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Tp(this.value.arrayValue,t)}}class l1 extends dn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Tp(this.value.arrayValue,t)}}class u1 extends dn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Eh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Tp(this.value.arrayValue,i))}}class ld{constructor(e,t="asc"){this.field=e,this.dir=t}}function c1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Ii{constructor(e,t){this.comparator=e,this.root=t||yr.EMPTY}insert(e,t){return new Ii(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new Ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new T_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new T_(this.root,e,this.comparator,!1)}getReverseIterator(){return new T_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new T_(this.root,e,this.comparator,!0)}}class T_{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yr{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??yr.RED,this.left=r??yr.EMPTY,this.right=a??yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new yr(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return yr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1,yr.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new yr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class En{constructor(e){this.comparator=e,this.data=new Ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new d1(this.data.getIterator())}getIteratorFrom(e){return new d1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof En)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new En(this.comparator);return t.data=e,t}}class d1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ch(n){return n.hasNext()?n.getNext():void 0}class cs{constructor(e){this.fields=e,e.sort(Pi.comparator)}static empty(){return new cs([])}unionWith(e){let t=new En(Pi.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new cs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class Hi{constructor(e){this.value=e}static empty(){return new Hi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Ep(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ih(t)}setAll(e){let t=Pi.emptyPath(),i={},r=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const g=this.getFieldsMap(t);this.applyChanges(g,i,r),i={},r=[],t=h.popLast()}c?i[h.lastSegment()]=Ih(c):r.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Ep(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Na(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Ep(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ou(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new Hi(Ih(this.value))}}function _0(n){const e=[];return Ou(n.fields,(t,i)=>{const r=new Pi([t]);if(Ep(i)){const a=_0(i.mapValue).fields;if(0===a.length)e.push(r);else for(const c of a)e.push(r.child(c))}else e.push(r)}),new cs(e)}class Zn{constructor(e,t,i,r,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Zn(e,0,Rt.min(),Rt.min(),Rt.min(),Hi.empty(),0)}static newFoundDocument(e,t,i,r){return new Zn(e,1,t,Rt.min(),i,r,0)}static newNoDocument(e,t){return new Zn(e,2,t,Rt.min(),Rt.min(),Hi.empty(),0)}static newUnknownDocument(e,t){return new Zn(e,3,t,Rt.min(),Rt.min(),Hi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Rt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class h1{constructor(e,t=null,i=[],r=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=c,this.endAt=h,this.ft=null}}function y0(n,e=null,t=[],i=[],r=null,a=null,c=null){return new h1(n,e,t,i,r,a,c)}function Oo(n){const e=tt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>g0(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Th(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>sd(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>sd(i)).join(",")),e.ft=t}return e.ft}function Rl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!c1(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ad(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!w_(n.startAt,e.startAt)&&w_(n.endAt,e.endAt)}function E_(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function I_(n,e){return n.filters.filter(t=>t instanceof dn&&t.field.isEqual(e))}function f1(n,e,t){let i=__,r=!0;for(const a of I_(n,e)){let c=__,h=!0;switch(a.op){case"<":case"<=":c=f0(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,h=!1;break;case"!=":case"not-in":c=__}n1({value:i,inclusive:r},{value:c,inclusive:h})<0&&(i=c,r=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];n1({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function v0(n,e,t){let i=xu,r=!0;for(const a of I_(n,e)){let c=xu,h=!0;switch(a.op){case">=":case">":c=od(a.value),h=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,h=!1;break;case"!=":case"not-in":c=xu}i1({value:i,inclusive:r},{value:c,inclusive:h})>0&&(i=c,r=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];i1({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class Ma{constructor(e,t=null,i=[],r=[],a=null,c="F",h=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=g,this.dt=null,this._t=null}}function b0(n,e,t,i,r,a,c,h){return new Ma(n,e,t,i,r,a,c,h)}function Sh(n){return new Ma(n)}function w0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function D0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function C_(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function p1(n){return null!==n.collectionGroup}function Ah(n){const e=tt(n);if(null===e.dt){e.dt=[];const t=C_(e),i=D0(e);if(null!==t&&null===i)t.isKeyField()||e.dt.push(new ld(t)),e.dt.push(new ld(Pi.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new ld(Pi.keyField(),a))}}}return e.dt}function ds(n){const e=tt(n);if(!e._t)if("F"===e.limitType)e._t=y0(e.path,e.collectionGroup,Ah(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Ah(e))t.push(new ld(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Ns(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ns(e.startAt.position,e.startAt.inclusive):null;e._t=y0(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function g1(n,e){e.getFirstInequalityField(),C_(n);const t=n.filters.concat([e]);return new Ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Sp(n,e,t){return new Ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fu(n,e){return Rl(ds(n),ds(e))&&n.limitType===e.limitType}function m1(n){return`${Oo(ds(n))}|lt:${n.limitType}`}function T0(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>Cp(i)).join(", ")}]`),Th(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>sd(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>sd(i)).join(",")),`Target(${t})`}(ds(n))}; limitType=${n.limitType})`}function Nh(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Je.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of Ah(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,c){const h=tS(r,a,c);return r.inclusive?h<=0:h<0}(t.startAt,Ah(t),i)||t.endAt&&!function(r,a,c){const h=tS(r,a,c);return r.inclusive?h>=0:h>0}(t.endAt,Ah(t),i)));var t,i}function Mh(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _1(n){return(e,t)=>{let i=!1;for(const r of Ah(n)){const a=iS(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function iS(n,e,t){const i=n.field.isKeyField()?Je.comparator(e.key,t.key):function(r,a,c){const h=a.data.field(r),g=c.data.field(r);return null!==h&&null!==g?ku(h,g):pt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return pt()}}function y1(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wp(e)?"-0":e}}function v1(n){return{integerValue:""+n}}function b1(n,e){return XD(e)?v1(e):y1(n,e)}class Ap{constructor(){this._=void 0}}function rS(n,e,t){return n instanceof Rh?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof Lu?w1(n,e):n instanceof Uu?D1(n,e):function(i,r){const a=Oh(i,r),c=T1(a)+T1(i.gt);return v_(a)&&v_(i.gt)?v1(c):y1(i.yt,c)}(n,e)}function sS(n,e,t){return n instanceof Lu?w1(n,e):n instanceof Uu?D1(n,e):t}function Oh(n,e){return n instanceof ud?v_(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Rh extends Ap{}class Lu extends Ap{constructor(e){super(),this.elements=e}}function w1(n,e){const t=S_(e);for(const i of n.elements)t.some(r=>Na(r,i))||t.push(i);return{arrayValue:{values:t}}}class Uu extends Ap{constructor(e){super(),this.elements=e}}function D1(n,e){let t=S_(e);for(const i of n.elements)t=t.filter(r=>!Na(r,i));return{arrayValue:{values:t}}}class ud extends Ap{constructor(e,t){super(),this.yt=e,this.gt=t}}function T1(n){return Ti(n.integerValue||n.doubleValue)}function S_(n){return Eh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Np{constructor(e,t){this.field=e,this.transform=t}}class I1{constructor(e,t){this.version=e,this.transformResults=t}}class ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function A_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class N_{}function M_(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ph(n.key,ai.none()):new kh(n.key,n.data,ai.none());{const t=n.data,i=Hi.empty();let r=new En(Pi.comparator);for(let a of e.fields)if(!r.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?i.delete(a):i.set(a,c),r=r.add(a)}return new xl(n.key,i,new cs(r.toArray()),ai.none())}}function oS(n,e,t){n instanceof kh?function(i,r,a){const c=i.value.clone(),h=A1(i.fieldTransforms,r,a.transformResults);c.setAll(h),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof xl?function(i,r,a){if(!A_(i.precondition,r))return void r.convertToUnknownDocument(a.version);const c=A1(i.fieldTransforms,r,a.transformResults),h=r.data;h.setAll(S1(i)),h.setAll(c),r.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xh(n,e,t,i){return n instanceof kh?function(r,a,c,h){if(!A_(r.precondition,a))return c;const g=r.value.clone(),v=N1(r.fieldTransforms,h,a);return g.setAll(v),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof xl?function(r,a,c,h){if(!A_(r.precondition,a))return c;const g=N1(r.fieldTransforms,h,a),v=a.data;return v.setAll(S1(r)),v.setAll(g),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(T=>T.field))}(n,e,t,i):(c=t,A_(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function aS(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=Oh(i.transform,r||null);null!=a&&(null===t&&(t=Hi.empty()),t.set(i.field,a))}return t||null}function C1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Xc(t,i,(r,a)=>function E1(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof Lu&&i instanceof Lu||t instanceof Uu&&i instanceof Uu?Xc(t.elements,i.elements,Na):t instanceof ud&&i instanceof ud?Na(t.gt,i.gt):t instanceof Rh&&i instanceof Rh);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class kh extends N_{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class xl extends N_{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function S1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function A1(n,e,t){const i=new Map;Et(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],c=a.transform,h=e.data.field(a.field);i.set(a.field,sS(c,h,t[r]))}return i}function N1(n,e,t){const i=new Map;for(const r of n){const a=r.transform,c=t.data.field(r.field);i.set(r.field,rS(a,c,e))}return i}class Ph extends N_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class O_ extends N_{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class M1{constructor(e){this.count=e}}var Fi,_n;function R_(n){switch(n){default:return pt();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function E0(n){if(void 0===n)return yi("GRPC error has no .code"),he.UNKNOWN;switch(n){case Fi.OK:return he.OK;case Fi.CANCELLED:return he.CANCELLED;case Fi.UNKNOWN:return he.UNKNOWN;case Fi.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Fi.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Fi.INTERNAL:return he.INTERNAL;case Fi.UNAVAILABLE:return he.UNAVAILABLE;case Fi.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Fi.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Fi.NOT_FOUND:return he.NOT_FOUND;case Fi.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Fi.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Fi.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Fi.ABORTED:return he.ABORTED;case Fi.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Fi.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Fi.DATA_LOSS:return he.DATA_LOSS;default:return pt()}}(_n=Fi||(Fi={}))[_n.OK=0]="OK",_n[_n.CANCELLED=1]="CANCELLED",_n[_n.UNKNOWN=2]="UNKNOWN",_n[_n.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_n[_n.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_n[_n.NOT_FOUND=5]="NOT_FOUND",_n[_n.ALREADY_EXISTS=6]="ALREADY_EXISTS",_n[_n.PERMISSION_DENIED=7]="PERMISSION_DENIED",_n[_n.UNAUTHENTICATED=16]="UNAUTHENTICATED",_n[_n.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_n[_n.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_n[_n.ABORTED=10]="ABORTED",_n[_n.OUT_OF_RANGE=11]="OUT_OF_RANGE",_n[_n.UNIMPLEMENTED=12]="UNIMPLEMENTED",_n[_n.INTERNAL=13]="INTERNAL",_n[_n.UNAVAILABLE=14]="UNAVAILABLE",_n[_n.DATA_LOSS=15]="DATA_LOSS";class Vu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ou(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return u0(this.inner)}size(){return this.innerSize}}const lS=new Ii(Je.comparator);function Fr(){return lS}const x_=new Ii(Je.comparator);function Fh(...n){let e=x_;for(const t of n)e=e.insert(t.key,t);return e}function k_(n){let e=x_;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Oa(){return cd()}function O1(){return cd()}function cd(){return new Vu(n=>n.toString(),(n,e)=>n.isEqual(e))}const uS=new Ii(Je.comparator),R1=new En(Je.comparator);function Yt(...n){let e=R1;for(const t of n)e=e.add(t);return e}const x1=new En(Qt);function P_(){return x1}class F_{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Lh.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new F_(Rt.min(),r,P_(),Fr(),Yt())}}class Lh{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Lh(i,t,Yt(),Yt(),Yt())}}class Uh{constructor(e,t,i,r){this.It=e,this.removedTargetIds=t,this.key=i,this.Tt=r}}class k1{constructor(e,t){this.targetId=e,this.Et=t}}class L_{constructor(e,t,i=Xi.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class P1{constructor(){this.At=0,this.Rt=I0(),this.bt=Xi.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Yt(),t=Yt(),i=Yt();return this.Rt.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:pt()}}),new Lh(this.bt,this.Pt,e,t,i)}xt(){this.vt=!1,this.Rt=I0()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class F1{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Fr(),this.qt=U_(),this.Ut=new En(Qt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const i=this.Wt(t);switch(e.state){case 0:this.zt(t)&&i.Dt(e.resumeToken);break;case 1:i.Mt(),i.Vt||i.xt(),i.Dt(e.resumeToken);break;case 2:i.Mt(),i.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(i.Ft(),i.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),i.Dt(e.resumeToken));break;default:pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((i,r)=>{this.zt(r)&&t(r)})}Jt(e){const t=e.targetId,i=e.Et.count,r=this.Yt(t);if(r){const a=r.target;if(E_(a))if(0===i){const c=new Je(a.path);this.Qt(t,c,Zn.newNoDocument(c,Rt.min()))}else Et(1===i);else this.Xt(t)!==i&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((a,c)=>{const h=this.Yt(c);if(h){if(a.current&&E_(h.target)){const g=new Je(h.target.path);null!==this.Lt.get(g)||this.te(c,g)||this.Qt(c,g,Zn.newNoDocument(g,e))}a.St&&(t.set(c,a.Ct()),a.xt())}});let i=Yt();this.qt.forEach((a,c)=>{let h=!0;c.forEachWhile(g=>{const v=this.Yt(g);return!v||2===v.purpose||(h=!1,!1)}),h&&(i=i.add(a))}),this.Lt.forEach((a,c)=>c.setReadTime(e));const r=new F_(e,t,this.Ut,this.Lt,i);return this.Lt=Fr(),this.qt=U_(),this.Ut=new En(Qt),r}Gt(e,t){if(!this.zt(e))return;const i=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,i),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,i){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),i&&(this.Lt=this.Lt.insert(t,i))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new P1,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new En(Qt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new P1),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function U_(){return new Ii(Je.comparator)}function I0(){return new Ii(Je.comparator)}const L1={asc:"ASCENDING",desc:"DESCENDING"},U1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V1={and:"AND",or:"OR"};class cS{constructor(e,t){this.databaseId=e,this.wt=t}}function Vh(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function B1(n,e){return n.wt?e.toBase64():e.toUint8Array()}function dS(n,e){return Vh(n,e.toTimestamp())}function Ci(n){return Et(!!n),Rt.fromTimestamp(function(e){const t=Ru(e);return new oi(t.seconds,t.nanos)}(n))}function j1(n,e){return(t=n,new mn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function C0(n){const e=mn.fromString(n);return Et(X1(e)),e}function Mp(n,e){return j1(n.databaseId,e.path)}function Ra(n,e){const t=C0(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(H1(t))}function $1(n,e){return j1(n.databaseId,e)}function hS(n){const e=C0(n);return 4===e.length?mn.emptyPath():H1(e)}function Op(n){return new mn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function H1(n){return Et(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function G1(n,e,t){return{name:Mp(n,e),fields:t.value.mapValue.fields}}function S0(n,e,t){const i=Ra(n,e.name),r=Ci(e.updateTime),a=e.createTime?Ci(e.createTime):Rt.min(),c=new Hi({mapValue:{fields:e.fields}}),h=Zn.newFoundDocument(i,r,a,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Rp(n,e){let t;if(e instanceof kh)t={update:G1(n,e.key,e.value)};else if(e instanceof Ph)t={delete:Mp(n,e.key)};else if(e instanceof xl)t={update:G1(n,e.key,e.data),updateMask:iO(e.fieldMask)};else{if(!(e instanceof O_))return pt();t={verify:Mp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const c=a.transform;if(c instanceof Rh)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Lu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Uu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ud)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw pt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:dS(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:pt()),t;var r}function A0(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?ai.updateTime(Ci(r.updateTime)):void 0!==r.exists?ai.exists(r.exists):ai.none():ai.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,c){let h=null;"setToServerValue"in c?(Et("REQUEST_TIME"===c.setToServerValue),h=new Rh):"appendMissingElements"in c?h=new Lu(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Uu(c.removeAllFromArray.values||[]):"increment"in c?h=new ud(a,c.increment):pt();const g=Pi.fromServerFormat(c.fieldPath);return new Np(g,h)}(n,r)):[];var r;if(e.update){const r=Ra(n,e.update.name),a=new Hi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new cs((e.updateMask.fieldPaths||[]).map(v=>Pi.fromServerFormat(v)));return new xl(r,a,c,t,i)}return new kh(r,a,t,i)}if(e.delete){const r=Ra(n,e.delete);return new Ph(r,t)}if(e.verify){const r=Ra(n,e.verify);return new O_(r,t)}return pt()}function z1(n,e){return{documents:[$1(n,e.path)]}}function N0(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=$1(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=$1(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0!==g.length)return J1(On.create(g,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const a=function(g){if(0!==g.length)return g.map(v=>{return{field:dd((T=v).field),direction:K1(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(v=e.limit,n.wt||Th(v)?v:{value:v});var v,h,g;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function W1(n){let e=hS(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Et(1===i);const T=t.from[0];T.allDescendants?r=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=function(T){const S=M0(T);return S instanceof On&&p0(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new ld(Bh((S=T).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;t.limit&&(h=function(T){let S;return S="object"==typeof T?T.value:T,Th(S)?null:S}(t.limit));let g=null;var T;t.startAt&&(g=new Ns((T=t.startAt).values||[],!!T.before));let v=null;return t.endAt&&(v=function(T){return new Ns(T.values||[],!T.before)}(t.endAt)),b0(e,r,c,a,h,"F",g,v)}function M0(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Bh(e.unaryFilter.field);return dn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=Bh(e.unaryFilter.field);return dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Bh(e.unaryFilter.field);return dn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Bh(e.unaryFilter.field);return dn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}(n):void 0!==n.fieldFilter?dn.create(Bh((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return On.create(e.compositeFilter.filters.map(t=>M0(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return pt()}}(e.compositeFilter.op))}(n):pt();var e}function K1(n){return L1[n]}function Y1(n){return U1[n]}function Q1(n){return V1[n]}function dd(n){return{fieldPath:n.canonicalString()}}function Bh(n){return Pi.fromServerFormat(n.fieldPath)}function J1(n){return n instanceof dn?function(e){if("=="===e.op){if(h0(e.value))return{unaryFilter:{field:dd(e.field),op:"IS_NAN"}};if(d0(e.value))return{unaryFilter:{field:dd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(h0(e.value))return{unaryFilter:{field:dd(e.field),op:"IS_NOT_NAN"}};if(d0(e.value))return{unaryFilter:{field:dd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dd(e.field),op:Y1(e.op),value:e.value}}}(n):n instanceof On?function(e){const t=e.getFilters().map(i=>J1(i));return 1===t.length?t[0]:{compositeFilter:{op:Q1(e.op),filters:t}}}(n):pt()}function iO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function X1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Zr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=eT(e)),e=pS(n.get(t),e);return eT(e)}function pS(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function eT(n){return n+"\x01\x01"}function xa(n){const e=n.length;if(Et(e>=2),2===e)return Et("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),mn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&pt(),n.charAt(c+1)){case"\x01":const h=n.substring(a,c);let g;0===r.length?g=h:(r+=h,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(a,c),r+="\0";break;case"\x11":r+=n.substring(a,c+1);break;default:pt()}a=c+2}return new mn(i)}const jh=["userId","batchId"];function V_(n,e){return[n,Zr(e)]}function B_(n,e,t){return[n,Zr(e),t]}const ka={},gS=["prefixPath","collectionGroup","readTime","documentId"],O0=["prefixPath","collectionGroup","documentId"],kp=["collectionGroup","readTime","prefixPath","documentId"],mS=["canonicalId","targetId"],_S=["targetId","path"],yS=["path","targetId"],j_=["collectionId","parent"],$_=["indexId","uid"],vS=["uid","sequenceNumber"],bS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tT=["indexId","uid","orderedDocumentKey"],nT=["userId","collectionPath","documentId"],R0=["userId","collectionPath","largestBatchId"],iT=["userId","collectionGroup","largestBatchId"],rT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wS=[...rT,"documentOverlays"],DS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],H_=DS,x0=[...H_,"indexConfiguration","indexState","indexEntries"];class G_ extends KD{constructor(e,t){super(),this.se=e,this.currentSequenceNumber=t}}function Gi(n,e){const t=tt(n);return No.M(t.se,e)}class Pp{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&oS(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=xh(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=xh(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=O1();return this.mutations.forEach(r=>{const a=e.get(r.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(r.key)?null:h;const g=M_(c,h);null!==g&&i.set(r.key,g),c.isValidDocument()||c.convertToNoDocument(Rt.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Yt())}isEqual(e){return this.batchId===e.batchId&&Xc(this.mutations,e.mutations,(t,i)=>C1(t,i))&&Xc(this.baseMutations,e.baseMutations,(t,i)=>C1(t,i))}}class k0{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Et(e.mutations.length===i.length);let r=uS;const a=e.mutations;for(let c=0;c<a.length;c++)r=r.insert(a[c].key,i[c].version);return new k0(e,t,i,r)}}class P0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Bu{constructor(e,t,i,r,a=Rt.min(),c=Rt.min(),h=Xi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h}withSequenceNumber(e){return new Bu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class sT{constructor(e){this.ie=e}}function q_(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Fp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:Mp(r=n.ie,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Vh(r,a.version.toTimestamp()),createTime:Vh(r,a.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:ju(e.version)};else{if(!e.isUnknownDocument())return pt();i.unknownDocument={path:t.path.toArray(),version:ju(e.version)}}var r,a;return i}function Fp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ju(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $u(n){const e=new oi(n.seconds,n.nanoseconds);return Rt.fromTimestamp(e)}function Hu(n,e){const t=(e.baseMutations||[]).map(a=>A0(n.ie,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>A0(n.ie,a)),r=oi.fromMillis(e.localWriteTimeMs);return new Pp(e.batchId,r,t,i)}function Lp(n){const e=$u(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?$u(n.lastLimboFreeSnapshotVersion):Rt.min();let i;var r;return void 0!==n.query.documents?(Et(1===(r=n.query).documents.length),i=ds(Sh(hS(r.documents[0])))):i=ds(W1(n.query)),new Bu(i,n.targetId,0,n.lastListenSequenceNumber,e,t,Xi.fromBase64String(n.resumeToken))}function F0(n,e){const t=ju(e.snapshotVersion),i=ju(e.lastLimboFreeSnapshotVersion);let r;r=E_(e.target)?z1(n.ie,e.target):N0(n.ie,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oo(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Z_(n){const e=W1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Sp(e,e.limit,"L"):e}function L0(n,e){return new P0(e.largestBatchId,A0(n.ie,e.overlayMutation))}function U0(n,e){const t=e.path.lastSegment();return[n,Zr(e.path.popLast()),t]}function V0(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:ju(i.readTime),documentKey:Zr(i.documentKey.path),largestBatchId:i.largestBatchId}}class zr{getBundleMetadata(e,t){return hd(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:$u(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return hd(e).put({bundleId:(i=t).id,createTime:ju(Ci(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return aT(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:Z_(r.bundledQuery),readTime:$u(r.readTime)};var r})}saveNamedQuery(e,t){return aT(e).put({name:(i=t).name,readTime:ju(Ci(i.readTime)),bundledQuery:i.bundledQuery});var i}}function hd(n){return Gi(n,"bundles")}function aT(n){return Gi(n,"namedQueries")}class z_{constructor(e,t){this.yt=e,this.userId=t}static re(e,t){return new z_(e,t.uid||"")}getOverlay(e,t){return W_(e).get(U0(this.userId,t)).next(i=>i?L0(this.yt,i):null)}getOverlays(e,t){const i=Oa();return ue.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,c)=>{const h=new P0(t,c);r.push(this.oe(e,h))}),ue.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Zr(c.getCollectionPath())));const a=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);a.push(W_(e).Y("collectionPathOverlayIndex",h))}),ue.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Oa(),a=Zr(t),c=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return W_(e).W("collectionPathOverlayIndex",c).next(h=>{for(const g of h){const v=L0(this.yt,g);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Oa();let c;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return W_(e).Z({index:"collectionGroupOverlayIndex",range:h},(g,v,T)=>{const S=L0(this.yt,v);a.size()<r||S.largestBatchId===c?(a.set(S.getKey(),S),c=S.largestBatchId):T.done()}).next(()=>a)}oe(e,t){return W_(e).put(function(i,r,a){const[c,h,g]=U0(r,a.mutation.key);return{userId:r,collectionPath:h,documentId:g,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Rp(i.ie,a.mutation)}}(this.yt,this.userId,t))}}function W_(n){return Gi(n,"documentOverlays")}class $h{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Ti(e.integerValue));else if("doubleValue"in e){const i=Ti(e.doubleValue);isNaN(i)?this.he(t,13):(this.he(t,15),wp(i)?t.le(0):t.le(i))}else if("timestampValue"in e){const i=e.timestampValue;this.he(t,20),"string"==typeof i?t.fe(i):(t.fe(`${i.seconds||""}`),t.le(i.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(id(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.he(t,45),t.le(i.latitude||0),t.le(i.longitude||0)}else"mapValue"in e?b_(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):pt()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const i=e.fields||{};this.he(t,55);for(const r of Object.keys(i))this.de(r,t),this.ce(i[r],t)}ye(e,t){const i=e.values||[];this.he(t,50);for(const r of i)this.ce(r,t)}me(e,t){this.he(t,37),Je.fromName(e).path.forEach(i=>{this.he(t,60),this.pe(i,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}function lT(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function B0(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=lT(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}$h.Ie=new $h;class Up{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ee(i.value),i=t.next();this.Ae()}Re(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.be(i.value),i=t.next();this.Pe()}ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ee(i);else if(i<2048)this.Ee(960|i>>>6),this.Ee(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ee(480|i>>>12),this.Ee(128|63&i>>>6),this.Ee(128|63&i);else{const r=t.codePointAt(0);this.Ee(240|r>>>18),this.Ee(128|63&r>>>12),this.Ee(128|63&r>>>6),this.Ee(128|63&r)}}this.Ae()}Ve(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.be(i);else if(i<2048)this.be(960|i>>>6),this.be(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.be(480|i>>>12),this.be(128|63&i>>>6),this.be(128|63&i);else{const r=t.codePointAt(0);this.be(240|r>>>18),this.be(128|63&r>>>12),this.be(128|63&r>>>6),this.be(128|63&r)}}this.Pe()}Se(e){const t=this.De(e),i=B0(t);this.Ce(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}xe(e){const t=this.De(e),i=B0(t);this.Ce(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(e){this.Ce(e.length),this.buffer.set(e,this.position),this.position+=e.length}Fe(){return this.buffer.slice(0,this.position)}De(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ee(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(t)}be(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(e)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(e){this.Ce(1),this.buffer[this.position++]=e}Me(e){this.Ce(1),this.buffer[this.position++]=~e}Ce(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class TS{constructor(e){this.$e=e}we(e){this.$e.Te(e)}fe(e){this.$e.ve(e)}le(e){this.$e.Se(e)}ae(){this.$e.Ne()}}class j0{constructor(e){this.$e=e}we(e){this.$e.Re(e)}fe(e){this.$e.Ve(e)}le(e){this.$e.xe(e)}ae(){this.$e.Oe()}}class Vp{constructor(){this.$e=new Up,this.Be=new TS(this.$e),this.Le=new j0(this.$e)}seed(e){this.$e.seed(e)}qe(e){return 0===e?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}class Gu{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Ue(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Gu(this.indexId,this.documentKey,this.arrayValue,i)}}function qu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=uT(n.arrayValue,e.arrayValue),0!==t?t:(t=uT(n.directionalValue,e.directionalValue),0!==t?t:Je.comparator(n.documentKey,e.documentKey)))}function uT(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class ES{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ke=e.orderBy,this.Ge=[];for(const t of e.filters){const i=t;i.isInequality()?this.Qe=i:this.Ge.push(i)}}je(e){Et(e.collectionGroup===this.collectionId);const t=Js(e);if(void 0!==t&&!this.We(t))return!1;const i=td(e);let r=0,a=0;for(;r<i.length&&this.We(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Qe){const c=i[r];if(!this.ze(this.Qe,c)||!this.He(this.Ke[a++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(a>=this.Ke.length||!this.He(this.Ke[a++],c))return!1}return!0}We(e){for(const t of this.Ge)if(this.ze(t,e))return!0;return!1}ze(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}He(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function K_(n){var e,t;if(Et(n instanceof dn||n instanceof On),n instanceof dn){if(n instanceof a1){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>dn.create(n.field,"==",a)))||[];return On.create(r,"or")}return n}const i=n.filters.map(r=>K_(r));return On.create(i,n.op)}function cT(n){if(0===n.getFilters().length)return[];const e=dT(K_(n));return Et(Q_(e)),Y_(e)||Hh(e)?[e]:e.getFilters()}function Y_(n){return n instanceof dn}function Hh(n){return n instanceof On&&p0(n)}function Q_(n){return Y_(n)||Hh(n)||function(e){if(e instanceof On&&Lt(e)){for(const t of e.getFilters())if(!Y_(t)&&!Hh(t))return!1;return!0}return!1}(n)}function dT(n){if(Et(n instanceof dn||n instanceof On),n instanceof dn)return n;if(1===n.filters.length)return dT(n.filters[0]);const e=n.filters.map(i=>dT(i));let t=On.create(e,n.op);return t=Bp(t),Q_(t)?t:(Et(t instanceof On),Et(Ip(t)),Et(t.filters.length>1),t.filters.reduce((i,r)=>J_(i,r)))}function J_(n,e){let t;return Et(n instanceof dn||n instanceof On),Et(e instanceof dn||e instanceof On),t=n instanceof dn?e instanceof dn?On.create([n,e],"and"):hT(n,e):e instanceof dn?hT(e,n):function(i,r){if(Et(i.filters.length>0&&r.filters.length>0),Ip(i)&&Ip(r))return s1(i,r.getFilters());const a=Lt(i)?i:r,c=Lt(i)?r:i,h=a.filters.map(g=>J_(g,c));return On.create(h,"or")}(n,e),Bp(t)}function hT(n,e){if(Ip(e))return s1(e,n.getFilters());{const t=e.filters.map(i=>J_(n,i));return On.create(t,"or")}}function Bp(n){if(Et(n instanceof dn||n instanceof On),n instanceof dn)return n;const e=n.getFilters();if(1===e.length)return Bp(e[0]);if(r1(n))return n;const t=e.map(r=>Bp(r)),i=[];return t.forEach(r=>{r instanceof dn?i.push(r):r instanceof On&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:On.create(i,n.op)}class Gh{constructor(){this.Je=new $0}addToCollectionParentIndex(e,t){return this.Je.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(As.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(As.min())}updateCollectionGroup(e,t,i){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class $0{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new En(mn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new En(mn.comparator)).toArray()}}const jp=new Uint8Array(0);class H0{constructor(e,t){this.user=e,this.databaseId=t,this.Ye=new $0,this.Xe=new Vu(i=>Oo(i),(i,r)=>Rl(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ye.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ye.add(t)});const a={collectionId:i,parent:Zr(r)};return IS(e).put(a)}return ue.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[ed(t),""],!1,!0);return IS(e).W(r).next(a=>{for(const c of a){if(c.collectionId!==t)break;i.push(xa(c.parent))}return i})}addFieldIndex(e,t){const i=G0(e),r={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete r.indexId;const a=i.add(r);if(t.indexState){const c=Hp(e);return a.next(h=>{c.put(V0(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=G0(e),r=Hp(e),a=$p(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=$p(e);let r=!0;const a=new Map;return ue.forEach(this.Ze(t),c=>this.tn(e,c).next(h=>{r&&(r=!!h),a.set(c,h)})).next(()=>{if(r){let c=Yt();const h=[];return ue.forEach(a,(g,v)=>{var T;Ge("IndexedDbIndexManager",`Using index ${T=g,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(He=>`${He.fieldPath}:${He.kind}`).join(",")}`} to execute ${Oo(t)}`);const S=function(He,Me){const Ze=Js(Me);if(void 0===Ze)return null;for(const Ke of I_(He,Ze.fieldPath))switch(Ke.op){case"array-contains-any":return Ke.value.arrayValue.values||[];case"array-contains":return[Ke.value]}return null}(v,g),x=function(He,Me){const Ze=new Map;for(const Ke of td(Me))for(const bt of I_(He,Ke.fieldPath))switch(bt.op){case"==":case"in":Ze.set(Ke.fieldPath.canonicalString(),bt.value);break;case"not-in":case"!=":return Ze.set(Ke.fieldPath.canonicalString(),bt.value),Array.from(Ze.values())}return null}(v,g),U=function(He,Me){const Ze=[];let Ke=!0;for(const bt of td(Me)){const zt=0===bt.kind?f1(He,bt.fieldPath,He.startAt):v0(He,bt.fieldPath,He.startAt);Ze.push(zt.value),Ke&&(Ke=zt.inclusive)}return new Ns(Ze,Ke)}(v,g),G=function(He,Me){const Ze=[];let Ke=!0;for(const bt of td(Me)){const zt=0===bt.kind?v0(He,bt.fieldPath,He.endAt):f1(He,bt.fieldPath,He.endAt);Ze.push(zt.value),Ke&&(Ke=zt.inclusive)}return new Ns(Ze,Ke)}(v,g),K=this.en(g,v,U),X=this.en(g,v,G),Ne=this.nn(g,v,x),je=this.sn(g.indexId,S,K,U.inclusive,X,G.inclusive,Ne);return ue.forEach(je,He=>i.J(He,t.limit).next(Me=>{Me.forEach(Ze=>{const Ke=Je.fromSegments(Ze.documentKey);c.has(Ke)||(c=c.add(Ke),h.push(Ke))})}))}).next(()=>h)}return ue.resolve(null)})}Ze(e){let t=this.Xe.get(e);return t||(t=0===e.filters.length?[e]:cT(On.create(e.filters,"and")).map(i=>y0(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.Xe.set(e,t),t)}sn(e,t,i,r,a,c,h){const g=(null!=t?t.length:1)*Math.max(i.length,a.length),v=g/(null!=t?t.length:1),T=[];for(let S=0;S<g;++S){const x=t?this.rn(t[S/v]):jp,U=this.on(e,x,i[S%v],r),G=this.un(e,x,a[S%v],c),K=h.map(X=>this.on(e,x,X,!0));T.push(...this.createRange(U,G,K))}return T}on(e,t,i,r){const a=new Gu(e,Je.empty(),t,i);return r?a:a.Ue()}un(e,t,i,r){const a=new Gu(e,Je.empty(),t,i);return r?a.Ue():a}tn(e,t){const i=new ES(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let c=null;for(const h of a)i.je(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let i=2;const r=this.Ze(t);return ue.forEach(r,a=>this.tn(e,a).next(c=>{c?0!==i&&c.fields.length<function(h){let g=new En(Pi.comparator),v=!1;for(const T of h.filters)for(const S of T.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:g=g.add(S.field));for(const T of h.orderBy)T.field.isKeyField()||(g=g.add(T.field));return g.size+(v?1:0)}(a)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}cn(e,t){const i=new Vp;for(const r of td(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const c=i.qe(r.kind);$h.Ie.ue(a,c)}return i.Fe()}rn(e){const t=new Vp;return $h.Ie.ue(e,t.qe(0)),t.Fe()}an(e,t){const i=new Vp;return $h.Ie.ue(Pu(this.databaseId,t),i.qe(function(r){const a=td(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Fe()}nn(e,t,i){if(null===i)return[];let r=[];r.push(new Vp);let a=0;for(const c of td(e)){const h=i[a++];for(const g of r)if(this.hn(t,c.fieldPath)&&Eh(h))r=this.ln(r,c,h);else{const v=g.qe(c.kind);$h.Ie.ue(h,v)}}return this.fn(r)}en(e,t,i){return this.nn(e,t,i.position)}fn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Fe();return t}ln(e,t,i){const r=[...e],a=[];for(const c of i.arrayValue.values||[])for(const h of r){const g=new Vp;g.seed(h.Fe()),$h.Ie.ue(c,g.qe(t.kind)),a.push(g)}return a}hn(e,t){return!!e.filters.find(i=>i instanceof dn&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=G0(e),r=Hp(e);return(t?i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.W()).next(a=>{const c=[];return ue.forEach(a,h=>r.get([h.indexId,this.uid]).next(g=>{c.push(function(v,T){const S=T?new qr(T.sequenceNumber,new As($u(T.readTime),new Je(xa(T.documentKey)),T.largestBatchId)):qr.empty(),x=v.fields.map(([U,G])=>new Ss(Pi.fromServerFormat(U),G));return new wh(v.indexId,v.collectionGroup,x,S)}(h,g))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:Qt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=G0(e),a=Hp(e);return this.dn(e).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>ue.forEach(h,g=>a.put(V0(g.indexId,this.user,c,i)))))}updateIndexEntries(e,t){const i=new Map;return ue.forEach(t,(r,a)=>{const c=i.get(r.collectionGroup);return(c?ue.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ue.forEach(h,g=>this._n(e,r,g).next(v=>{const T=this.wn(a,g);return v.isEqual(T)?ue.resolve():this.mn(e,a,g,v,T)}))))})}gn(e,t,i,r){return $p(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.an(i,t.key),documentKey:t.key.path.toArray()})}yn(e,t,i,r){return $p(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.an(i,t.key),t.key.path.toArray()])}_n(e,t,i){const r=$p(e);let a=new En(qu);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.an(i,t)])},(c,h)=>{a=a.add(new Gu(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>a)}wn(e,t){let i=new En(qu);const r=this.cn(t,e);if(null==r)return i;const a=Js(t);if(null!=a){const c=e.data.field(a.fieldPath);if(Eh(c))for(const h of c.arrayValue.values||[])i=i.add(new Gu(t.indexId,e.key,this.rn(h),r))}else i=i.add(new Gu(t.indexId,e.key,jp,r));return i}mn(e,t,i,r,a){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,g,v,T,S){const x=h.getIterator(),U=g.getIterator();let G=Ch(x),K=Ch(U);for(;G||K;){let X=!1,Ne=!1;if(G&&K){const je=v(G,K);je<0?Ne=!0:je>0&&(X=!0)}else null!=G?Ne=!0:X=!0;X?(T(K),K=Ch(U)):Ne?(S(G),G=Ch(x)):(G=Ch(x),K=Ch(U))}}(r,a,qu,h=>{c.push(this.gn(e,t,i,h))},h=>{c.push(this.yn(e,t,i,h))}),ue.waitFor(c)}dn(e){let t=1;return Hp(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,h)=>qu(c,h)).filter((c,h,g)=>!h||0!==qu(c,g[h-1]));const r=[];r.push(e);for(const c of i){const h=qu(c,e),g=qu(c,t);if(0===h)r[0]=e.Ue();else if(h>0&&g<0)r.push(c),r.push(c.Ue());else if(g>0)break}r.push(t);const a=[];for(let c=0;c<r.length;c+=2){if(this.pn(r[c],r[c+1]))return[];a.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,jp,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,jp,[]]))}return a}pn(e,t){return qu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(fT)}getMinOffset(e,t){return ue.mapArray(this.Ze(t),i=>this.tn(e,i).next(r=>r||pt())).next(fT)}}function IS(n){return Gi(n,"collectionParents")}function $p(n){return Gi(n,"indexEntries")}function G0(n){return Gi(n,"indexConfiguration")}function Hp(n){return Gi(n,"indexState")}function fT(n){Et(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;o0(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new As(e.readTime,e.documentKey,t)}const pT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Wr{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Wr(e,Wr.DEFAULT_COLLECTION_PERCENTILE,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function q0(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let h=0;const g=i.Z({range:c},(T,S,x)=>(h++,x.delete()));a.push(g.next(()=>{Et(1===h)}));const v=[];for(const T of t.mutations){const S=B_(e,T.key.path,t.batchId);a.push(r.delete(S)),v.push(T.key)}return ue.waitFor(a).next(()=>v)}function X_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pt();e=n.noDocument}return JSON.stringify(e).length}Wr.DEFAULT_COLLECTION_PERCENTILE=10,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wr.DEFAULT=new Wr(41943040,Wr.DEFAULT_COLLECTION_PERCENTILE,Wr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wr.DISABLED=new Wr(-1,0,0);class Gp{constructor(e,t,i,r){this.userId=e,this.yt=t,this.indexManager=i,this.referenceDelegate=r,this.In={}}static re(e,t,i,r){Et(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new Gp(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Zu(e).Z({index:"userMutationsIndex",range:i},(r,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=qh(e),c=Zu(e);return c.add({}).next(h=>{Et("number"==typeof h);const g=new Pp(h,t,i,r),v=function(x,U,G){const K=G.baseMutations.map(Ne=>Rp(x.ie,Ne)),X=G.mutations.map(Ne=>Rp(x.ie,Ne));return{userId:U,batchId:G.batchId,localWriteTimeMs:G.localWriteTime.toMillis(),baseMutations:K,mutations:X}}(this.yt,this.userId,g),T=[];let S=new En((x,U)=>Qt(x.canonicalString(),U.canonicalString()));for(const x of r){const U=B_(this.userId,x.key.path,h);S=S.add(x.key.path.popLast()),T.push(c.put(v)),T.push(a.put(U,ka))}return S.forEach(x=>{T.push(this.indexManager.addToCollectionParentIndex(e,x))}),e.addOnCommittedListener(()=>{this.In[h]=g.keys()}),ue.waitFor(T).next(()=>g)})}lookupMutationBatch(e,t){return Zu(e).get(t).next(i=>i?(Et(i.userId===this.userId),Hu(this.yt,i)):null)}Tn(e,t){return this.In[t]?ue.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.In[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Zu(e).Z({index:"userMutationsIndex",range:r},(c,h,g)=>{h.userId===this.userId&&(Et(h.batchId>=i),a=Hu(this.yt,h)),g.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Zu(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(r,a,c)=>{i=a.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Zu(e).W("userMutationsIndex",t).next(i=>i.map(r=>Hu(this.yt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=V_(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return qh(e).Z({range:r},(c,h,g)=>{const[v,T,S]=c,x=xa(T);if(v===this.userId&&t.path.isEqual(x))return Zu(e).get(S).next(U=>{if(!U)throw pt();Et(U.userId===this.userId),a.push(Hu(this.yt,U))});g.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new En(Qt);const r=[];return t.forEach(a=>{const c=V_(this.userId,a.path),h=IDBKeyRange.lowerBound(c),g=qh(e).Z({range:h},(v,T,S)=>{const[x,U,G]=v,K=xa(U);x===this.userId&&a.path.isEqual(K)?i=i.add(G):S.done()});r.push(g)}),ue.waitFor(r).next(()=>this.En(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=V_(this.userId,i),c=IDBKeyRange.lowerBound(a);let h=new En(Qt);return qh(e).Z({range:c},(g,v,T)=>{const[S,x,U]=g,G=xa(x);S===this.userId&&i.isPrefixOf(G)?G.length===r&&(h=h.add(U)):T.done()}).next(()=>this.En(e,h))}En(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Zu(e).get(a).next(c=>{if(null===c)throw pt();Et(c.userId===this.userId),i.push(Hu(this.yt,c))}))}),ue.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return q0(e.se,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),ue.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return qh(e).Z({range:i},(a,c,h)=>{if(a[0]===this.userId){const g=xa(a[1]);r.push(g)}else h.done()}).next(()=>{Et(0===r.length)})})}containsKey(e,t){return Z0(e,this.userId,t)}Rn(e){return z0(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Z0(n,e,t){const i=V_(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let c=!1;return qh(n).Z({range:a,X:!0},(h,g,v)=>{const[T,S,x]=h;T===e&&S===r&&(c=!0),v.done()}).next(()=>c)}function Zu(n){return Gi(n,"mutations")}function qh(n){return Gi(n,"documentMutations")}function z0(n){return Gi(n,"mutationQueues")}class fd{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new fd(0)}static vn(){return new fd(-1)}}class gT{constructor(e,t){this.referenceDelegate=e,this.yt=t}allocateTargetId(e){return this.Vn(e).next(t=>{const i=new fd(t.highestTargetId);return t.highestTargetId=i.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Rt.fromTimestamp(new oi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.Vn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Sn(e,r)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(i=>(i.targetCount+=1,this.Cn(t,i),this.Sn(e,i))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>pd(e).delete(t.targetId)).next(()=>this.Vn(e)).next(i=>(Et(i.targetCount>0),i.targetCount-=1,this.Sn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return pd(e).Z((c,h)=>{const g=Lp(h);g.sequenceNumber<=t&&null===i.get(g.targetId)&&(r++,a.push(this.removeTargetData(e,g)))}).next(()=>ue.waitFor(a)).next(()=>r)}forEachTarget(e,t){return pd(e).Z((i,r)=>{const a=Lp(r);t(a)})}Vn(e){return W0(e).get("targetGlobalKey").next(t=>(Et(null!==t),t))}Sn(e,t){return W0(e).put("targetGlobalKey",t)}Dn(e,t){return pd(e).put(F0(this.yt,t))}Cn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=Oo(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return pd(e).Z({range:r,index:"queryTargetsIndex"},(c,h,g)=>{const v=Lp(h);Rl(t,v.target)&&(a=v,g.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=kl(e);return t.forEach(c=>{const h=Zr(c.path);r.push(a.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,c))}),ue.waitFor(r)}removeMatchingKeys(e,t,i){const r=kl(e);return ue.forEach(t,a=>{const c=Zr(a.path);return ue.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=kl(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=kl(e);let a=Yt();return r.Z({range:i,X:!0},(c,h,g)=>{const v=xa(c[1]),T=new Je(v);a=a.add(T)}).next(()=>a)}containsKey(e,t){const i=Zr(t.path),r=IDBKeyRange.bound([i],[ed(i)],!1,!0);let a=0;return kl(e).Z({index:"documentTargetsIndex",X:!0,range:r},([c,h],g,v)=>{0!==c&&(a++,v.done())}).next(()=>a>0)}ne(e,t){return pd(e).get(t).next(i=>i?Lp(i):null)}}function pd(n){return Gi(n,"targets")}function W0(n){return Gi(n,"targetGlobal")}function kl(n){return Gi(n,"targetDocuments")}function mT([n,e],[t,i]){const r=Qt(n,t);return 0===r?Qt(e,i):r}class CS{constructor(e){this.xn=e,this.buffer=new En(mT),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();mT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rO{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,be.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Mo(i)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Aa(i)}yield t.Fn(3e5)}))}}class _T{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(us.at);const i=new CS(t);return this.$n.forEachTarget(e,r=>i.On(r.sequenceNumber)).next(()=>this.$n.Ln(e,r=>i.On(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.$n.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(pT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pT):this.qn(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}qn(e,t){let i,r,a,c,h,g,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,c=Date.now(),this.nthSequenceNumber(e,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(e,i,t))).next(S=>(a=S,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(v=Date.now(),t0()<=bu.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${a} targets in `+(g-h)+`ms\n\tRemoved ${S} documents in `+(v-g)+`ms\nTotal Duration: ${v-T}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:S})))}}class sO{constructor(e,t){this.db=e,this.garbageCollector=new _T(this,t)}Bn(e){const t=this.Un(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Un(e){let t=0;return this.Ln(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(i,r)=>t(r))}addReference(e,t,i){return K0(e,i)}removeReference(e,t,i){return K0(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return K0(e,t)}Gn(e,t){return function(i,r){let a=!1;return z0(i).tt(c=>Z0(i,c,r).next(h=>(h&&(a=!0),ue.resolve(!h)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Kn(e,(c,h)=>{if(h<=t){const g=this.Gn(e,c).next(v=>{if(!v)return a++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Rt.min()),kl(e).delete([0,Zr(c.path)])))});r.push(g)}}).next(()=>ue.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return K0(e,t)}Kn(e,t){const i=kl(e);let r,a=us.at;return i.Z({index:"documentTargetsIndex"},([c,h],{path:g,sequenceNumber:v})=>{0===c?(a!==us.at&&t(new Je(xa(r)),a),a=v,r=g):a=us.at}).next(()=>{a!==us.at&&t(new Je(xa(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function K0(n,e){return kl(n).put((i=n.currentSequenceNumber,{targetId:0,path:Zr(e.path),sequenceNumber:i}));var i}class SS{constructor(){this.changes=new Vu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ue.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oO{constructor(e){this.yt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Zh(e).put(i)}removeEntry(e,t,i){return Zh(e).delete(function(r,a){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],Fp(a),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Qn(e,i)))}getEntry(e,t){let i=Zn.newInvalidDocument(t);return Zh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(zu(t))},(r,a)=>{i=this.jn(t,a)}).next(()=>i)}Wn(e,t){let i={size:0,document:Zn.newInvalidDocument(t)};return Zh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(zu(t))},(r,a)=>{i={document:this.jn(t,a),size:X_(a)}}).next(()=>i)}getEntries(e,t){let i=Fr();return this.zn(e,t,(r,a)=>{const c=this.jn(r,a);i=i.insert(r,c)}).next(()=>i)}Hn(e,t){let i=Fr(),r=new Ii(Je.comparator);return this.zn(e,t,(a,c)=>{const h=this.jn(a,c);i=i.insert(a,h),r=r.insert(a,X_(c))}).next(()=>({documents:i,Jn:r}))}zn(e,t,i){if(t.isEmpty())return ue.resolve();let r=new En(Y0);t.forEach(g=>r=r.add(g));const a=IDBKeyRange.bound(zu(r.first()),zu(r.last())),c=r.getIterator();let h=c.getNext();return Zh(e).Z({index:"documentKeyIndex",range:a},(g,v,T)=>{const S=Je.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&Y0(h,S)<0;)i(h,null),h=c.getNext();h&&h.isEqual(S)&&(i(h,v),h=c.hasNext()?c.getNext():null),h?T.j(zu(h)):T.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const a=t.path,c=[a.popLast().toArray(),a.lastSegment(),Fp(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zh(e).W(IDBKeyRange.bound(c,h,!0)).next(g=>{let v=Fr();for(const T of g){const S=this.jn(Je.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);S.isFoundDocument()&&(Nh(t,S)||r.has(S.key))&&(v=v.insert(S.key,S))}return v})}getAllFromCollectionGroup(e,t,i,r){let a=Fr();const c=MS(t,i),h=MS(t,As.max());return Zh(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(g,v,T)=>{const S=this.jn(Je.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(S.key,S),a.size===r&&T.done()}).next(()=>a)}newChangeBuffer(e){return new aO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return NS(e).get("remoteDocumentGlobalKey").next(t=>(Et(!!t),t))}Qn(e,t){return NS(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const i=function oT(n,e){let t;if(e.document)t=S0(n.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Je.fromSegments(e.noDocument.path),r=$u(e.noDocument.readTime);t=Zn.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pt();{const i=Je.fromSegments(e.unknownDocument.path),r=$u(e.unknownDocument.version);t=Zn.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new oi(i[0],i[1]);return Rt.fromTimestamp(r)}(e.readTime)),t}(this.yt,t);if(!i.isNoDocument()||!i.version.isEqual(Rt.min()))return i}return Zn.newInvalidDocument(e)}}function AS(n){return new oO(n)}class aO extends SS{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Vu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new En((a,c)=>Qt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const h=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,h.readTime)),c.isValidDocument()){const g=q_(this.Yn.yt,c);r=r.add(a.path.popLast()),i+=X_(g)-h.size,t.push(this.Yn.addEntry(e,a,g))}else if(i-=h.size,this.trackRemovals){const g=q_(this.Yn.yt,c.convertToNoDocument(Rt.min()));t.push(this.Yn.addEntry(e,a,g))}}),r.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,i)),ue.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(i=>(this.Xn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:i,Jn:r})=>(r.forEach((a,c)=>{this.Xn.set(a,{size:c,readTime:i.get(a).readTime})}),i))}}function NS(n){return Gi(n,"remoteDocumentGlobal")}function Zh(n){return Gi(n,"remoteDocumentsV14")}function zu(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function MS(n,e){const t=e.documentKey.path.toArray();return[n,Fp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Y0(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=Qt(t[a],i[a]),r)return r;return r=Qt(t.length,i.length),r||(r=Qt(t[t.length-2],i[i.length-2]),r||Qt(t[t.length-1],i[i.length-1]))}class ey{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Q0{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&xh(i.mutation,r,cs.empty(),oi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Yt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Yt()){const r=Oa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let c=Fh();return a.forEach((h,g)=>{c=c.insert(h,g.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Oa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Yt()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,r){let a=Fr();const c=cd(),h=cd();return t.forEach((g,v)=>{const T=i.get(v.key);r.has(v.key)&&(void 0===T||T.mutation instanceof xl)?a=a.insert(v.key,v):void 0!==T?(c.set(v.key,T.mutation.getFieldMask()),xh(T.mutation,v,T.mutation.getFieldMask(),oi.now())):c.set(v.key,cs.empty())}),this.recalculateAndSaveOverlays(e,a).next(g=>(g.forEach((v,T)=>c.set(v,T)),t.forEach((v,T)=>{var S;return h.set(v,new ey(T,null!==(S=c.get(v))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(e,t){const i=cd();let r=new Ii((c,h)=>c-h),a=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(g=>{const v=t.get(g);if(null===v)return;let T=i.get(g)||cs.empty();T=h.applyToLocalView(v,T),i.set(g,T);const S=(r.get(h.batchId)||Yt()).add(g);r=r.insert(h.batchId,S)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),v=g.key,T=g.value,S=O1();T.forEach(x=>{if(!a.has(x)){const U=M_(t.get(x),i.get(x));null!==U&&S.set(x,U),a=a.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,S))}return ue.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Je.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):p1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const c=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):ue.resolve(Oa());let h=-1,g=a;return c.next(v=>ue.forEach(v,(T,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),a.get(T)?ue.resolve():this.remoteDocumentCache.getEntry(e,T).next(x=>{g=g.insert(T,x)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,g,v,Yt())).next(T=>({batchId:h,changes:k_(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(i=>{let r=Fh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=Fh();return this.indexManager.getCollectionParents(e,r).next(c=>ue.forEach(c,h=>{const g=(v=t,T=h.child(r),new Ma(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,T;return this.getDocumentsMatchingCollectionQuery(e,g,i).next(v=>{v.forEach((T,S)=>{a=a.insert(T,S)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(a=>{r.forEach((h,g)=>{const v=g.getKey();null===a.get(v)&&(a=a.insert(v,Zn.newInvalidDocument(v)))});let c=Fh();return a.forEach((h,g)=>{const v=r.get(h);void 0!==v&&xh(v.mutation,g,cs.empty(),oi.now()),Nh(t,g)&&(c=c.insert(h,g))}),c})}}class yT{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return ue.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var i;return this.Zn.set(t.id,{id:(i=t).id,version:i.version,createTime:Ci(i.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(i=t).name,query:Z_(i.bundledQuery),readTime:Ci(i.readTime)}),ue.resolve();var i}}class lO{constructor(){this.overlays=new Ii(Je.comparator),this.es=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Oa();return ue.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.oe(e,t,a)}),ue.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(i)),ue.resolve()}getOverlaysForCollection(e,t,i){const r=Oa(),a=t.length+1,c=new Je(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const g=h.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&g.largestBatchId>i&&r.set(g.getKey(),g)}return ue.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Ii((v,T)=>v-T);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let T=a.get(v.largestBatchId);null===T&&(T=Oa(),a=a.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const h=Oa(),g=a.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,T)=>h.set(v,T)),!(h.size()>=r)););return ue.resolve(h)}oe(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new P0(t,i));let a=this.es.get(t);void 0===a&&(a=Yt(),this.es.set(t,a)),this.es.set(t,a.add(i.key))}}class qp{constructor(){this.ns=new En(er.ss),this.rs=new En(er.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const i=new er(e,t);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.cs(new er(e,t))}hs(e,t){e.forEach(i=>this.removeReference(i,t))}ls(e){const t=new Je(new mn([])),i=new er(t,e),r=new er(t,e+1),a=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),a.push(c.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Je(new mn([])),i=new er(t,e),r=new er(t,e+1);let a=Yt();return this.rs.forEachInRange([i,r],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new er(e,0),i=this.ns.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class er{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Je.comparator(e.key,t.key)||Qt(e._s,t._s)}static os(e,t){return Qt(e._s,t._s)||Je.comparator(e.key,t.key)}}class OS{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new En(er.ss)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.ws;this.ws++;const c=new Pp(a,t,i,r);this.mutationQueue.push(c);for(const h of r)this.gs=this.gs.add(new er(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ps(t+1),a=r<0?0:r;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new er(t,0),r=new er(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([i,r],c=>{const h=this.ys(c._s);a.push(h)}),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new En(Qt);return t.forEach(r=>{const a=new er(r,0),c=new er(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,c],h=>{i=i.add(h._s)})}),ue.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;Je.isDocumentKey(a)||(a=a.child(""));const c=new er(new Je(a),0);let h=new En(Qt);return this.gs.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(g._s)),!0)},c),ue.resolve(this.Is(h))}Is(e){const t=[];return e.forEach(i=>{const r=this.ys(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Et(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ue.forEach(t.mutations,r=>{const a=new er(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=i})}An(e){}containsKey(e,t){const i=new er(t,0),r=this.gs.firstAfterOrEqual(i);return ue.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ue.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class vT{constructor(e){this.Es=e,this.docs=new Ii(Je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,c=this.Es(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ue.resolve(i?i.document.mutableCopy():Zn.newInvalidDocument(t))}getEntries(e,t){let i=Fr();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():Zn.newInvalidDocument(r))}),ue.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let a=Fr();const c=t.path,h=new Je(c.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:v,value:{document:T}}=g.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||o0(s0(T),i)<=0||(r.has(T.key)||Nh(t,T))&&(a=a.insert(T.key,T.mutableCopy()))}return ue.resolve(a)}getAllFromCollectionGroup(e,t,i,r){pt()}As(e,t){return ue.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new uO(this)}getSize(e){return ue.resolve(this.size)}}class uO extends SS{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(i)}),ue.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class RS{constructor(e){this.persistence=e,this.Rs=new Vu(t=>Oo(t),Rl),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new qp,this.targetCount=0,this.vs=fd.Pn()}forEachTarget(e,t){return this.Rs.forEach((i,r)=>t(r)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.bs&&(this.bs=t),ue.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new fd(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Dn(t),ue.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Rs.forEach((c,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.Rs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ue.waitFor(a).next(()=>r)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const i=this.Rs.get(t)||null;return ue.resolve(i)}addMatchingKeys(e,t,i){return this.Ps.us(t,i),ue.resolve()}removeMatchingKeys(e,t,i){this.Ps.hs(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(c=>{a.push(r.markPotentiallyOrphaned(e,c))}),ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ps.ds(t);return ue.resolve(i)}containsKey(e,t){return ue.resolve(this.Ps.containsKey(t))}}class bT{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new us(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new RS(this),this.indexManager=new Gh,this.remoteDocumentCache=new vT(i=>this.referenceDelegate.xs(i)),this.yt=new sT(t),this.Ns=new yT(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Vs[e.toKey()];return i||(i=new OS(t,this.referenceDelegate),this.Vs[e.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,i){Ge("MemoryPersistence","Starting transaction:",e);const r=new xS(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(a=>this.referenceDelegate.Os(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ms(e,t){return ue.or(Object.values(this.Vs).map(i=>()=>i.containsKey(e,t)))}}class xS extends KD{constructor(e){super(),this.currentSequenceNumber=e}}class gd{constructor(e){this.persistence=e,this.Fs=new qp,this.$s=null}static Bs(e){return new gd(e)}get Ls(){if(this.$s)return this.$s;throw pt()}addReference(e,t,i){return this.Fs.addReference(i,t),this.Ls.delete(i.toString()),ue.resolve()}removeReference(e,t,i){return this.Fs.removeReference(i,t),this.Ls.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Ls.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ls,i=>{const r=Je.fromPath(i);return this.qs(e,r).next(a=>{a||t.removeEntry(r,Rt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(i=>{i?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return ue.or([()=>ue.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class kS{constructor(e){this.yt=e}$(e,t,i,r){const a=new vp("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jh,{unique:!0}),h.createObjectStore("documentMutations"),PS(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=ue.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),PS(e)),c=c.next(()=>function(h){const g=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(a))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,g){return g.store("mutations").W().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jh,{unique:!0});const T=g.store("mutations"),S=v.map(x=>T.put(x));return ue.waitFor(S)})}(e,a))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Us(a))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(a))),i<8&&r>=8&&(c=c.next(()=>this.Qs(e,a))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.js(a))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:nT});g.createIndex("collectionPathOverlayIndex",R0,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",iT,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:gS});g.createIndex("documentKeyIndex",O0),g.createIndex("collectionGroupIndex",kp)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(e,a))),i<15&&r>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:$_}).createIndex("sequenceNumberIndex",vS,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:bS}).createIndex("documentKeyIndex",tT,{unique:!1})}(e))),c}Ks(e){let t=0;return e.store("remoteDocuments").Z((i,r)=>{t+=X_(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Us(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.W().next(r=>ue.forEach(r,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(h=>ue.forEach(h,g=>{Et(g.userId===a.userId);const v=Hu(this.yt,g);return q0(e,a.userId,v).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.Z((c,h)=>{const g=new mn(c),v=[0,Zr(g)];a.push(t.get(v).next(T=>T?ue.resolve():t.put({targetId:0,path:Zr(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ue.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:j_});const i=t.store("collectionParents"),r=new $0,a=c=>{if(r.add(c)){const h=c.lastSegment(),g=c.popLast();return i.put({collectionId:h,parent:Zr(g)})}};return t.store("remoteDocuments").Z({X:!0},(c,h)=>{const g=new mn(c);return a(g.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([c,h,g],v)=>{const T=xa(h);return a(T.popLast())}))}js(e){const t=e.store("targets");return t.Z((i,r)=>{const a=Lp(r),c=F0(this.yt,a);return t.put(c)})}Ws(e,t){const i=t.store("remoteDocuments"),r=[];return i.Z((a,c)=>{const h=t.store("remoteDocumentsV14"),g=(v=c,v.document?new Je(mn.fromString(v.document.name).popFirst(5)):v.noDocument?Je.fromSegments(v.noDocument.path):v.unknownDocument?Je.fromSegments(v.unknownDocument.path):pt()).path.toArray();var v;const T={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(T))}).next(()=>ue.waitFor(r))}zs(e,t){const i=t.store("mutations"),r=AS(this.yt),a=new bT(gd.Bs,this.yt.ie);return i.W().next(c=>{const h=new Map;return c.forEach(g=>{var v;let T=null!==(v=h.get(g.userId))&&void 0!==v?v:Yt();Hu(this.yt,g).keys().forEach(S=>T=T.add(S)),h.set(g.userId,T)}),ue.forEach(h,(g,v)=>{const T=new Qi(v),S=z_.re(this.yt,T),x=a.getIndexManager(T),U=Gp.re(T,this.yt,x,a.referenceDelegate);return new Q0(r,U,S,x).recalculateAndSaveOverlaysForDocumentKeys(new G_(t,us.at),g).next()})})}}function PS(n){n.createObjectStore("targetDocuments",{keyPath:_S}).createIndex("documentTargetsIndex",yS,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",mS,{unique:!0}),n.createObjectStore("targetGlobal")}const wT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class DT{constructor(e,t,i,r,a,c,h,g,v,T,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Hs=a,this.window=c,this.document=h,this.Js=v,this.Ys=T,this.Xs=S,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=x=>Promise.resolve(),!DT.C())throw new Ue(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new sO(this,r),this.ii=t+"main",this.yt=new sT(g),this.ri=new No(this.ii,this.Xs,new kS(this.yt)),this.Cs=new gT(this.referenceDelegate,this.yt),this.remoteDocumentCache=AS(this.yt),this.Ns=new zr,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===T&&yi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(he.FAILED_PRECONDITION,wT);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new us(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var i=(0,be.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,be.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ty(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Mo(e))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Zp(e).get("owner").next(t=>ue.resolve(this.mi(t)))}gi(e){return ty(e).delete(this.clientId)}yi(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Gi(i,"clientMetadata");return r.W().next(a=>{const c=e.Ii(a,18e5),h=a.filter(g=>-1===c.indexOf(g));return ue.forEach(h,g=>r.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(e.oi)for(const i of t)e.oi.removeItem(e.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?ue.resolve(!0):Zp(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Ue(he.FAILED_PRECONDITION,wT);return!1}}return!(!this.networkEnabled||!this.inForeground)||ty(e).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new G_(t,us.at);return e._i(i).next(()=>e.gi(i))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(i=>this.pi(i.updateTimeMs,t)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>ty(e).W().next(t=>this.Ii(t,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Gp.re(e,this.yt,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new H0(e,this.yt.ie.databaseId)}getDocumentOverlayCache(e){return z_.re(this.yt,e)}getBundleCache(){return this.Ns}runTransaction(e,t,i){Ge("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(c=this.Xs)?x0:14===c?H_:13===c?DS:12===c?wS:11===c?rT:void pt();var c;let h;return this.ri.runTransaction(e,r,a,g=>(h=new G_(g,this.Ss?this.Ss.next():us.at),"readwrite-primary"===t?this.fi(h).next(v=>!!v||this.di(h)).next(v=>{if(!v)throw yi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Ue(he.FAILED_PRECONDITION,WD);return i(h)}).next(v=>this.wi(h).next(()=>v)):this.Vi(h).next(()=>i(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Vi(e){return Zp(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ue(he.FAILED_PRECONDITION,wT)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zp(e).put("owner",t)}static C(){return No.C()}_i(e){const t=Zp(e);return t.get("owner").next(i=>this.mi(i)?(Ge("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}pi(e,t){const i=Date.now();return!(e<i-t||e>i&&(yi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ln.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const i=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Ge("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return yi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){yi("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Zp(n){return Gi(n,"owner")}function ty(n){return Gi(n,"clientMetadata")}function J0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class TT{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Si=i,this.Di=r}static Ci(e,t){let i=Yt(),r=Yt();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new TT(e,t.fromCache,i,r)}}class ET{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.ki(e,t).next(a=>a||this.Oi(e,t,r,i)).next(a=>a||this.Mi(e,t))}ki(e,t){if(w0(t))return ue.resolve(null);let i=ds(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Sp(t,null,"F"),i=ds(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Yt(...a);return this.Ni.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(g=>{const v=this.Fi(t,h);return this.$i(t,v,c,g.readTime)?this.ki(e,Sp(t,null,"F")):this.Bi(e,v,t,g)}))})))}Oi(e,t,i,r){return w0(t)||r.isEqual(Rt.min())?this.Mi(e,t):this.Ni.getDocuments(e,i).next(a=>{const c=this.Fi(t,a);return this.$i(t,c,i,r)?this.Mi(e,t):(t0()<=bu.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),T0(t)),this.Bi(e,c,t,r0(r,-1)))})}Fi(e,t){let i=new En(_1(e));return t.forEach((r,a)=>{Nh(e,a)&&(i=i.add(a))}),i}$i(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Mi(e,t){return t0()<=bu.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",T0(t)),this.Ni.getDocumentsMatchingQuery(e,t,As.min())}Bi(e,t,i,r){return this.Ni.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class IT{constructor(e,t,i,r){this.persistence=e,this.Li=t,this.yt=r,this.qi=new Ii(Qt),this.Ui=new Vu(a=>Oo(a),Rl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(i)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q0(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function X0(n,e,t,i){return new IT(n,e,t,i)}function FS(n,e){return Ms.apply(this,arguments)}function Ms(){return Ms=(0,be.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],h=[];let g=Yt();for(const v of r){c.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}for(const v of a){h.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}return t.localDocuments.getDocuments(i,g).next(v=>({ji:v,removedBatchIds:c,addedBatchIds:h}))})})}),Ms.apply(this,arguments)}function LS(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,h,g,v){const T=g.batch,S=T.keys();let x=ue.resolve();return S.forEach(U=>{x=x.next(()=>v.getEntry(h,U)).next(G=>{const K=g.docVersions.get(U);Et(null!==K),G.version.compareTo(K)<0&&(T.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),v.addEntry(G)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(h,T))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=Yt();for(let g=0;g<c.mutationResults.length;++g)c.mutationResults[g].transformResults.length>0&&(h=h.add(c.batch.mutations[g].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function ny(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function US(n,e){const t=tt(n),i=e.snapshotVersion;let r=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});r=t.qi;const h=[];e.targetChanges.forEach((T,S)=>{const x=r.get(S);if(!x)return;h.push(t.Cs.removeMatchingKeys(a,T.removedDocuments,S).next(()=>t.Cs.addMatchingKeys(a,T.addedDocuments,S)));let U=x.withSequenceNumber(a.currentSequenceNumber);var G,K,X;e.targetMismatches.has(S)?U=U.withResumeToken(Xi.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):T.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(T.resumeToken,i)),r=r.insert(S,U),K=U,X=T,(0===(G=x).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=3e8||X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0)&&h.push(t.Cs.updateTargetData(a,U))});let g=Fr(),v=Yt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,T))}),h.push(Os(a,c,e.documentUpdates).next(T=>{g=T.Wi,v=T.zi})),!i.isEqual(Rt.min())){const T=t.Cs.getLastRemoteSnapshotVersion(a).next(S=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(T)}return ue.waitFor(h).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,g,v)).next(()=>g)}).then(a=>(t.qi=r,a))}function Os(n,e,t){let i=Yt(),r=Yt();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=Fr();return t.forEach((h,g)=>{const v=a.get(h);g.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),g.isNoDocument()&&g.version.isEqual(Rt.min())?(e.removeEntry(h,g.readTime),c=c.insert(h,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),c=c.insert(h,g)):Ge("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",g.version)}),{Wi:c,zi:r}})}function VS(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Wu(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Cs.getTargetData(i,e).next(a=>a?(r=a,ue.resolve(r)):t.Cs.allocateTargetId(i).next(c=>(r=new Bu(e,c,0,i.currentSequenceNumber),t.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.qi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.qi=t.qi.insert(i.targetId,i),t.Ui.set(e,i.targetId)),i})}function zh(n,e,t){return eb.apply(this,arguments)}function eb(){return eb=(0,be.Z)(function*(n,e,t){const i=tt(n),r=i.qi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Mo(c))throw c;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.qi=i.qi.remove(e),i.Ui.delete(r.target)}),eb.apply(this,arguments)}function Wh(n,e,t){const i=tt(n);let r=Rt.min(),a=Yt();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,g,v){const T=tt(h),S=T.Ui.get(v);return void 0!==S?ue.resolve(T.qi.get(S)):T.Cs.getTargetData(g,v)}(i,c,ds(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,h.targetId).next(g=>{a=g})}).next(()=>i.Li.getDocumentsMatchingQuery(c,e,t?r:Rt.min(),t?a:Yt())).next(h=>(CT(i,Mh(e),h),{documents:h,Hi:a})))}function tb(n,e){const t=tt(n),i=tt(t.Cs),r=t.qi.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.ne(a,e).next(c=>c?c.target:null))}function nb(n,e){const t=tt(n),i=t.Ki.get(e)||Rt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Gi.getAllFromCollectionGroup(r,e,r0(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(CT(t,e,r),r))}function CT(n,e,t){let i=n.Ki.get(e)||Rt.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Ki.set(e,i)}function iy(){return iy=(0,be.Z)(function*(n,e,t,i){const r=tt(n);let a=Yt(),c=Fr();for(const v of t){const T=e.Ji(v.metadata.name);v.document&&(a=a.add(T));const S=e.Yi(v);S.setReadTime(e.Xi(v.metadata.readTime)),c=c.insert(T,S)}const h=r.Gi.newChangeBuffer({trackRemovals:!0}),g=yield Wu(r,(v=i,ds(Sh(mn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>Os(v,h,c).next(T=>(h.apply(v),T)).next(T=>r.Cs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>r.Cs.addMatchingKeys(v,a,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,T.Wi,T.zi)).next(()=>T.Wi)))}),iy.apply(this,arguments)}function BS(n,e){return ry.apply(this,arguments)}function ry(){return ry=(0,be.Z)(function*(n,e,t=Yt()){const i=yield Wu(n,ds(Z_(e.bundledQuery))),r=tt(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const c=Ci(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(a,e);const h=i.withResumeToken(Xi.EMPTY_BYTE_STRING,c);return r.qi=r.qi.insert(h.targetId,h),r.Cs.updateTargetData(a,h).next(()=>r.Cs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Cs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ns.saveNamedQuery(a,e))})}),ry.apply(this,arguments)}function AT(n,e){return`firestore_clients_${n}_${e}`}function sy(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function Pa(n,e){return`firestore_targets_${n}_${e}`}class zp{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Zi(e,t,i){const r=JSON.parse(i);let a,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(a=new Ue(r.error.code,r.error.message))),c?new zp(e,t,r.state,a):(yi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class md{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Zi(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Ue(i.error.code,i.error.message))),a?new md(e,i.state,r):(yi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Xs{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=P_();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=XD(i.activeTargetIds[c]),a=a.add(i.activeTargetIds[c]);return r?new Xs(e,a):(yi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ib{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ib(t.clientId,t.onlineState):(yi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class NT{constructor(){this.activeTargetIds=P_()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rb{constructor(e,t,i,r,a){this.window=e,this.Hs=t,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Ii(Qt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=AT(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new NT),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.vi();for(const r of t){if(r===e.sr)continue;const a=e.getItem(AT(e.persistenceKey,r));if(a){const c=Xs.Zi(r,a);c&&(e.ur=e.ur.insert(c.clientId,c))}}e.gr();const i=e.storage.getItem(e.wr);if(i){const r=e.yr(i);r&&e.pr(r)}for(const r of e.cr)e.rr(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,i){this.Tr(e,t,i),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(Pa(this.persistenceKey,e));if(i){const r=md.Zi(e,i);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Pa(this.persistenceKey,e))}updateQueryState(e,t,i){this.Rr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Er(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ge("SharedClientState","READ",e,t),t}setItem(e,t){Ge("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ge("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void yi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==i.key)if(t.lr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Vr(r,null)}{const r=t.Sr(i.key,i.newValue);if(r)return t.Vr(r.clientId,r)}}else if(t.dr.test(i.key)){if(null!==i.newValue){const r=t.Dr(i.key,i.newValue);if(r)return t.Cr(r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Nr(i.key,i.newValue);if(r)return t.kr(r)}}else if(i.key===t.wr){if(null!==i.newValue){const r=t.yr(i.newValue);if(r)return t.pr(r)}}else if(i.key===t.hr){const r=function(a){let c=us.at;if(null!=a)try{const h=JSON.parse(a);Et("number"==typeof h),c=h}catch(h){yi("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==us.at&&t.sequenceNumberHandler(r)}else if(i.key===t.mr){const r=t.Or(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,i){const r=new zp(this.currentUser,e,t,i),a=sy(this.persistenceKey,this.currentUser,e);this.setItem(a,r.tr())}Er(e){const t=sy(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,i){const r=Pa(this.persistenceKey,e),a=new md(e,t,i);this.setItem(r,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const i=this.vr(e);return Xs.Zi(i,t)}Dr(e,t){const i=this.dr.exec(e),r=Number(i[1]);return zp.Zi(new Qi(void 0!==i[2]?i[2]:null),r,t)}Nr(e,t){const i=this._r.exec(e),r=Number(i[1]);return md.Zi(r,t)}yr(e){return ib.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const i=t?this.ur.insert(e,t):this.ur.remove(e),r=this.Ir(this.ur),a=this.Ir(i),c=[],h=[];return a.forEach(g=>{r.has(g)||c.push(g)}),r.forEach(g=>{a.has(g)||h.push(g)}),this.syncEngine.Br(c,h).then(()=>{this.ur=i})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=P_();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class MT{constructor(){this.Lr=new NT,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new NT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class jS{Ur(e){}shutdown(){}}class OT{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const RT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cO{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class xT extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,i,r,a){const c=this.ho(e,t);Ge("RestConnection","Sending: ",c,i);const h={};return this.lo(h,r,a),this.fo(e,c,h,i).then(g=>(Ge("RestConnection","Received: ",g),g),g=>{throw Sa("RestConnection",`${e} failed with error: `,g,"url: ",c,"request:",i),g})}_o(e,t,i,r,a,c){return this.ao(e,t,i,r,a)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}ho(e,t){return`${this.oo}/v1/${t}:${RT[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((a,c)=>{const h=new ZC;h.setWithCredentials(!0),h.listenOnce(Qv.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case p_.NO_ERROR:const v=h.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(v)),a(v);break;case p_.TIMEOUT:Ge("Connection",'RPC "'+e+'" timed out'),c(new Ue(he.DEADLINE_EXCEEDED,"Request time out"));break;case p_.HTTP_ERROR:const T=h.getStatus();if(Ge("Connection",'RPC "'+e+'" failed with status:',T,"response text:",h.getResponseText()),T>0){let S=h.getResponseJson();Array.isArray(S)&&(S=S[0]);const x=S?.error;if(x&&x.status&&x.message){const U=function(G){const K=G.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(K)>=0?K:he.UNKNOWN}(x.status);c(new Ue(U,x.message))}else c(new Ue(he.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ue(he.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{Ge("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(r);h.send(t,"POST",g,i,15)})}wo(e,t,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=f_(),c=VD(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new Xv({})),this.lo(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const g=r.join("");Ge("Connection","Creating WebChannel: "+g,h);const v=a.createWebChannel(g,h);let T=!1,S=!1;const x=new cO({Hr:G=>{S?Ge("Connection","Not sending because WebChannel is closed:",G):(T||(Ge("Connection","Opening WebChannel transport."),v.open(),T=!0),Ge("Connection","WebChannel sending:",G),v.send(G))},Jr:()=>v.close()}),U=(G,K,X)=>{G.listen(K,Ne=>{try{X(Ne)}catch(je){setTimeout(()=>{throw je},0)}})};return U(v,yp.EventType.OPEN,()=>{S||Ge("Connection","WebChannel transport opened.")}),U(v,yp.EventType.CLOSE,()=>{S||(S=!0,Ge("Connection","WebChannel transport closed"),x.io())}),U(v,yp.EventType.ERROR,G=>{S||(S=!0,Sa("Connection","WebChannel transport errored:",G),x.io(new Ue(he.UNAVAILABLE,"The operation could not be completed")))}),U(v,yp.EventType.MESSAGE,G=>{var K;if(!S){const X=G.data[0];Et(!!X);const Ne=X,je=Ne.error||(null===(K=Ne[0])||void 0===K?void 0:K.error);if(je){Ge("Connection","WebChannel received error:",je);const He=je.status;let Me=function(Ke){const bt=Fi[Ke];if(void 0!==bt)return E0(bt)}(He),Ze=je.message;void 0===Me&&(Me=he.INTERNAL,Ze="Unknown error status: "+He+" with message "+je.message),S=!0,x.io(new Ue(Me,Ze)),v.close()}else Ge("Connection","WebChannel received:",X),x.ro(X)}}),U(c,BD.STAT_EVENT,G=>{G.stat===Jv.PROXY?Ge("Connection","Detected buffering proxy"):G.stat===Jv.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.so()},0),x}}function kT(){return typeof window<"u"?window:null}function Wp(){return typeof document<"u"?document:null}function oy(n){return new cS(n,!0)}class Kp{constructor(e,t,i=1e3,r=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=i,this.yo=r,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&Ge("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class sb{constructor(e,t,i,r,a,c,h,g){this.Hs=e,this.vo=i,this.Vo=r,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Kp(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,be.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,be.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var i=this;return(0,be.Z)(function*(){i.Lo(),i.qo(),i.xo.cancel(),i.So++,4!==e?i.xo.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(yi(t.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),i.xo.Ao()):t&&t.code===he.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Uo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===t&&this.Go(i,r)},i=>{e(()=>{const r=new Ue(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(e,t){const i=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,be.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PT extends sb{constructor(e,t,i,r,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.yt=a}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function Z1(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:pt(),r=e.targetChange.targetIds||[],a=function(g,v){return g.wt?(Et(void 0===v||"string"==typeof v),Xi.fromBase64String(v||"")):(Et(void 0===v||v instanceof Uint8Array),Xi.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(g){const v=void 0===g.code?he.UNKNOWN:E0(g.code);return new Ue(v,g.message||"")}(c);t=new L_(i,r,a,h||null)}else if("documentChange"in e){const i=e.documentChange,r=Ra(n,i.document.name),a=Ci(i.document.updateTime),c=i.document.createTime?Ci(i.document.createTime):Rt.min(),h=new Hi({mapValue:{fields:i.document.fields}}),g=Zn.newFoundDocument(r,a,c,h);t=new Uh(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const i=e.documentDelete,r=Ra(n,i.document),a=i.readTime?Ci(i.readTime):Rt.min(),c=Zn.newNoDocument(r,a);t=new Uh([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=Ra(n,i.document);t=new Uh([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return pt();{const i=e.filter,a=new M1(i.count||0);t=new k1(i.targetId,a)}}var g;return t}(this.yt,e),i=function(r){if(!("targetChange"in r))return Rt.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?Rt.min():a.readTime?Ci(a.readTime):Rt.min()}(e);return this.listener.Wo(t,i)}zo(e){const t={};t.database=Op(this.yt),t.addTarget=function(r,a){let c;const h=a.target;return c=E_(h)?{documents:z1(r,h)}:{query:N0(r,h)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=B1(r,a.resumeToken):a.snapshotVersion.compareTo(Rt.min())>0&&(c.readTime=Vh(r,a.snapshotVersion.toTimestamp())),c}(this.yt,e);const i=function xp(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Bo(t)}Ho(e){const t={};t.database=Op(this.yt),t.removeTarget=e,this.Bo(t)}}class FT extends sb{constructor(e,t,i,r,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.yt=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function fS(n,e){return n&&n.length>0?(Et(void 0!==e),n.map(t=>function(i,r){let a=Ci(i.updateTime?i.updateTime:r);return a.isEqual(Rt.min())&&(a=Ci(r)),new I1(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Ci(e.commitTime);return this.listener.Zo(i,t)}return Et(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Op(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Rp(this.yt,i))};this.Bo(t)}}class LT extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.yt=r,this.nu=!1}su(){if(this.nu)throw new Ue(he.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.ao(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ue(he.UNKNOWN,r.toString())})}_o(e,t,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection._o(e,t,i,a,c,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ue(he.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class ay{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(yi(t),this.ou=!1):Ge("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class VT{constructor(e,t,i,r,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.Ur(h=>{i.enqueueAndForget((0,be.Z)(function*(){var g;Pl(c)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,be.Z)(function*(v){const T=tt(v);T._u.add(4),yield _d(T),T.gu.set("Unknown"),T._u.delete(4),yield Yp(T)}),function(v){return g.apply(this,arguments)})(c))}))}),this.gu=new ay(i,r)}}function Yp(n){return ly.apply(this,arguments)}function ly(){return ly=(0,be.Z)(function*(n){if(Pl(n))for(const e of n.wu)yield e(!0)}),ly.apply(this,arguments)}function _d(n){return ob.apply(this,arguments)}function ob(){return ob=(0,be.Z)(function*(n){for(const e of n.wu)yield e(!1)}),ob.apply(this,arguments)}function uy(n,e){const t=tt(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),ub(t)?lb(t):yd(t).ko()&&BT(t,e))}function cy(n,e){const t=tt(n),i=yd(t);t.du.delete(e),i.ko()&&ab(t,e),0===t.du.size&&(i.ko()?i.Fo():Pl(t)&&t.gu.set("Unknown"))}function BT(n,e){n.yu.Ot(e.targetId),yd(n).zo(e)}function ab(n,e){n.yu.Ot(e),yd(n).Ho(e)}function lb(n){n.yu=new F1({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),yd(n).start(),n.gu.uu()}function ub(n){return Pl(n)&&!yd(n).No()&&n.du.size>0}function Pl(n){return 0===tt(n)._u.size}function $S(n){n.yu=void 0}function dO(n){return jT.apply(this,arguments)}function jT(){return jT=(0,be.Z)(function*(n){n.du.forEach((e,t)=>{BT(n,e)})}),jT.apply(this,arguments)}function hO(n,e){return $T.apply(this,arguments)}function $T(){return $T=(0,be.Z)(function*(n,e){$S(n),ub(n)?(n.gu.hu(e),lb(n)):n.gu.set("Unknown")}),$T.apply(this,arguments)}function HS(n,e,t){return Yh.apply(this,arguments)}function Yh(){return Yh=(0,be.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof L_&&2===e.state&&e.cause)try{yield(i=(0,be.Z)(function*(r,a){const c=a.cause;for(const h of a.targetIds)r.du.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r.du.delete(h),r.yu.removeTarget(h))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield dy(n,i)}else if(e instanceof Uh?n.yu.Kt(e):e instanceof k1?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Rt.min()))try{const i=yield ny(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const c=r.yu.Zt(a);return c.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const v=r.du.get(g);v&&r.du.set(g,v.withResumeToken(h.resumeToken,a))}}),c.targetMismatches.forEach(h=>{const g=r.du.get(h);if(!g)return;r.du.set(h,g.withResumeToken(Xi.EMPTY_BYTE_STRING,g.snapshotVersion)),ab(r,h);const v=new Bu(g.target,h,1,g.sequenceNumber);BT(r,v)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){Ge("RemoteStore","Failed to raise snapshot:",i),yield dy(n,i)}var i}),Yh.apply(this,arguments)}function dy(n,e,t){return cb.apply(this,arguments)}function cb(){return cb=(0,be.Z)(function*(n,e,t){if(!Mo(e))throw e;n._u.add(1),yield _d(n),n.gu.set("Offline"),t||(t=()=>ny(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Yp(n)}))}),cb.apply(this,arguments)}function db(n,e){return e().catch(t=>dy(n,t,e))}function eo(n){return hy.apply(this,arguments)}function hy(){return hy=(0,be.Z)(function*(n){const e=tt(n),t=Fl(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;hb(e);)try{const r=yield VS(e.localStore,i);if(null===r){0===e.fu.length&&t.Fo();break}i=r.batchId,fb(e,r)}catch(r){yield dy(e,r)}HT(e)&&fy(e)}),hy.apply(this,arguments)}function hb(n){return Pl(n)&&n.fu.length<10}function fb(n,e){n.fu.push(e);const t=Fl(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function HT(n){return Pl(n)&&!Fl(n).No()&&n.fu.length>0}function fy(n){Fl(n).start()}function pb(n){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,be.Z)(function*(n){Fl(n).eu()}),Qh.apply(this,arguments)}function fO(n){return GT.apply(this,arguments)}function GT(){return GT=(0,be.Z)(function*(n){const e=Fl(n);for(const t of n.fu)e.Xo(t.mutations)}),GT.apply(this,arguments)}function pO(n,e,t){return qT.apply(this,arguments)}function qT(){return qT=(0,be.Z)(function*(n,e,t){const i=n.fu.shift(),r=k0.from(i,e,t);yield db(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield eo(n)}),qT.apply(this,arguments)}function ZT(n,e){return gb.apply(this,arguments)}function gb(){return gb=(0,be.Z)(function*(n,e){var t;e&&Fl(n).Yo&&(yield(t=(0,be.Z)(function*(i,r){if(R_(a=r.code)&&a!==he.ABORTED){const c=i.fu.shift();Fl(i).Mo(),yield db(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield eo(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),HT(n)&&fy(n)}),gb.apply(this,arguments)}function zT(n,e){return mb.apply(this,arguments)}function mb(){return mb=(0,be.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const i=Pl(t);t._u.add(3),yield _d(t),i&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Yp(t)}),mb.apply(this,arguments)}function _b(n,e){return py.apply(this,arguments)}function py(){return py=(0,be.Z)(function*(n,e){const t=tt(n);e?(t._u.delete(2),yield Yp(t)):e||(t._u.add(2),yield _d(t),t.gu.set("Unknown"))}),py.apply(this,arguments)}function yd(n){return n.pu||(n.pu=function(e,t,i){const r=tt(e);return r.su(),new PT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:dO.bind(null,n),Zr:hO.bind(null,n),Wo:HS.bind(null,n)}),n.wu.push(function(){var e=(0,be.Z)(function*(t){t?(n.pu.Mo(),ub(n)?lb(n):n.gu.set("Unknown")):(yield n.pu.stop(),$S(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Fl(n){return n.Iu||(n.Iu=function(e,t,i){const r=tt(e);return r.su(),new FT(t,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,i)}(n.datastore,n.asyncQueue,{Yr:pb.bind(null,n),Zr:ZT.bind(null,n),tu:fO.bind(null,n),Zo:pO.bind(null,n)}),n.wu.push(function(){var e=(0,be.Z)(function*(t){t?(n.Iu.Mo(),yield eo(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class yb{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,a){const c=Date.now()+i,h=new yb(e,t,c,r,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jh(n,e){if(yi("AsyncQueue",`${e}: ${n}`),Mo(n))return new Ue(he.UNAVAILABLE,`${e}: ${n}`);throw n}class vd{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Je.comparator(t.key,i.key):(t,i)=>Je.comparator(t.key,i.key),this.keyedMap=Fh(),this.sortedSet=new Ii(this.comparator)}static emptySet(e){return new vd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vd)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new vd;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class gy{constructor(){this.Tu=new Ii(Je.comparator)}track(e){const t=e.doc.key,i=this.Tu.get(t);i?0!==e.type&&3===i.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==i.type?this.Tu=this.Tu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Tu=this.Tu.remove(t):1===e.type&&2===i.type?this.Tu=this.Tu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):pt():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,i)=>{e.push(i)}),e}}class Qp{constructor(e,t,i,r,a,c,h,g,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,r,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new Qp(e,t,vd.emptySet(t),c,i,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class WT{constructor(){this.Au=void 0,this.listeners=[]}}class vb{constructor(){this.queries=new Vu(e=>m1(e),Fu),this.onlineState="Unknown",this.Ru=new Set}}function bb(n,e){return wb.apply(this,arguments)}function wb(){return wb=(0,be.Z)(function*(n,e){const t=tt(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new WT),r)try{a.Au=yield t.onListen(i)}catch(c){const h=Jh(c,`Initialization of query '${T0(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,a),a.listeners.push(e),e.bu(t.onlineState),a.Au&&e.Pu(a.Au)&&Db(t)}),wb.apply(this,arguments)}function KT(n,e){return YT.apply(this,arguments)}function YT(){return YT=(0,be.Z)(function*(n,e){const t=tt(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),YT.apply(this,arguments)}function GS(n,e){const t=tt(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const h of c.listeners)h.Pu(r)&&(i=!0);c.Au=r}}i&&Db(t)}function qS(n,e,t){const i=tt(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function Db(n){n.Ru.forEach(e=>{e.next()})}class QT{constructor(e,t,i){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Qp(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Qp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class gO{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class ZS{constructor(e){this.yt=e}Ji(e){return Ra(this.yt,e)}Yi(e){return e.metadata.exists?S0(this.yt,e.document,!1):Zn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return Ci(e)}}class mO{constructor(e,t,i){this.Mu=e,this.localStore=t,this.yt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=zS(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const i=mn.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new ZS(this.yt);for(const r of e)if(r.metadata.queries){const a=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const h=(t.get(c)||Yt()).add(a);t.set(c,h)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function ST(n,e,t,i){return iy.apply(this,arguments)}(e.localStore,new ZS(e.yt),e.documents,e.Mu.id),i=e.$u(e.documents);for(const r of e.queries)yield BS(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function zS(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class JT{constructor(e){this.key=e}}class WS{constructor(e){this.key=e}}class KS{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Yt(),this.mutatedKeys=Yt(),this.Gu=_1(e),this.Qu=new vd(this.Gu)}get ju(){return this.qu}Wu(e,t){const i=t?t.zu:new gy,r=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=r,h=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((T,S)=>{const x=r.get(T),U=Nh(this.query,S)?S:null,G=!!x&&this.mutatedKeys.has(x.key),K=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let X=!1;x&&U?x.data.isEqual(U.data)?G!==K&&(i.track({type:3,doc:U}),X=!0):this.Hu(x,U)||(i.track({type:2,doc:U}),X=!0,(g&&this.Gu(U,g)>0||v&&this.Gu(U,v)<0)&&(h=!0)):!x&&U?(i.track({type:0,doc:U}),X=!0):x&&!U&&(i.track({type:1,doc:x}),X=!0,(g||v)&&(h=!0)),X&&(U?(c=c.add(U),a=K?a.add(T):a.delete(T)):(c=c.delete(T),a=a.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),a=a.delete(T.key),i.track({type:1,doc:T})}return{Qu:c,zu:i,$i:h,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Eu();a.sort((v,T)=>function(S,x){const U=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return U(S)-U(x)}(v.type,T.type)||this.Gu(v.doc,T.doc)),this.Ju(i);const c=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,g=h!==this.Uu;return this.Uu=h,0!==a.length||g?{snapshot:new Qp(this.query,e.Qu,r,a,e.mutatedKeys,0===h,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new gy,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Yt(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new WS(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new JT(i))}),t}tc(e){this.qu=e.Hi,this.Ku=Yt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Qp.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class _O{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class yO{constructor(e){this.key=e,this.nc=!1}}class YS{constructor(e,t,i,r,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Vu(h=>m1(h),Fu),this.rc=new Map,this.oc=new Set,this.uc=new Ii(Je.comparator),this.cc=new Map,this.ac=new qp,this.hc={},this.lc=new Map,this.fc=fd.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function vO(n,e){return s.apply(this,arguments)}function s(){return s=(0,be.Z)(function*(n,e){const t=iA(n);let i,r;const a=t.ic.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.ec();else{const c=yield Wu(t.localStore,ds(e));t.isPrimaryClient&&uy(t.remoteStore,c);const h=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield o(t,e,i,"current"===h,c.resumeToken)}return r}),s.apply(this,arguments)}function o(n,e,t,i,r){return l.apply(this,arguments)}function l(){return l=(0,be.Z)(function*(n,e,t,i,r){n._c=(S,x,U)=>{return(G=(0,be.Z)(function*(K,X,Ne,je){let He=X.view.Wu(Ne);He.$i&&(He=yield Wh(K.localStore,X.query,!1).then(({documents:Ke})=>X.view.Wu(Ke,He)));const Me=je&&je.targetChanges.get(X.targetId),Ze=X.view.applyChanges(He,K.isPrimaryClient,Me);return zn(K,X.targetId,Ze.Xu),Ze.snapshot}),function(K,X,Ne,je){return G.apply(this,arguments)})(n,S,x,U);var G};const a=yield Wh(n.localStore,e,!0),c=new KS(e,a.Hi),h=c.Wu(a.documents),g=Lh.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),v=c.applyChanges(h,n.isPrimaryClient,g);zn(n,t,v.Xu);const T=new _O(e,t,c);return n.ic.set(e,T),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),l.apply(this,arguments)}function d(n,e){return f.apply(this,arguments)}function f(){return f=(0,be.Z)(function*(n,e){const t=tt(n),i=t.ic.get(e),r=t.rc.get(i.targetId);if(r.length>1)return t.rc.set(i.targetId,r.filter(a=>!Fu(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield zh(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),cy(t.remoteStore,i.targetId),Pt(t,i.targetId)}).catch(Aa))):(Pt(t,i.targetId),yield zh(t.localStore,i.targetId,!0))}),f.apply(this,arguments)}function y(){return y=(0,be.Z)(function*(n,e,t){const i=rA(n);try{const r=yield function(a,c){const h=tt(a),g=oi.now(),v=c.reduce((x,U)=>x.add(U.key),Yt());let T,S;return h.persistence.runTransaction("Locally write mutations","readwrite",x=>{let U=Fr(),G=Yt();return h.Gi.getEntries(x,v).next(K=>{U=K,U.forEach((X,Ne)=>{Ne.isValidDocument()||(G=G.add(X))})}).next(()=>h.localDocuments.getOverlayedDocuments(x,U)).next(K=>{T=K;const X=[];for(const Ne of c){const je=aS(Ne,T.get(Ne.key).overlayedDocument);null!=je&&X.push(new xl(Ne.key,je,_0(je.value.mapValue),ai.exists(!0)))}return h.mutationQueue.addMutationBatch(x,g,X,c)}).next(K=>{S=K;const X=K.applyToLocalDocumentSet(T,G);return h.documentOverlayCache.saveOverlays(x,K.batchId,X)})}).then(()=>({batchId:S.batchId,changes:k_(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,c,h){let g=a.hc[a.currentUser.toKey()];g||(g=new Ii(Qt)),g=g.insert(c,h),a.hc[a.currentUser.toKey()]=g}(i,r.batchId,t),yield Ro(i,r.changes),yield eo(i.remoteStore)}catch(r){const a=Jh(r,"Failed to persist write");t.reject(a)}}),y.apply(this,arguments)}function w(n,e){return E.apply(this,arguments)}function E(){return E=(0,be.Z)(function*(n,e){const t=tt(n);try{const i=yield US(t.localStore,e);e.targetChanges.forEach((r,a)=>{const c=t.cc.get(a);c&&(Et(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.nc=!0:r.modifiedDocuments.size>0?Et(c.nc):r.removedDocuments.size>0&&(Et(c.nc),c.nc=!1))}),yield Ro(t,i,e)}catch(i){yield Aa(i)}}),E.apply(this,arguments)}function A(n,e,t){const i=tt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ic.forEach((a,c)=>{const h=c.view.bu(e);h.snapshot&&r.push(h.snapshot)}),function(a,c){const h=tt(a);h.onlineState=c;let g=!1;h.queries.forEach((v,T)=>{for(const S of T.listeners)S.bu(c)&&(g=!0)}),g&&Db(h)}(i.eventManager,e),r.length&&i.sc.Wo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function R(n,e,t){return L.apply(this,arguments)}function L(){return L=(0,be.Z)(function*(n,e,t){const i=tt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.cc.get(e),a=r&&r.key;if(a){let c=new Ii(Je.comparator);c=c.insert(a,Zn.newNoDocument(a,Rt.min()));const h=Yt().add(a),g=new F_(Rt.min(),new Map,new En(Qt),c,h);yield w(i,g),i.uc=i.uc.remove(a),i.cc.delete(e),Jp(i)}else yield zh(i.localStore,e,!1).then(()=>Pt(i,e,t)).catch(Aa)}),L.apply(this,arguments)}function W(n,e){return te.apply(this,arguments)}function te(){return te=(0,be.Z)(function*(n,e){const t=tt(n),i=e.batch.batchId;try{const r=yield LS(t.localStore,e);Pe(t,i,null),xt(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield Ro(t,r)}catch(r){yield Aa(r)}}),te.apply(this,arguments)}function Ee(n,e,t){return qe.apply(this,arguments)}function qe(){return qe=(0,be.Z)(function*(n,e,t){const i=tt(n);try{const r=yield function(a,c){const h=tt(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return h.mutationQueue.lookupMutationBatch(g,c).next(T=>(Et(null!==T),v=T.keys(),h.mutationQueue.removeMutationBatch(g,T))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,v,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>h.localDocuments.getDocuments(g,v))})}(i.localStore,e);Pe(i,e,t),xt(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield Ro(i,r)}catch(r){yield Aa(r)}}),qe.apply(this,arguments)}function yt(){return yt=(0,be.Z)(function*(n,e){const t=tt(n);Pl(t.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const c=tt(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.lc.get(i)||[];r.push(e),t.lc.set(i,r)}catch(i){const r=Jh(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),yt.apply(this,arguments)}function xt(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function Pe(n,e,t){const i=tt(n);let r=i.hc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function Pt(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.rc.get(e))n.ic.delete(i),t&&n.sc.wc(i,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(i=>{n.ac.containsKey(i)||In(n,i)})}function In(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(cy(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),Jp(n))}function zn(n,e,t){for(const i of t)i instanceof JT?(n.ac.addReference(i.key,e),bd(n,i)):i instanceof WS?(Ge("SyncEngine","Document no longer in limbo: "+i.key),n.ac.removeReference(i.key,e),n.ac.containsKey(i.key)||In(n,i.key)):pt()}function bd(n,e){const t=e.key,i=t.path.canonicalString();n.uc.get(t)||n.oc.has(i)||(Ge("SyncEngine","New document in limbo: "+t),n.oc.add(i),Jp(n))}function Jp(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Je(mn.fromString(e)),i=n.fc.next();n.cc.set(i,new yO(t)),n.uc=n.uc.insert(t,i),uy(n.remoteStore,new Bu(ds(Sh(t.path)),i,2,us.at))}}function Ro(n,e,t){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,be.Z)(function*(n,e,t){const i=tt(n),r=[],a=[],c=[];var h;i.ic.isEmpty()||(i.ic.forEach((h,g)=>{c.push(i._c(g,e,t).then(v=>{if((v||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const T=TT.Ci(g.targetId,v);a.push(T)}}))}),yield Promise.all(c),i.sc.Wo(r),yield(h=(0,be.Z)(function*(g,v){const T=tt(g);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ue.forEach(v,x=>ue.forEach(x.Si,U=>T.persistence.referenceDelegate.addReference(S,x.targetId,U)).next(()=>ue.forEach(x.Di,U=>T.persistence.referenceDelegate.removeReference(S,x.targetId,U)))))}catch(S){if(!Mo(S))throw S;Ge("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const x=S.targetId;if(!S.fromCache){const U=T.qi.get(x),K=U.withLastLimboFreeSnapshotVersion(U.snapshotVersion);T.qi=T.qi.insert(x,K)}}}),function(g,v){return h.apply(this,arguments)})(i.localStore,a))}),Xp.apply(this,arguments)}function Tb(n,e){return eg.apply(this,arguments)}function eg(){return eg=(0,be.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const i=yield FS(t.localStore,e);t.currentUser=e,(r=t).lc.forEach(c=>{c.forEach(h=>{h.reject(new Ue(he.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.lc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield Ro(t,i.ji)}var r}),eg.apply(this,arguments)}function Eb(n,e){const t=tt(n),i=t.cc.get(e);if(i&&i.nc)return Yt().add(i.key);{let r=Yt();const a=t.rc.get(e);if(!a)return r;for(const c of a){const h=t.ic.get(c);r=r.unionWith(h.view.ju)}return r}}function Ib(n,e){return tg.apply(this,arguments)}function tg(){return tg=(0,be.Z)(function*(n,e){const t=tt(n),i=yield Wh(t.localStore,e.query,!0),r=e.view.tc(i);return t.isPrimaryClient&&zn(t,e.targetId,r.Xu),r}),tg.apply(this,arguments)}function Cb(n,e){return QS.apply(this,arguments)}function QS(){return QS=(0,be.Z)(function*(n,e){const t=tt(n);return nb(t.localStore,e).then(i=>Ro(t,i))}),QS.apply(this,arguments)}function yL(n,e,t,i){return JS.apply(this,arguments)}function JS(){return JS=(0,be.Z)(function*(n,e,t,i){const r=tt(n),a=yield function(c,h){const g=tt(c),v=tt(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",T=>v.Tn(T,h).next(S=>S?g.localDocuments.getDocuments(T,S):ue.resolve(null)))}(r.localStore,e);var h;null!==a?("pending"===t?yield eo(r.remoteStore):"acknowledged"===t||"rejected"===t?(Pe(r,e,i||null),xt(r,e),h=e,tt(tt(r.localStore).mutationQueue).An(h)):pt(),yield Ro(r,a)):Ge("SyncEngine","Cannot apply mutation batch with id: "+e)}),JS.apply(this,arguments)}function XS(){return XS=(0,be.Z)(function*(n,e){const t=tt(n);if(iA(t),rA(t),!0===e&&!0!==t.dc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield bO(t,i.toArray());t.dc=!0,yield _b(t.remoteStore,!0);for(const a of r)uy(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const i=[];let r=Promise.resolve();t.rc.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Pt(t,c),zh(t.localStore,c,!0))),cy(t.remoteStore,c)}),yield r,yield bO(t,i),function(a){const c=tt(a);c.cc.forEach((h,g)=>{cy(c.remoteStore,g)}),c.ac.fs(),c.cc=new Map,c.uc=new Ii(Je.comparator)}(t),t.dc=!1,yield _b(t.remoteStore,!1)}}),XS.apply(this,arguments)}function bO(n,e,t){return eA.apply(this,arguments)}function eA(){return eA=(0,be.Z)(function*(n,e,t){const i=tt(n),r=[],a=[];for(const c of e){let h;const g=i.rc.get(c);if(g&&0!==g.length){h=yield Wu(i.localStore,ds(g[0]));for(const v of g){const T=i.ic.get(v),S=yield Ib(i,T);S.snapshot&&a.push(S.snapshot)}}else{const v=yield tb(i.localStore,c);h=yield Wu(i.localStore,v),yield o(i,wO(v),c,!1,h.resumeToken)}r.push(h)}return i.sc.Wo(a),r}),eA.apply(this,arguments)}function wO(n){return b0(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function bL(n){const e=tt(n);return tt(tt(e.localStore).persistence).vi()}function wL(n,e,t,i){return tA.apply(this,arguments)}function tA(){return tA=(0,be.Z)(function*(n,e,t,i){const r=tt(n);if(r.dc)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const a=r.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield nb(r.localStore,Mh(a[0])),h=F_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Xi.EMPTY_BYTE_STRING);yield Ro(r,c,h);break}case"rejected":yield zh(r.localStore,e,!0),Pt(r,e,i);break;default:pt()}}),tA.apply(this,arguments)}function DL(n,e,t){return nA.apply(this,arguments)}function nA(){return nA=(0,be.Z)(function*(n,e,t){const i=iA(n);if(i.dc){for(const r of e){if(i.rc.has(r)){Ge("SyncEngine","Adding an already active target "+r);continue}const a=yield tb(i.localStore,r),c=yield Wu(i.localStore,a);yield o(i,wO(a),c.targetId,!1,c.resumeToken),uy(i.remoteStore,c)}for(const r of t)i.rc.has(r)&&(yield zh(i.localStore,r,!1).then(()=>{cy(i.remoteStore,r),Pt(i,r)}).catch(Aa))}}),nA.apply(this,arguments)}function iA(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=w.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Eb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=R.bind(null,e),e.sc.Wo=GS.bind(null,e.eventManager),e.sc.wc=qS.bind(null,e.eventManager),e}function rA(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ee.bind(null,e),e}class DO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.yt=oy(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return X0(this.persistence,new ET,e.initialUser,this.yt)}yc(e){return new bT(gd.Bs,this.yt)}gc(e){return new MT}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class TO extends DO{constructor(e,t,i){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield t().call(i,e),yield i.Ac.initialize(i,e),yield rA(i.Ac.syncEngine),yield eo(i.Ac.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return X0(this.persistence,new ET,e.initialUser,this.yt)}Tc(e,t){return new rO(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const i=new QD(t,this.persistence);return new m_(e.asyncQueue,i)}yc(e){const t=J0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Wr.withCacheSize(this.cacheSizeBytes):Wr.DEFAULT;return new DT(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,kT(),Wp(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(e){return new MT}}class EL extends TO{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield t().call(i,e);const r=i.Ac.syncEngine;i.sharedClientState instanceof rb&&(i.sharedClientState.syncEngine={Fr:yL.bind(null,r),$r:wL.bind(null,r),Br:DL.bind(null,r),vi:bL.bind(null,r),Mr:Cb.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var a=(0,be.Z)(function*(c){yield function vL(n,e){return XS.apply(this,arguments)}(i.Ac.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}gc(e){const t=kT();if(!rb.C(t))throw new Ue(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=J0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new rb(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class sA{initialize(e,t){var i=this;return(0,be.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>A(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=Tb.bind(null,i.syncEngine),yield _b(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new vb}createDatastore(e){const t=oy(e.databaseInfo.databaseId),i=new xT(e.databaseInfo);return new LT(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=h=>A(this.syncEngine,h,0),c=OT.C()?new OT:new jS,new VT(t,i,r,a,c);var t,i,r,a,c}createSyncEngine(e,t){return function(i,r,a,c,h,g,v){const T=new YS(i,r,a,c,h,g);return v&&(T.dc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const i=tt(t);Ge("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield _d(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function oA(n,e,t){if(!t)throw new Ue(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function EO(n,e,t,i){if(!0===e&&!0===i)throw new Ue(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IO(n){if(!Je.isDocumentKey(n))throw new Ue(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CO(n){if(Je.isDocumentKey(n))throw new Ue(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function XT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pt()}function yn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=XT(n);throw new Ue(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function SO(n,e){if(e<=0)throw new Ue(he.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const AO=new Map;class NO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ue(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ue(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,EO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sb{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ue(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ue(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new WC;switch(t.type){case"gapi":return new Ji(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ue(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=AO.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),AO.delete(e),t.terminate())}(this),Promise.resolve()}}class vi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ku(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vi(this.firestore,e,this._key)}}class Kr{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Kr(this.firestore,e,this._query)}}class Ku extends Kr{constructor(e,t,i){super(e,t,Sh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vi(this.firestore,null,new Je(e))}withConverter(e){return new Ku(this.firestore,e,this._path)}}function OO(n,e,...t){if(n=(0,ln.m9)(n),oA("collection","path",e),n instanceof Sb){const i=mn.fromString(e,...t);return CO(i),new Ku(n,null,i)}{if(!(n instanceof vi||n instanceof Ku))throw new Ue(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mn.fromString(e,...t));return CO(i),new Ku(n.firestore,null,i)}}function eE(n,e,...t){if(n=(0,ln.m9)(n),1===arguments.length&&(e=qD.R()),oA("doc","path",e),n instanceof Sb){const i=mn.fromString(e,...t);return IO(i),new vi(n,null,new Je(i))}{if(!(n instanceof vi||n instanceof Ku))throw new Ue(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(mn.fromString(e,...t));return IO(i),new vi(n.firestore,n instanceof Ku?n.converter:null,new Je(i))}}function RO(n,e){return n=(0,ln.m9)(n),e=(0,ln.m9)(e),(n instanceof vi||n instanceof Ku)&&(e instanceof vi||e instanceof Ku)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function aA(n,e){return n=(0,ln.m9)(n),e=(0,ln.m9)(e),n instanceof Kr&&e instanceof Kr&&n.firestore===e.firestore&&Fu(n._query,e._query)&&n.converter===e.converter}function xO(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class tE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class CL{constructor(e,t){this.Pc=e,this.yt=t,this.metadata=new $i,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(i=>{i&&i.Ou()?this.metadata.resolve(i.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.ku)}`))},i=>this.metadata.reject(i))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const i=e.vc.decode(t),r=Number(i);isNaN(r)&&e.Dc(`length string (${i}) is not valid number`);const a=yield e.Cc(r);return new gO(JSON.parse(a),t.length+r)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,be.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Cc(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const i=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class NL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ue(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,be.Z)(function*(a,c){const h=tt(a),g=Op(h.yt)+"/documents",v={documents:c.map(U=>Mp(h.yt,U))},T=yield h._o("BatchGetDocuments",g,v,c.length),S=new Map;T.forEach(U=>{const G=function q1(n,e){return"found"in e?function(t,i){Et(!!i.found);const r=Ra(t,i.found.name),a=Ci(i.found.updateTime),c=i.found.createTime?Ci(i.found.createTime):Rt.min(),h=new Hi({mapValue:{fields:i.found.fields}});return Zn.newFoundDocument(r,a,c,h)}(n,e):"missing"in e?function(t,i){Et(!!i.missing),Et(!!i.readTime);const r=Ra(t,i.missing),a=Ci(i.readTime);return Zn.newNoDocument(r,a)}(n,e):pt()}(h.yt,U);S.set(G.key.toString(),G)});const x=[];return c.forEach(U=>{const G=S.get(U.toString());Et(!!G),x.push(G)}),x}),function(a,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ph(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=Je.fromPath(r);e.mutations.push(new O_(a,e.precondition(a)))}),yield(i=(0,be.Z)(function*(r,a){const c=tt(r),h=Op(c.yt)+"/documents",g={writes:a.map(v=>Rp(c.yt,v))};yield c.ao("Commit",h,g)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pt();t=Rt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Ue(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Rt.min())?ai.exists(!1):ai.updateTime(t):ai.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rt.min()))throw new Ue(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ai.updateTime(t)}return ai.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ML{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.kc=i.maxAttempts,this.xo=new Kp(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,be.Z)(function*(){const t=new NL(e.datastore),i=e.Mc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Fc(a)}))}).catch(r=>{e.Fc(r)})}))}Mc(e){try{const t=this.updateFunction(e);return!Th(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!R_(t)}return!1}}class OL{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Qi.UNAUTHENTICATED,this.clientId=qD.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,be.Z)(function*(h){Ge("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Jh(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function kO(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,be.Z)(function*(a){i.isEqual(a)||(yield FS(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),lA.apply(this,arguments)}function PO(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cA(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>zT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>zT(e.remoteStore,a)),n.onlineComponents=e}),uA.apply(this,arguments)}function cA(n){return dA.apply(this,arguments)}function dA(){return dA=(0,be.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield kO(n,new DO)),n.offlineComponents}),dA.apply(this,arguments)}function nE(n){return hA.apply(this,arguments)}function hA(){return hA=(0,be.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield PO(n,new sA)),n.onlineComponents}),hA.apply(this,arguments)}function FO(n){return cA(n).then(e=>e.persistence)}function iE(n){return cA(n).then(e=>e.localStore)}function fA(n){return nE(n).then(e=>e.remoteStore)}function pA(n){return nE(n).then(e=>e.syncEngine)}function my(n){return gA.apply(this,arguments)}function gA(){return gA=(0,be.Z)(function*(n){const e=yield nE(n),t=e.eventManager;return t.onListen=vO.bind(null,e.syncEngine),t.onUnlisten=d.bind(null,e.syncEngine),t}),gA.apply(this,arguments)}function UO(n,e,t={}){const i=new $i;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,a,c,h,g){const v=new tE({next:S=>{a.enqueueAndForget(()=>KT(r,T));const x=S.docs.has(c);!x&&S.fromCache?g.reject(new Ue(he.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&S.fromCache&&h&&"server"===h.source?g.reject(new Ue(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new QT(Sh(c.path),v,{includeMetadataChanges:!0,Nu:!0});return bb(r,T)}(yield my(n),n.asyncQueue,e,t,i)})),i.promise}function VO(n,e,t={}){const i=new $i;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,a,c,h,g){const v=new tE({next:S=>{a.enqueueAndForget(()=>KT(r,T)),S.fromCache&&"server"===h.source?g.reject(new Ue(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new QT(c,v,{includeMetadataChanges:!0,Nu:!0});return bb(r,T)}(yield my(n),n.asyncQueue,e,t,i)})),i.promise}class VL{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Kp(this,"async_queue_retry"),this.Wc=()=>{const t=Wp();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Wp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=Wp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new $i;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,be.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!Mo(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(i=>{throw this.Kc=i,this.Gc=!1,yi("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(i)),i}).then(i=>(this.Gc=!1,i))));return this.Bc=t,t}enqueueAfterDelay(e,t,i){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const r=yb.createAndSchedule(this,e,t,i,a=>this.Yc(a));return this.Uc.push(r),r}zc(){this.Kc&&pt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function mA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class BL{constructor(){this._progressObserver={},this._taskCompletionResolver=new $i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class bi extends Sb{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new VL,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||BO(this),this._firestoreClient.terminate()}}function tr(n){return n._firestoreClient||BO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function BO(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new JD(n._databaseId,a,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new OL(n._authCredentials,n._appCheckCredentials,n._queue,i)}function jO(n,e,t){const i=new $i;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield kO(n,t),yield PO(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(c=a).name?c.code===he.FAILED_PRECONDITION||c.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw a;Sa("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var c})).then(()=>i.promise)}function $O(n){if(n._initialized||n._terminated)throw new Ue(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yu(Xi.fromBase64String(e))}catch(t){throw new Ue(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yu(Xi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ue(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ng{constructor(e){this._methodName=e}}class rE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}const YL=/^__.*__$/;class QL{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new xl(e,this.data,this.fieldMask,t,this.fieldTransforms):new kh(e,this.data,t,this.fieldTransforms)}}class HO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new xl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function GO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class sE{constructor(e,t,i,r,a,c){this.settings=e,this.databaseId=t,this.yt=i,this.ignoreUndefinedProperties=r,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new sE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.ua(e),r}ca(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ia({path:i,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return lE(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(GO(this.sa)&&YL.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class JL{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=i||oy(e)}da(e,t,i,r=!1){return new sE({sa:e,methodName:t,fa:i,path:Pi.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function ig(n){const e=n._freezeSettings(),t=oy(n._databaseId);return new JL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function oE(n,e,t,i,r,a={}){const c=n.da(a.merge||a.mergeFields?2:0,e,t,r);bA("Data must be an object, but it was:",c,i);const h=zO(i,c);let g,v;if(a.merge)g=new cs(c.fieldMask),v=c.fieldTransforms;else if(a.mergeFields){const T=[];for(const S of a.mergeFields){const x=wA(e,S,t);if(!c.contains(x))throw new Ue(he.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);KO(T,x)||T.push(x)}g=new cs(T),v=c.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,v=c.fieldTransforms;return new QL(new Hi(h),g,v)}class Ab extends ng{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ab}}function qO(n,e,t){return new sE({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.yt,e.ignoreUndefinedProperties)}class _A extends ng{_toFieldTransform(e){return new Np(e.path,new Rh)}isEqual(e){return e instanceof _A}}class XL extends ng{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=qO(this,e,!0),i=this._a.map(a=>rg(a,t)),r=new Lu(i);return new Np(e.path,r)}isEqual(e){return this===e}}class e2 extends ng{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=qO(this,e,!0),i=this._a.map(a=>rg(a,t)),r=new Uu(i);return new Np(e.path,r)}isEqual(e){return this===e}}class t2 extends ng{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new ud(e.yt,b1(e.yt,this.wa));return new Np(e.path,t)}isEqual(e){return this===e}}function yA(n,e,t,i){const r=n.da(1,e,t);bA("Data must be an object, but it was:",r,i);const a=[],c=Hi.empty();Ou(i,(g,v)=>{const T=aE(e,g,t);v=(0,ln.m9)(v);const S=r.ca(T);if(v instanceof Ab)a.push(T);else{const x=rg(v,S);null!=x&&(a.push(T),c.set(T,x))}});const h=new cs(a);return new HO(c,h,r.fieldTransforms)}function vA(n,e,t,i,r,a){const c=n.da(1,e,t),h=[wA(e,i,t)],g=[r];if(a.length%2!=0)throw new Ue(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)h.push(wA(e,a[x])),g.push(a[x+1]);const v=[],T=Hi.empty();for(let x=h.length-1;x>=0;--x)if(!KO(v,h[x])){const U=h[x];let G=g[x];G=(0,ln.m9)(G);const K=c.ca(U);if(G instanceof Ab)v.push(U);else{const X=rg(G,K);null!=X&&(v.push(U),T.set(U,X))}}const S=new cs(v);return new HO(T,S,c.fieldTransforms)}function ZO(n,e,t,i=!1){return rg(t,n.da(i?4:3,e))}function rg(n,e){if(WO(n=(0,ln.m9)(n)))return bA("Unsupported field value:",e,n),zO(n,e);if(n instanceof ng)return function(t,i){if(!GO(i.sa))throw i.ha(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ha(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const c of t){let h=rg(c,i.aa(a));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,ln.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return b1(i.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=oi.fromDate(t);return{timestampValue:Vh(i.yt,r)}}if(t instanceof oi){const r=new oi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Vh(i.yt,r)}}if(t instanceof rE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Yu)return{bytesValue:B1(i.yt,t._byteString)};if(t instanceof vi){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:j1(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ha(`Unsupported field value: ${XT(t)}`)}(n,e)}function zO(n,e){const t={};return u0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ou(n,(i,r)=>{const a=rg(r,e.ra(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function WO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof oi||n instanceof rE||n instanceof Yu||n instanceof vi||n instanceof ng)}function bA(n,e,t){if(!WO(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=XT(t);throw e.ha("an object"===i?n+" a custom object":n+" "+i)}var i}function wA(n,e,t){if((e=(0,ln.m9)(e))instanceof wd)return e._internalPath;if("string"==typeof e)return aE(n,e);throw lE("Field path arguments must be of type string or ",n,!1,void 0,t)}const n2=new RegExp("[~\\*/\\[\\]]");function aE(n,e,t){if(e.search(n2)>=0)throw lE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wd(...e.split("."))._internalPath}catch{throw lE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function lE(n,e,t,i,r){const a=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(a||c)&&(g+=" (found",a&&(g+=` in field ${i}`),c&&(g+=` in document ${r}`),g+=")"),new Ue(he.INVALID_ARGUMENT,h+n+g)}function KO(n,e){return n.some(t=>t.isEqual(e))}class Nb{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new vi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new r2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(uE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class r2 extends Nb{data(){return super.data()}}function uE(n,e){return"string"==typeof e?aE(n,e):e instanceof wd?e._internalPath:e._delegate._internalPath}function YO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ue(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DA{}class Mb extends DA{}function Xh(n,e,...t){let i=[];e instanceof DA&&i.push(e),i=i.concat(t),function(r){const a=r.filter(h=>h instanceof _y).length,c=r.filter(h=>h instanceof Ob).length;if(a>1||a>0&&c>0)throw new Ue(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Ob extends Mb{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Ob(e,t,i)}_apply(e){const t=this._parse(e);return eR(e._query,t),new Kr(e.firestore,e.converter,g1(e._query,t))}_parse(e){const t=ig(e.firestore);return function(r,a,c,h,g,v,T){let S;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Ue(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){XO(T,v);const x=[];for(const U of T)x.push(JO(h,r,U));S={arrayValue:{values:x}}}else S=JO(h,r,T)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||XO(T,v),S=ZO(c,"where",T,"in"===v||"not-in"===v);return dn.create(g,v,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class _y extends DA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _y(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:On.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let a=i;const c=r.getFlattenedFilters();for(const h of c)eR(a,h),a=g1(a,h)}(e._query,t),new Kr(e.firestore,e.converter,g1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class TA extends Mb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new TA(e,t)}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new Ue(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ue(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new ld(r,a);return function(h,g){if(null===D0(h)){const v=C_(h);null!==v&&tR(0,v,g.field)}}(i,c),c}(e._query,this._field,this._direction);return new Kr(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Ma(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class cE extends Mb{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new cE(e,t,i)}_apply(e){return new Kr(e.firestore,e.converter,Sp(e._query,this._limit,this._limitType))}}class dE extends Mb{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new dE(e,t,i)}_apply(e){const t=QO(e,this.type,this._docOrFields,this._inclusive);return new Kr(e.firestore,e.converter,(r=t,new Ma((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class hE extends Mb{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new hE(e,t,i)}_apply(e){const t=QO(e,this.type,this._docOrFields,this._inclusive);return new Kr(e.firestore,e.converter,(r=t,new Ma((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function QO(n,e,t,i){if(t[0]=(0,ln.m9)(t[0]),t[0]instanceof Nb)return function(r,a,c,h,g){if(!h)throw new Ue(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const T of Ah(r))if(T.field.isKeyField())v.push(Pu(a,h.key));else{const S=h.data.field(T.field);if(c0(S))throw new Ue(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const x=T.field.canonicalString();throw new Ue(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}v.push(S)}return new Ns(v,g)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=ig(n.firestore);return function(a,c,h,g,v,T){const S=a.explicitOrderBy;if(v.length>S.length)throw new Ue(he.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let U=0;U<v.length;U++){const G=v[U];if(S[U].field.isKeyField()){if("string"!=typeof G)throw new Ue(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof G}`);if(!p1(a)&&-1!==G.indexOf("/"))throw new Ue(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${G}' contains a slash.`);const K=a.path.child(mn.fromString(G));if(!Je.isDocumentKey(K))throw new Ue(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const X=new Je(K);x.push(Pu(c,X))}else{const K=ZO(h,g,G);x.push(K)}}return new Ns(x,T)}(n._query,n.firestore._databaseId,r,e,t,i)}}function JO(n,e,t){if("string"==typeof(t=(0,ln.m9)(t))){if(""===t)throw new Ue(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p1(e)&&-1!==t.indexOf("/"))throw new Ue(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(mn.fromString(t));if(!Je.isDocumentKey(i))throw new Ue(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Pu(n,new Je(i))}if(t instanceof vi)return Pu(n,t._key);throw new Ue(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${XT(t)}.`)}function XO(n,e){if(!Array.isArray(n)||0===n.length)throw new Ue(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Ue(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function eR(n,e){if(e.isInequality()){const i=C_(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Ue(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const a=D0(n);null!==a&&tR(0,r,a)}const t=function(i,r){for(const a of i)for(const c of a.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ue(he.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function tR(n,e,t){if(!t.isEqual(e))throw new Ue(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class EA{convertValue(e,t="none"){switch(rd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(id(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pt()}}convertObject(e,t){const i={};return Ou(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new rE(Ti(e.latitude),Ti(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=e1(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Dp(e));default:return null}}convertTimestamp(e){const t=Ru(e);return new oi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=mn.fromString(e);Et(X1(i));const r=new Ol(i.get(1),i.get(3)),a=new Je(i.popFirst(5));return r.isEqual(t)||yi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function fE(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class f2 extends EA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,t)}}class sg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dd extends Nb{constructor(e,t,i,r,a,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Rb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(uE("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Rb extends Dd{data(e={}){return super.data(e)}}class ef{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new sg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Rb(this._firestore,this._userDataWriter,i.key,i,new sg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new Rb(i._firestore,i._userDataWriter,c.doc.key,c.doc,new sg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new Rb(i._firestore,i._userDataWriter,c.doc.key,c.doc,new sg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return 0!==c.type&&(g=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),v=a.indexOf(c.doc.key)),{type:p2(c.type),doc:h,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function p2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function iR(n,e){return n instanceof Dd&&e instanceof Dd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ef&&e instanceof ef&&n._firestore===e._firestore&&aA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class tf extends EA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vi(this.firestore,null,t)}}function rR(n,e,t){n=yn(n,vi);const i=yn(n.firestore,bi),r=fE(n.converter,e,t);return yy(i,[oE(ig(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,ai.none())])}function sR(n,e,t,...i){n=yn(n,vi);const r=yn(n.firestore,bi),a=ig(r);let c;return c="string"==typeof(e=(0,ln.m9)(e))||e instanceof wd?vA(a,"updateDoc",n._key,e,t,i):yA(a,"updateDoc",n._key,e),yy(r,[c.toMutation(n._key,ai.exists(!0))])}function oR(n,...e){var t,i,r;n=(0,ln.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||mA(e[c])||(a=e[c],c++);const h={includeMetadataChanges:a.includeMetadataChanges};if(mA(e[c])){const S=e[c];e[c]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[c+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),e[c+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let g,v,T;if(n instanceof vi)v=yn(n.firestore,bi),T=Sh(n._key.path),g={next:S=>{e[c]&&e[c](IA(v,n,S))},error:e[c+1],complete:e[c+2]};else{const S=yn(n,Kr);v=yn(S.firestore,bi),T=S._query;const x=new tf(v);g={next:U=>{e[c]&&e[c](new ef(v,x,S,U))},error:e[c+1],complete:e[c+2]},YO(n._query)}return function(S,x,U,G){const K=new tE(G),X=new QT(x,K,U);return S.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return bb(yield my(S),X)})),()=>{K.bc(),S.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return KT(yield my(S),X)}))}}(tr(v),T,h,g)}function yy(n,e){return function(t,i){const r=new $i;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function p(n,e,t){return y.apply(this,arguments)}(yield pA(t),i,r)})),r.promise}(tr(n),e)}function IA(n,e,t){const i=t.docs.get(e._key),r=new tf(n);return new Dd(n,r,e._key,i,new sg(t.hasPendingWrites,t.fromCache),e.converter)}const E2={maxAttempts:5};class aR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ig(e)}set(e,t,i){this._verifyNotCommitted();const r=nf(e,this._firestore),a=fE(r.converter,t,i),c=oE(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,ai.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=nf(e,this._firestore);let c;return c="string"==typeof(t=(0,ln.m9)(t))||t instanceof wd?vA(this._dataReader,"WriteBatch.update",a._key,t,i,r):yA(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,ai.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nf(e,this._firestore);return this._mutations=this._mutations.concat(new Ph(t._key,ai.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nf(n,e){if((n=(0,ln.m9)(n)).firestore!==e)throw new Ue(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class I2 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ig(e)}get(e){const t=nf(e,this._firestore),i=new f2(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return pt();const a=r[0];if(a.isFoundDocument())return new Nb(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Nb(this._firestore,i,t._key,null,t.converter);throw pt()})}set(e,t,i){const r=nf(e,this._firestore),a=fE(r.converter,t,i),c=oE(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const a=nf(e,this._firestore);let c;return c="string"==typeof(t=(0,ln.m9)(t))||t instanceof wd?vA(this._dataReader,"Transaction.update",a._key,t,i,r):yA(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=nf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nf(e,this._firestore),i=new tf(this._firestore);return super.get(e).then(r=>new Dd(this._firestore,i,t._key,r._document,new sg(!1,!1),t.converter))}}function CA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function uR(){if(typeof Uint8Array>"u")throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function cR(){if(!function XC(){return typeof atob<"u"}())throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Jc=os.SDK_VERSION,(0,os._registerComponent)(new np.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const a=t.getProvider("app").getImmediate(),c=new bi(new HD(t.getProvider("auth-internal")),new QC(t.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ue(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(h.options.projectId,g)}(a,i),a);return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,os.registerVersion)(e0,"3.8.3",n),(0,os.registerVersion)(e0,"3.8.3","esm2017")}();class xb{constructor(e){this._delegate=e}static fromBase64String(e){return cR(),new xb(Yu.fromBase64String(e))}static fromUint8Array(e){return uR(),new xb(Yu.fromUint8Array(e))}toBase64(){return cR(),this._delegate.toBase64()}toUint8Array(){return uR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SA(n){return function k2(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class P2{enableIndexedDbPersistence(e,t){return function $L(n,e){$O(n=yn(n,bi));const t=tr(n),i=n._freezeSettings(),r=new sA;return jO(t,r,new TO(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function HL(n){$O(n=yn(n,bi));const e=tr(n),t=n._freezeSettings(),i=new sA;return jO(e,i,new EL(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function GL(n){if(n._initialized&&!n._terminated)throw new Ue(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $i;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(i){if(!No.C())return Promise.resolve();const r=i+"main";yield No.delete(r)}),function(i){return t.apply(this,arguments)})(J0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class dR{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ol||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Sa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function MO(n,e,t,i={}){var r;const a=(n=yn(n,Sb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Sa("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=Qi.MOCK_USER;else{c=(0,ln.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Ue(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Qi(g)}n._authCredentials=new KC(new zC(c,h))}}(this._delegate,e,t,i)}enableNetwork(){return function ZL(n){return function RL(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield FO(n),t=yield fA(n);return e.setNetworkEnabled(!0),function(i){const r=tt(i);return r._u.delete(0),Yp(r)}(t)}))}(tr(n=yn(n,bi)))}(this._delegate)}disableNetwork(){return function zL(n){return function xL(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield FO(n),t=yield fA(n);return e.setNetworkEnabled(!1),(i=(0,be.Z)(function*(r){const a=tt(r);a._u.add(0),yield _d(a),a.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(tr(n=yn(n,bi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,EO("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function qL(n){return function(e){const t=new $i;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function Xe(n,e){return yt.apply(this,arguments)}(yield pA(e),t)})),t.promise}(tr(n=yn(n,bi)))}(this._delegate)}onSnapshotsInSync(e){return function T2(n,e){return function FL(n,e){const t=new tE(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield my(n),r=t,tt(i).Ru.add(r),void r.next();var i,r})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield my(n),r=t,void tt(i).Ru.delete(r);var i,r}))}}(tr(n=yn(n,bi)),mA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new vy(this,OO(this._delegate,e))}catch(t){throw Rs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Fa(this,eE(this._delegate,e))}catch(t){throw Rs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xs(this,function IL(n,e){if(n=yn(n,Sb),oA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ue(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Kr(n,null,(t=e,new Ma(mn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Rs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function C2(n,e,t){n=yn(n,bi);const i=Object.assign(Object.assign({},E2),t);return function(r){if(r.maxAttempts<1)throw new Ue(he.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,a,c){const h=new $i;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const g=yield function LO(n){return nE(n).then(e=>e.datastore)}(r);new ML(r.asyncQueue,g,c,a,h).run()})),h.promise}(tr(n),r=>e(new I2(n,r)),i)}(this._delegate,t=>e(new hR(this,t)))}batch(){return tr(this._delegate),new fR(new aR(this._delegate,e=>yy(this._delegate,e)))}loadBundle(e){return function WL(n,e){const t=tr(n=yn(n,bi)),i=new BL;return function LL(n,e,t,i){const r=function(a,c){let h;return h="string"==typeof a?(new TextEncoder).encode(a):a,g=function(g,v){if(g instanceof Uint8Array)return xO(g,v);if(g instanceof ArrayBuffer)return xO(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new CL(g,c);var g}(t,oy(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function TL(n,e,t){const i=tt(n);var r;(r=(0,be.Z)(function*(a,c,h){try{const g=yield c.getMetadata();if(yield function(x,U){const G=tt(x),K=Ci(U.createTime);return G.persistence.runTransaction("hasNewerBundle","readonly",X=>G.Ns.getBundleMetadata(X,U.id)).then(X=>!!X&&X.createTime.compareTo(K)>=0)}(a.localStore,g))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(x=g).totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}),Promise.resolve(new Set);h._updateProgress(zS(g));const v=new mO(g,a.localStore,c.yt);let T=yield c.mc();for(;T;){const x=yield v.Fu(T);x&&h._updateProgress(x),T=yield c.mc()}const S=yield v.complete();return yield Ro(a,S.Lu,void 0),yield function(x,U){const G=tt(x);return G.persistence.runTransaction("Save bundle","readwrite",K=>G.Ns.saveBundleMetadata(K,U))}(a.localStore,g),h._completeWith(S.progress),Promise.resolve(S.Bu)}catch(g){return Sa("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var x}),function(a,c,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield pA(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function KL(n,e){return function UL(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,i){const r=tt(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ns.getNamedQuery(a,i))}(yield iE(n),e)}))}(tr(n=yn(n,bi)),e).then(t=>t?new Kr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new xs(this,t):null)}}class pE extends EA{constructor(e){super(),this.firestore=e}convertBytes(e){return new xb(new Yu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Fa.forKey(t,this.firestore,null)}}class hR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new pE(e)}get(e){const t=ag(e);return this._delegate.get(t).then(i=>new kb(this._firestore,new Dd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=ag(e);return i?(CA("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=ag(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=ag(e);return this._delegate.delete(t),this}}class fR{constructor(e){this._delegate=e}set(e,t,i){const r=ag(e);return i?(CA("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=ag(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=ag(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class og{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Rb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Pb(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=og.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new og(e,new pE(e),t),r.set(t,a)),a}}og.INSTANCES=new WeakMap;class Fa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pE(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Fa(t,new vi(t._delegate,i,new Je(e)))}static forKey(e,t,i){return new Fa(t,new vi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new vy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new vy(this.firestore,OO(this._delegate,e))}catch(t){throw Rs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ln.m9)(e))instanceof vi&&RO(this._delegate,e)}set(e,t){t=CA("DocumentReference.set",t);try{return t?rR(this._delegate,e,t):rR(this._delegate,e)}catch(i){throw Rs(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?sR(this._delegate,e):sR(this._delegate,e,t,...i)}catch(r){throw Rs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function w2(n){return yy(yn(n.firestore,bi),[new Ph(n._key,ai.none())])}(this._delegate)}onSnapshot(...e){const t=pR(e),i=gR(e,r=>new kb(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return oR(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function m2(n){n=yn(n,vi);const e=yn(n.firestore,bi),t=tr(e),i=new tf(e);return function kL(n,e){const t=new $i;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,a,c){try{const h=yield function(g,v){const T=tt(g);return T.persistence.runTransaction("read document","readonly",S=>T.localDocuments.getDocument(S,v))}(r,a);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Ue(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=Jh(h,`Failed to get document '${a} from cache`);c.reject(g)}}),function(r,a,c){return i.apply(this,arguments)})(yield iE(n),e,t);var i})),t.promise}(t,n._key).then(r=>new Dd(e,i,n._key,r,new sg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function _2(n){n=yn(n,vi);const e=yn(n.firestore,bi);return UO(tr(e),n._key,{source:"server"}).then(t=>IA(e,n,t))}(this._delegate):function g2(n){n=yn(n,vi);const e=yn(n.firestore,bi);return UO(tr(e),n._key).then(t=>IA(e,n,t))}(this._delegate),t.then(i=>new kb(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Fa(this.firestore,this._delegate.withConverter(e?og.getInstance(this.firestore,e):null))}}function Rs(n,e,t){return n.message=n.message.replace(e,t),n}function pR(n){for(const e of n)if("object"==typeof e&&!SA(e))return e;return{}}function gR(n,e){var t,i;let r;return r=SA(n[0])?n[0]:SA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class kb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Fa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return iR(this._delegate,e._delegate)}}class Pb extends kb{data(e){const t=this._delegate.data(e);return function $D(n,e){n||pt()}(void 0!==t),t}}class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pE(e)}where(e,t,i){try{return new xs(this.firestore,Xh(this._delegate,function s2(n,e,t){const i=e,r=uE("where",n);return Ob._create(r,i,t)}(e,t,i)))}catch(r){throw Rs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xs(this.firestore,Xh(this._delegate,function o2(n,e="asc"){const t=e,i=uE("orderBy",n);return TA._create(i,t)}(e,t)))}catch(i){throw Rs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xs(this.firestore,Xh(this._delegate,function a2(n){return SO("limit",n),cE._create("limit",n,"F")}(e)))}catch(t){throw Rs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xs(this.firestore,Xh(this._delegate,function l2(n){return SO("limitToLast",n),cE._create("limitToLast",n,"L")}(e)))}catch(t){throw Rs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xs(this.firestore,Xh(this._delegate,function u2(...n){return dE._create("startAt",n,!0)}(...e)))}catch(t){throw Rs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xs(this.firestore,Xh(this._delegate,function c2(...n){return dE._create("startAfter",n,!1)}(...e)))}catch(t){throw Rs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xs(this.firestore,Xh(this._delegate,function d2(...n){return hE._create("endBefore",n,!1)}(...e)))}catch(t){throw Rs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xs(this.firestore,Xh(this._delegate,function h2(...n){return hE._create("endAt",n,!0)}(...e)))}catch(t){throw Rs(t,"endAt()","Query.endAt()")}}isEqual(e){return aA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function v2(n){n=yn(n,Kr);const e=yn(n.firestore,bi),t=tr(e),i=new tf(e);return function PL(n,e){const t=new $i;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,a,c){try{const h=yield Wh(r,a,!0),g=new KS(a,h.Hi),v=g.Wu(h.documents),T=g.applyChanges(v,!1);c.resolve(T.snapshot)}catch(h){const g=Jh(h,`Failed to execute query '${a} against cache`);c.reject(g)}}),function(r,a,c){return i.apply(this,arguments)})(yield iE(n),e,t);var i})),t.promise}(t,n._query).then(r=>new ef(e,i,n,r))}(this._delegate):"server"===e?.source?function b2(n){n=yn(n,Kr);const e=yn(n.firestore,bi),t=tr(e),i=new tf(e);return VO(t,n._query,{source:"server"}).then(r=>new ef(e,i,n,r))}(this._delegate):function y2(n){n=yn(n,Kr);const e=yn(n.firestore,bi),t=tr(e),i=new tf(e);return YO(n._query),VO(t,n._query).then(r=>new ef(e,i,n,r))}(this._delegate),t.then(i=>new AA(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=pR(e),i=gR(e,r=>new AA(this.firestore,new ef(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return oR(this._delegate,t,i)}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?og.getInstance(this.firestore,e):null))}}class L2{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Pb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class AA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Pb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new L2(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Pb(this._firestore,i))})}isEqual(e){return iR(this._delegate,e._delegate)}}class vy extends xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Fa(this.firestore,e):null}doc(e){try{return new Fa(this.firestore,void 0===e?eE(this._delegate):eE(this._delegate,e))}catch(t){throw Rs(t,"doc()","CollectionReference.doc()")}}add(e){return function D2(n,e){const t=yn(n.firestore,bi),i=eE(n),r=fE(n.converter,e);return yy(t,[oE(ig(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ai.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new Fa(this.firestore,t))}isEqual(e){return RO(this._delegate,e._delegate)}withConverter(e){return new vy(this.firestore,this._delegate.withConverter(e?og.getInstance(this.firestore,e):null))}}function ag(n){return yn(n,vi)}class NA{constructor(...e){this._delegate=new wd(...e)}static documentId(){return new NA(Pi.keyField().canonicalString())}isEqual(e){return(e=(0,ln.m9)(e))instanceof wd&&this._delegate._internalPath.isEqual(e._internalPath)}}class lg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function A2(){return new _A("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new lg(e)}static delete(){const e=function S2(){return new Ab("deleteField")}();return e._methodName="FieldValue.delete",new lg(e)}static arrayUnion(...e){const t=function N2(...n){return new XL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new lg(t)}static arrayRemove(...e){const t=function M2(...n){return new e2("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new lg(t)}static increment(e){const t=function O2(n){return new t2("increment",n)}(e);return t._methodName="FieldValue.increment",new lg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const U2={Firestore:dR,GeoPoint:rE,Timestamp:oi,Blob:xb,Transaction:hR,WriteBatch:fR,DocumentReference:Fa,DocumentSnapshot:kb,Query:xs,QueryDocumentSnapshot:Pb,QuerySnapshot:AA,CollectionReference:vy,FieldPath:NA,FieldValue:lg,setLogLevel:function F2(n){!function jD(n){Ml.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function B2(n){(function V2(n,e){n.INTERNAL.registerComponent(new np.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},U2)))})(n,(e,t)=>new dR(e,t,new P2)),n.registerVersion("@firebase/firestore-compat","0.3.3")}(eD.Z);let mR=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),ug=(()=>{class n extends mR{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Qu=new u.OlP("NgValueAccessor"),H2={provide:Qu,useExisting:(0,u.Gpc)(()=>gE),multi:!0},q2=new u.OlP("CompositionEventMode");let gE=(()=>{class n extends mR{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function G2(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(q2,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&u.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[u._Bn([H2]),u.qOj]}),n})();function rf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function yR(n){return null!=n&&"number"==typeof n.length}const hs=new u.OlP("NgValidators"),sf=new u.OlP("NgAsyncValidators"),z2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class mE{static min(e){return function vR(n){return e=>{if(rf(e.value)||rf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function bR(n){return e=>{if(rf(e.value)||rf(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return wR(e)}static requiredTrue(e){return function DR(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function TR(n){return rf(n.value)||z2.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ER(n){return e=>rf(e.value)||!yR(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function IR(n){return e=>yR(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function CR(n){if(!n)return _E;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(rf(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return RR(e)}static composeAsync(e){return xR(e)}}function wR(n){return rf(n.value)?{required:!0}:null}function _E(n){return null}function SR(n){return null!=n}function AR(n){return(0,u.QGY)(n)?(0,bn.D)(n):n}function NR(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function MR(n,e){return e.map(t=>t(n))}function OR(n){return n.map(e=>function W2(n){return!n.validate}(e)?e:t=>e.validate(t))}function RR(n){if(!n)return null;const e=n.filter(SR);return 0==e.length?null:function(t){return NR(MR(t,e))}}function MA(n){return null!=n?RR(OR(n)):null}function xR(n){if(!n)return null;const e=n.filter(SR);return 0==e.length?null:function(t){return function j2(...n){const e=(0,Br.jO)(n),{args:t,keys:i}=zs(n),r=new Jn.y(a=>{const{length:c}=t;if(!c)return void a.complete();const h=new Array(c);let g=c,v=c;for(let T=0;T<c;T++){let S=!1;(0,hr.Xf)(t[T]).subscribe((0,Vn.x)(a,x=>{S||(S=!0,v--),h[T]=x},()=>g--,void 0,()=>{(!g||!S)&&(v||a.next(i?cl(i,h):h),a.complete())}))}});return e?r.pipe(ul(e)):r}(MR(t,e).map(AR)).pipe((0,ht.U)(NR))}}function OA(n){return null!=n?xR(OR(n)):null}function kR(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function PR(n){return n._rawValidators}function FR(n){return n._rawAsyncValidators}function RA(n){return n?Array.isArray(n)?n:[n]:[]}function yE(n,e){return Array.isArray(n)?n.includes(e):n===e}function LR(n,e){const t=RA(e);return RA(n).forEach(r=>{yE(t,r)||t.push(r)}),t}function UR(n,e){return RA(e).filter(t=>!yE(n,t))}class VR{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=OA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ks extends VR{get formDirective(){return null}get path(){return null}}class af extends VR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class BR{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let jR=(()=>{class n extends BR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(af,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[u.qOj]}),n})(),$R=(()=>{class n extends BR{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ks,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&u.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[u.qOj]}),n})();const Fb="VALID",bE="INVALID",by="PENDING",Lb="DISABLED";function FA(n){return(wE(n)?n.validators:n)||null}function GR(n){return Array.isArray(n)?MA(n):n||null}function LA(n,e){return(wE(e)?e.asyncValidators:n)||null}function qR(n){return Array.isArray(n)?OA(n):n||null}function wE(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function ZR(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new u.vHH(1e3,"");if(!i[t])throw new u.vHH(1001,"")}function zR(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new u.vHH(1002,"")})}class DE{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=GR(this._rawValidators),this._composedAsyncValidatorFn=qR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Fb}get invalid(){return this.status===bE}get pending(){return this.status==by}get disabled(){return this.status===Lb}get enabled(){return this.status!==Lb}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=GR(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=qR(e)}addValidators(e){this.setValidators(LR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UR(e,this._rawAsyncValidators))}hasValidator(e){return yE(this._rawValidators,e)}hasAsyncValidator(e){return yE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=by,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Lb,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Fb,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fb||this.status===by)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lb:Fb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=by,this._hasOwnPendingAsyncValidator=!0;const t=AR(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Lb:this.errors?bE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(by)?by:this._anyControlsHaveStatus(bE)?bE:Fb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Ub extends DE{constructor(e,t,i){super(FA(t),LA(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){zR(this,0,e),Object.keys(e).forEach(i=>{ZR(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class WR extends Ub{}function Vb(n,e){UA(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function nU(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&KR(n,e)})}(n,e),function rU(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function iU(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&KR(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function tU(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function EE(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),CE(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function IE(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function UA(n,e){const t=PR(n);null!==e.validator?n.setValidators(kR(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=FR(n);null!==e.asyncValidator?n.setAsyncValidators(kR(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();IE(e._rawValidators,r),IE(e._rawAsyncValidators,r)}function CE(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=PR(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(c=>c!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=FR(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(c=>c!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return IE(e._rawValidators,i),IE(e._rawAsyncValidators,i),t}function KR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function XR(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ex(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const jb=class extends DE{constructor(e=null,t,i){super(FA(t),LA(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wE(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ex(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ex(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let sx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ax=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const $A=new u.OlP("NgModelWithFormControlWarning"),yU={provide:ks,useExisting:(0,u.Gpc)(()=>SE)};let SE=(()=>{class n extends ks{constructor(t,i){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(CE(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Vb(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){EE(t.control||null,t,!1),function lU(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function JR(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(EE(i||null,t),(n=>n instanceof jb)(r)&&(Vb(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function YR(n,e){UA(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function sU(n,e){return CE(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){UA(this.form,this),this._oldForm&&CE(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(hs,10),u.Y36(sf,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&u.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([yU]),u.qOj,u.TTD]}),n})();const wU={provide:af,useExisting:(0,u.Gpc)(()=>qA)};let qA=(()=>{class n extends af{constructor(t,i,r,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function BA(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===gE?t=a:function aU(n){return Object.getPrototypeOf(n.constructor)===ug}(a)?i=a:r=a}),r||i||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function VA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function TE(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(ks,13),u.Y36(hs,10),u.Y36(sf,10),u.Y36(Qu,10),u.Y36($A,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([wU]),u.qOj,u.TTD]}),n})(),cg=(()=>{class n{constructor(){this._validator=_E}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):_E,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const MU={provide:hs,useExisting:(0,u.Gpc)(()=>AE),multi:!0};let AE=(()=>{class n extends cg{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.D6c,this.createValidator=t=>wR}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=u.n5z(n)))(i||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&u.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([MU]),u.qOj]}),n})(),Tx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ax]}),n})(),Ex=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Tx]}),n})(),Ix=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$A,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Tx]}),n})();class Cx extends DE{constructor(e,t,i){super(FA(t),LA(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){zR(this,0,e),e.forEach((i,r)=>{ZR(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Sx(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let FU=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let a={};return Sx(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new Ub(r,a)}record(t,i=null){const r=this._reduceControls(t);return new WR(r,i)}control(t,i,r){let a={};return this.useNonNullable?(Sx(i)?a=i:(a.validators=i,a.asyncValidators=r),new jb(t,{...a,nonNullable:!0})):new jb(t,i,r)}array(t,i,r){const a=t.map(c=>this._createControl(c));return new Cx(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof jb||t instanceof DE?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:Ix}),n})();var WA=F(4986),Hn=F(2122);function KA(){return(0,Mn.e)((n,e)=>{let t,i=!1;n.subscribe((0,Vn.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function LU(n,e){return n===e}var Ll=F(2011),UU=F(6451),ME=F(5363),VU=F(6063);class BU extends gn.x{constructor(e=1/0,t=1/0,i=VU.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:c}=this;t||(i.push(e),!r&&i.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let c=0;c<a.length&&!e.closed;c+=i?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const c=t.now();let h=0;for(let g=1;g<i.length&&i[g]<=c;g+=2)h=g;h&&i.splice(0,h+1)}}}var jU=F(3099);function Ax(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,jU.B)({connector:()=>new BU(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Nx(n,e){return(0,Wi.m)(e)?Xn(()=>n,e):Xn(()=>n)}var YA=F(9468),dg=F(259);class wy{constructor(e){return e}}class Mx{constructor(){return(0,dg.C6)()}}const QA=new u.OlP("angularfire2._apps"),HU={provide:wy,useFactory:function $U(n){return n&&1===n.length?n[0]:new wy((0,dg.Mq)())},deps:[[new u.FiY,QA]]},GU={provide:Mx,deps:[[new u.FiY,QA]]};function qU(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new wy(i)}}let ZU=(()=>{class n{constructor(t){(0,dg.KN)("angularfire",Hn.q4.full,"core"),(0,dg.KN)("angularfire",Hn.q4.full,"app"),(0,dg.KN)("angular",u.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[HU,GU]}),n})();function zU(n,...e){return{ngModule:ZU,providers:[{provide:QA,useFactory:qU(n),multi:!0,deps:[u.R0b,u.zs3,Hn.HU,...e]}]}}const WU=(0,Hn.u3)(dg.ZF,!0),JA=new Map,Ox={activated:!1,tokenObservers:[]},KU={initialized:!1,enabled:!1};function Yr(n){return JA.get(n)||Object.assign({},Ox)}function OE(){return KU}class tV{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new ln.BH,yield function nV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ln.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ps=new ln.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xx(n){if(!Yr(n).activated)throw Ps.create("use-before-activation",{appName:n.name})}function tN(n,e){return nN.apply(this,arguments)}function nN(){return nN=(0,be.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const a={method:"POST",body:JSON.stringify(e),headers:i};let c,h;try{c=yield fetch(n,a)}catch(S){throw Ps.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==c.status)throw Ps.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(S){throw Ps.create("fetch-parse-error",{originalErrorMessage:S?.message})}const g=h.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Ps.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(g[1]),T=Date.now();return{token:h.token,expireTimeMillis:T+v,issuedAtTimeMillis:T}}),nN.apply(this,arguments)}function oV(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const $b="firebase-app-check-store";let kE=null;function Px(){return kE||(kE=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Ps.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore($b,{keyPath:"compositeKey"})}}catch(t){e(Ps.create("storage-open",{originalErrorMessage:t?.message}))}}),kE)}function iN(){return iN=(0,be.Z)(function*(n,e){const i=(yield Px()).transaction($b,"readwrite"),a=i.objectStore($b).put({compositeKey:n,value:e});return new Promise((c,h)=>{a.onsuccess=g=>{c()},i.onerror=g=>{var v;h(Ps.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})}),iN.apply(this,arguments)}const Hb=new bu.Yd("@firebase/app-check");function oN(n,e){return(0,ln.hl)()?function cV(n,e){return function Fx(n,e){return iN.apply(this,arguments)}(function Ux(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Hb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Vx(){return OE().enabled}function Bx(){return lN.apply(this,arguments)}function lN(){return lN=(0,be.Z)(function*(){const n=OE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),lN.apply(this,arguments)}const mV={error:"UNKNOWN_ERROR"};function _V(n){return ln.US.encodeString(JSON.stringify(n),!1)}function PE(n){return uN.apply(this,arguments)}function uN(){return uN=(0,be.Z)(function*(n,e=!1){const t=n.app;xx(t);const i=Yr(t);let a,r=i.token;if(r&&!Dy(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(Dy(g)?r=g:yield oN(t,void 0))}if(!e&&r&&Dy(r))return{token:r.token};let h,c=!1;if(Vx()){i.exchangeTokenPromise||(i.exchangeTokenPromise=tN(oV(t,yield Bx()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const g=yield i.exchangeTokenPromise;return yield oN(t,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield Yr(t).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Hb.warn(g.message):Hb.error(g),a=g}return r?a?h=Dy(r)?{token:r.token,internalError:a}:Hx(a):(h={token:r.token},i.token=r,yield oN(t,r)):h=Hx(a),c&&$x(t,h),h}),uN.apply(this,arguments)}function dN(n,e){const t=Yr(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function jx(n){const{app:e}=n,t=Yr(e);let i=t.tokenRefresher;i||(i=function yV(n){const{app:e}=n;return new tV((0,be.Z)(function*(){let i;if(i=Yr(e).token?yield PE(n,!0):yield PE(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=Yr(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function $x(n,e){const t=Yr(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function Dy(n){return n.expireTimeMillis-Date.now()>0}function Hx(n){return{token:_V(mV),error:n}}class vV{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Yr(this.app);for(const t of e)dN(this.app,t.next);return Promise.resolve()}}const Qx="app-check-internal";!function xV(){(0,os._registerComponent)(new np.wA("app-check",n=>function bV(n,e){return new vV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Qx).initialize()})),(0,os._registerComponent)(new np.wA(Qx,n=>function wV(n){return{getToken:e=>PE(n,e),addTokenListener:e=>function cN(n,e,t,i){const{app:r}=n,a=Yr(r);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:i,type:e}],a.token&&Dy(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),jx(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>jx(n))}(n,"INTERNAL",e),removeTokenListener:e=>dN(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,os.registerVersion)("@firebase/app-check","0.6.3")}();class LE{constructor(){return(0,Hn.vb)("app-check")}}typeof window<"u"&&window,F(9260);const Xx=new u.OlP("angularfire2.auth.use-emulator"),ek=new u.OlP("angularfire2.auth.settings"),tk=new u.OlP("angularfire2.auth.tenant-id"),nk=new u.OlP("angularfire2.auth.langugage-code"),ik=new u.OlP("angularfire2.auth.use-device-language"),rk=new u.OlP("angularfire.auth.persistence"),sk=(n,e,t,i,r,a,c,h)=>(0,Ll.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),i&&(g.tenantId=i),g.languageCode=r,a&&g.useDeviceLanguage(),c)for(const[v,T]of Object.entries(c))g.settings[v]=T;return h&&g.setPersistence(h),g},[t,i,r,a,c,h]);let ok=(()=>{class n{constructor(t,i,r,a,c,h,g,v,T,S,x,U){const G=new gn.x,K=gt(void 0).pipe((0,ME.Q)(c.outsideAngular),Xn(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,9568)))),(0,ht.U)(()=>(0,Ll.on)(t,a,i)),(0,ht.U)(X=>sk(X,a,h,v,T,S,g,x)),Ax({bufferSize:1,refCount:!1}));if(qo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{K.pipe(Q()).subscribe();const Ne=K.pipe(Xn(Me=>Me.getRedirectResult().then(Ze=>Ze,()=>null)),Hn.iC,Ax({bufferSize:1,refCount:!1})),je=K.pipe(Xn(Me=>new Jn.y(Ze=>({unsubscribe:a.runOutsideAngular(()=>Me.onAuthStateChanged(Ke=>Ze.next(Ke),Ke=>Ze.error(Ke),()=>Ze.complete()))})))),He=K.pipe(Xn(Me=>new Jn.y(Ze=>({unsubscribe:a.runOutsideAngular(()=>Me.onIdTokenChanged(Ke=>Ze.next(Ke),Ke=>Ze.error(Ke),()=>Ze.complete()))}))));this.authState=Ne.pipe(Nx(je),(0,YA.R)(c.outsideAngular),(0,ME.Q)(c.insideAngular)),this.user=Ne.pipe(Nx(He),(0,YA.R)(c.outsideAngular),(0,ME.Q)(c.insideAngular)),this.idToken=this.user.pipe(Xn(Me=>Me?(0,bn.D)(Me.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(Xn(Me=>Me?(0,bn.D)(Me.getIdTokenResult()):gt(null))),this.credential=(0,UU.T)(Ne,G,this.authState.pipe(gi(Me=>!Me))).pipe((0,ht.U)(Me=>Me?.user?Me:null),(0,YA.R)(c.outsideAngular),(0,ME.Q)(c.insideAngular))}return(0,Ll.pX)(this,K,a,{spy:{apply:(X,Ne,je)=>{(X.startsWith("signIn")||X.startsWith("createUser"))&&je.then(He=>G.next(He))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ll.Dh),u.LFG(Ll.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Hn.HU),u.LFG(Xx,8),u.LFG(ek,8),u.LFG(tk,8),u.LFG(nk,8),u.LFG(ik,8),u.LFG(rk,8),u.LFG(LE,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function ak(n,e){return function VV(n,e=WA.z){return new Jn.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function mN(n,e){return ak(n,e).pipe((0,ht.U)(t=>({payload:t,type:"query"})))}function UE(n,e){return mN(n,e).pipe(is(void 0),KA(),(0,ht.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const g=r.find(T=>T.doc.ref.isEqual(c.ref)),v=t?.payload.docs.find(T=>T.ref.isEqual(c.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(c.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),a}))}function lk(n,e,t){return UE(n,t).pipe(At((i,r)=>function jV(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function $V(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return _N(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return _N(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return _N(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),function NE(n,e=Ws.y){return n=n??LU,(0,Mn.e)((t,i)=>{let r,a=!0;t.subscribe((0,Vn.x)(i,c=>{const h=e(c);(a||!n(r,h))&&(a=!1,r=h,i.next(c))}))})}(),(0,ht.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function _N(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function uk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class ck{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=UE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ht.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(is(void 0),KA(),gi(([i,r])=>r.length>0||!i),(0,ht.U)(([i,r])=>r),Hn.iC)}auditTrail(e){return this.stateChanges(e).pipe(At((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=uk(e);return lk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Hn.iC)}valueChanges(e={}){return mN(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Hn.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(Hn.iC)}add(e){return this.ref.add(e)}doc(e){return new dk(this.ref.doc(e),this.afs)}}class dk{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=hk(i,t);return new ck(r,a,this.afs)}snapshotChanges(){return function BV(n,e){return ak(n,e).pipe(is(void 0),KA(),(0,ht.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Hn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ht.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,bn.D)(this.ref.get(e)).pipe(Hn.iC)}}class HV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?UE(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),gi(t=>t.length>0),Hn.iC):UE(this.query,this.afs.schedulers.outsideAngular).pipe(Hn.iC)}auditTrail(e){return this.stateChanges(e).pipe(At((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=uk(e);return lk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Hn.iC)}valueChanges(e={}){return mN(this.query,this.afs.schedulers.outsideAngular).pipe((0,ht.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Hn.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(Hn.iC)}}const GV=new u.OlP("angularfire2.enableFirestorePersistence"),qV=new u.OlP("angularfire2.firestore.persistenceSettings"),ZV=new u.OlP("angularfire2.firestore.settings"),zV=new u.OlP("angularfire2.firestore.use-emulator");function hk(n,e=(t=>t)){return{query:e(n),ref:n}}let WV=(()=>{class n{constructor(t,i,r,a,c,h,g,v,T,S,x,U,G,K,X,Ne,je){this.schedulers=g;const He=(0,Ll.on)(t,h,i),Me=T;S&&sk(He,h,x,G,K,X,U,Ne),[this.firestore,this.persistenceEnabled$]=(0,Ll.cc)(`${He.name}.firestore`,"AngularFirestore",He.name,()=>{const Ze=h.runOutsideAngular(()=>He.firestore());if(a&&Ze.settings(a),Me&&Ze.useEmulator(...Me),r&&!qo(c)){const Ke=()=>{try{return(0,bn.D)(Ze.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(bt){return typeof console<"u"&&console.warn(bt),gt(!1)}};return[Ze,h.runOutsideAngular(Ke)]}return[Ze,gt(!1)]},[a,Me,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=hk(r,i),h=this.schedulers.ngZone.run(()=>a);return new ck(h,c,this)}collectionGroup(t,i){const r=i||(c=>c),a=this.firestore.collectionGroup(t);return new HV(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new dk(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ll.Dh),u.LFG(Ll.xv,8),u.LFG(GV,8),u.LFG(ZV,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Hn.HU),u.LFG(qV,8),u.LFG(zV,8),u.LFG(ok,8),u.LFG(Xx,8),u.LFG(ek,8),u.LFG(tk,8),u.LFG(nk,8),u.LFG(ik,8),u.LFG(rk,8),u.LFG(LE,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fk=(()=>{class n{constructor(t){this.firestore=t}agregarOpinion(t){return this.firestore.collection("blocs").add(t)}getOpinion(){return this.firestore.collection("blocs").snapshotChanges()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(WV))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pk{}const Td="*";function YV(n,e){return{type:7,name:n,definitions:e,options:{}}}function gk(n,e=null){return{type:4,styles:e,timings:n}}function mk(n,e=null){return{type:2,steps:n,options:e}}function Gb(n){return{type:6,styles:n,offset:null}}function yN(n,e,t){return{type:0,name:n,styles:e,options:t}}function _k(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function yk(n){Promise.resolve().then(n)}class qb{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){yk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class vk{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?yk(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++i==a&&this._onDestroy()}),c.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const bk=["toast-component",""];function QV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.remove())}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function JV(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("[",t.duplicatesCount+1,"]")}}function XV(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,JV,2,1,"ng-container",4),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.titleClass),u.uIk("aria-label",t.title),u.xp6(1),u.hij(" ",t.title," "),u.xp6(1),u.Q6J("ngIf",t.duplicatesCount)}}function eB(n,e){if(1&n&&u._UZ(0,"div",7),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.Q6J("innerHTML",t.message,u.oJD)}}function tB(n,e){if(1&n&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.uIk("aria-label",t.message),u.xp6(1),u.hij(" ",t.message," ")}}function nB(n,e){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Udp("width",t.width+"%")}}class uB{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class dB{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new gn.x,this._activate=new gn.x,this._manualClose=new gn.x,this._resetTimeout=new gn.x,this._countDuplicate=new gn.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class VE{constructor(e,t,i,r,a,c){this.toastId=e,this.config=t,this.message=i,this.title=r,this.toastType=a,this.toastRef=c,this._onTap=new gn.x,this._onAction=new gn.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const Dk=new u.OlP("ToastConfig");class hB extends class cB{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,i){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=i}attachComponentPortal(e,t){const i=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=i.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class fB{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let pB=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gB=(()=>{class n{constructor(t,i,r,a){this._overlayContainer=t,this._componentFactoryResolver=i,this._appRef=r,this._document=a,this._paneElements=new Map}create(t,i){return this._createOverlayRef(this.getPaneElement(t,i))}getPaneElement(t="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[t]||(this._paneElements.get(i)[t]=this._createPaneElement(t,i)),this._paneElements.get(i)[t]}_createPaneElement(t,i){const r=this._document.createElement("div");return r.id="toast-container",r.classList.add(t),r.classList.add("toast-container"),i?i.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(t){return new hB(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new fB(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(pB),u.LFG(u._Vd),u.LFG(u.z2F),u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bN=(()=>{class n{constructor(t,i,r,a,c){this.overlay=i,this._injector=r,this.sanitizer=a,this.ngZone=c,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,i,r={},a=""){return this._preBuildNotification(a,t,i,this.applyConfig(r))}success(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,i,this.applyConfig(r))}error(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,i,this.applyConfig(r))}info(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,i,this.applyConfig(r))}warning(t,i,r={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,i,this.applyConfig(r))}clear(t){for(const i of this.toasts)if(void 0!==t){if(i.toastId===t)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(t){const i=this._findToast(t);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(t="",i="",r,a){const{includeTitleDuplicates:c}=this.toastrConfig;for(const h of this.toasts){const g=c&&h.title===t;if((!c||g)&&h.message===i)return h.toastRef.onDuplicate(r,a),h}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===t)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(t,i,r,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,i,r,a)):this._buildNotification(t,i,r,a)}_buildNotification(t,i,r,a){if(!a.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(r,i,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||i)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=i;let h=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(h=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const g=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let v=i;i&&a.enableHtml&&(v=this.sanitizer.sanitize(u.q3G.HTML,i));const T=new dB(g),S=new VE(this.index,a,v,r,t,T),U=u.zs3.create({providers:[{provide:VE,useValue:S}],parent:this._injector}),G=new uB(a.toastComponent,U),K=g.attach(G,a.newestOnTop);T.componentInstance=K.instance;const X={toastId:this.index,title:r||"",message:i||"",toastRef:T,onShown:T.afterActivate(),onHidden:T.afterClosed(),onTap:S.onTap(),onAction:S.onAction(),portal:K};return h||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{X.toastRef.activate()})),this.toasts.push(X),X}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Dk),u.LFG(gB),u.LFG(u.zs3),u.LFG(ha),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mB={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,i,r){this.toastrService=t,this.toastPackage=i,this.ngZone=r,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),i)):this.timeout=setTimeout(()=>t(),i)}outsideInterval(t,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),i)):this.intervalId=setInterval(()=>t(),i)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(bN),u.Y36(VE),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,i){1&t&&u.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&t&&(u.d8E("@flyInOut",i.state),u.Tol(i.toastClasses),u.Udp("display",i.displayStyle))},attrs:bk,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,i){1&t&&(u.YNc(0,QV,3,0,"button",0),u.YNc(1,XV,3,5,"div",1),u.YNc(2,eB,1,3,"div",2),u.YNc(3,tB,2,4,"div",3),u.YNc(4,nB,2,2,"div",4)),2&t&&(u.Q6J("ngIf",i.options.closeButton),u.xp6(1),u.Q6J("ngIf",i.title),u.xp6(1),u.Q6J("ngIf",i.message&&i.options.enableHtml),u.xp6(1),u.Q6J("ngIf",i.message&&!i.options.enableHtml),u.xp6(1),u.Q6J("ngIf",i.options.progressBar))},dependencies:[Pn],encapsulation:2,data:{animation:[YV("flyInOut",[yN("inactive",Gb({opacity:0})),yN("active",Gb({opacity:1})),yN("removed",Gb({opacity:0})),_k("inactive => active",gk("{{ easeTime }}ms {{ easing }}")),_k("active => removed",gk("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let _B=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:Dk,useValue:{default:mB,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ur]}),n})();function yB(n,e){1&n&&(u.TgZ(0,"div",35)(1,"span",36),u._uU(2,"Loading..."),u.qZA()())}function vB(n,e){1&n&&(u.TgZ(0,"span",37),u._uU(1,"Todos los campos son obligatorios"),u.qZA())}let Tk=(()=>{class n{constructor(t,i,r){this.fb=t,this._blocservice=i,this.toastr=r,this.submitted=!1,this.loading=!1,this.createBloc=this.fb.group({nombre:["",mE.required],mail:["",mE.required],opinion:["",mE.required,,mE.maxLength(1e3)]})}ngOnInit(){}AgregarOpinion(){if(this.submitted=!0,this.createBloc.invalid)return;const t={nombre:this.createBloc.value.nombre,mail:this.createBloc.value.mail,opinion:this.createBloc.value.opinion,fechacreacion:new Date};this.loading=!0,this._blocservice.agregarOpinion(t).then(()=>{this.toastr.success("Opinion registrada con exito!","Opinion registrada",{positionClass:"toast-bottom-right"}),this.loading=!1,this.router.navigate(["/app-root"])}).catch(i=>{console.log("error no se pudo agregar"),this.loading=!1})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(FU),u.Y36(fk),u.Y36(bN))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contacto"]],decls:65,vars:3,consts:[["id","contact",1,"section","contact"],["id","map",1,"map"],[1,"container"],[1,"row"],[1,"col-lg-8"],[1,"contact-form-card"],[1,"contact-title"],["class","spinner-border text-info  float-right","role","status",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],["action","",3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","nombre","type","text","placeholder","Name *","required","",1,"form-control"],["formControlName","mail","type","email","placeholder","Email *","required","",1,"form-control"],["formControlName","opinion","rows","7","required","",1,"form-control"],["type","submit",1,"form-control","btn","btn-primary"],[1,"col-lg-4"],[1,"contact-info-card"],[1,"row","mb-2"],[1,"col-1","pt-1","mr-1"],[1,"ti-mobile","icon-md"],[1,"col-10"],[1,"d-inline"],[1,"text-muted"],[1,"ti-map-alt","icon-md"],[1,"ti-envelope","icon-md"],[1,"social-icons","pt-4"],[1,"social-item"],["href","https://www.facebook.com/jeffersonepanito.sarangovega",1,"social-link","text-dark"],["aria-hidden","true",1,"ti-facebook"],["href","https://www.linkedin.com/in/jefferson-sarango-vega-2714391b4/",1,"social-link","text-dark"],["aria-hidden","true",1,"ti-linkedin"],["href","https://www.instagram.com/jefferson_vega/",1,"social-link","text-dark"],["aria-hidden","true",1,"ti-instagram"],["href","https://github.com/Jefferson1994",1,"social-link","text-dark"],["aria-hidden","true",1,"ti-github"],["role","status",1,"spinner-border","text-info","float-right"],[1,"visually-hidden"],[1,"badge","bg-danger"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),u._uU(7,"Publicar Opini\xf3n "),u.YNc(8,yB,3,0,"div",7),u.qZA(),u.TgZ(9,"h1"),u.YNc(10,vB,2,0,"span",8),u.qZA(),u.TgZ(11,"form",9),u.NdJ("ngSubmit",function(){return i.AgregarOpinion()}),u.TgZ(12,"div",10),u._UZ(13,"input",11),u.qZA(),u.TgZ(14,"div",10),u._UZ(15,"input",12),u.qZA(),u.TgZ(16,"div",10),u._UZ(17,"textarea",13),u.qZA(),u.TgZ(18,"div",10)(19,"button",14),u._uU(20,"Publicar Opini\xf3n"),u.qZA()()()()(),u.TgZ(21,"div",15)(22,"div",16)(23,"h4",6),u._uU(24,"Get in touch"),u.qZA(),u.TgZ(25,"div",17)(26,"div",18),u._UZ(27,"i",19),u.qZA(),u.TgZ(28,"div",20)(29,"h6",21),u._uU(30,"Telefono : "),u._UZ(31,"br"),u.TgZ(32,"span",22),u._uU(33,"+ (593) 989638031"),u.qZA()()()(),u.TgZ(34,"div",17)(35,"div",18),u._UZ(36,"i",23),u.qZA(),u.TgZ(37,"div",20)(38,"h6",21),u._uU(39,"Direcci\xf3n :"),u._UZ(40,"br"),u.TgZ(41,"span",22),u._uU(42,"Cariamanga-Loja-Ecuador."),u.qZA()()()(),u.TgZ(43,"div",17)(44,"div",18),u._UZ(45,"i",24),u.qZA(),u.TgZ(46,"div",20)(47,"h6",21),u._uU(48,"Email :"),u._UZ(49,"br"),u.TgZ(50,"span",22),u._uU(51,"jeffersonsarangovega@gmail.com"),u.qZA()()()(),u.TgZ(52,"ul",25)(53,"li",26)(54,"a",27),u._UZ(55,"i",28),u.qZA()(),u.TgZ(56,"li",26)(57,"a",29),u._UZ(58,"i",30),u.qZA()(),u.TgZ(59,"li",26)(60,"a",31),u._UZ(61,"i",32),u.qZA()(),u.TgZ(62,"li",26)(63,"a",33),u._UZ(64,"i",34),u.qZA()()()()()()()()),2&t&&(u.xp6(8),u.Q6J("ngIf",i.loading),u.xp6(2),u.Q6J("ngIf",i.submitted&&i.createBloc.invalid),u.xp6(1),u.Q6J("formGroup",i.createBloc))},dependencies:[Pn,sx,gE,jR,$R,AE,SE,qA]}),n})();F(2722);class Ik{constructor(){return(0,Hn.vb)("auth")}}const Ck="firebasestorage.googleapis.com",Sk="storageBucket";class Li extends ln.ZR{constructor(e,t,i=0){super(TN(e),`Firebase Storage: ${t} (${TN(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Li.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return TN(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var li=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(li||(li={})),li))();function TN(n){return"storage/"+n}function EN(){return new Li(li.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function IN(n){return new Li(li.INVALID_ARGUMENT,n)}function Ok(){return new Li(li.APP_DELETED,"The Firebase app was deleted.")}function Zb(n,e){return new Li(li.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function zb(n){throw new Li(li.INTERNAL_ERROR,"Internal error: "+n)}class Fs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Fs.makeFromUrl(e,t)}catch{return new Fs(e,"")}if(""===i.path)return i;throw function RB(n){return new Li(li.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function v(Me){Me.path_=decodeURIComponent(Me.path)}const S=t.replace(/[.]/g,"\\."),He=[{regex:h,indices:{bucket:1,path:3},postModify:function a(Me){"/"===Me.path.charAt(Me.path.length-1)&&(Me.path_=Me.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===Ck?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Me=0;Me<He.length;Me++){const Ze=He[Me],Ke=Ze.regex.exec(e);if(Ke){let zt=Ke[Ze.indices.path];zt||(zt=""),i=new Fs(Ke[Ze.indices.bucket],zt),Ze.postModify(i);break}}if(null==i)throw function OB(n){return new Li(li.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class UB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function BE(n){return"string"==typeof n||n instanceof String}function Rk(n){return CN()&&n instanceof Blob}function CN(){return typeof Blob<"u"&&!(0,ln.UG)()}function SN(n,e,t,i){if(i<e)throw IN(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw IN(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ed(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function xk(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var lf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(lf||(lf={})),lf))();class GB{constructor(e,t,i,r,a,c,h,g,v,T,S,x=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=h,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=T,this.connectionFactory_=S,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,G)=>{this.resolve_=U,this.reject_=G,this.start_()})}start_(){const t=(i,r)=>{const a=this.resolve_,c=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const g=this.callback_(h,h.getResponse());!function jB(n){return void 0!==n}(g)?a():a(g)}catch(g){c(g)}else if(null!==h){const g=EN();g.serverResponse=h.getErrorText(),c(this.errorCallback_?this.errorCallback_(h,g):g)}else c(r.canceled?this.appDelete_?Ok():function Nk(){return new Li(li.CANCELED,"User canceled the upload/download.")}():function Ak(){return new Li(li.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new jE(!1,null,!0)):this.backoffId_=function VB(n,e,t){let i=1,r=null,a=null,c=!1,h=0;function g(){return 2===h}let v=!1;function T(...X){v||(v=!0,e.apply(null,X))}function S(X){r=setTimeout(()=>{r=null,n(U,g())},X)}function x(){a&&clearTimeout(a)}function U(X,...Ne){if(v)return void x();if(X)return x(),void T.call(null,X,...Ne);if(g()||c)return x(),void T.call(null,X,...Ne);let He;i<64&&(i*=2),1===h?(h=2,He=0):He=1e3*(i+Math.random()),S(He)}let G=!1;function K(X){G||(G=!0,x(),!v&&(null!==r?(X||(h=2),clearTimeout(r),S(0)):X||(h=1)))}return S(0),a=setTimeout(()=>{c=!0,K(!0)},t),K}((i,r)=>{if(r)return void i(!1,new jE(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const c=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const h=a.getErrorCode()===lf.NO_ERROR,g=a.getStatus();if(!h||function kk(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||r||a}(g,this.additionalRetryCodes_)&&this.retry){const T=a.getErrorCode()===lf.ABORT;return void i(!1,new jE(!1,null,T))}const v=-1!==this.successCodes_.indexOf(g);i(!0,new jE(v,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function BB(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class jE{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function QB(...n){const e=function YB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(CN())return new Blob(n);throw new Li(li.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}class AN{constructor(e,t){this.data=e,this.contentType=t||null}}function Fk(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function Lk(n,e){switch(n){case"base64":{const r=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(r||a)throw Zb(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const r=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(r||a)throw Zb(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function XB(n){if(typeof atob>"u")throw function FB(n){return new Li(li.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:Zb(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class Uk{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Zb("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function r3(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Id{constructor(e,t){let i=0,r="";Rk(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Rk(this.data_)){const r=function JB(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Id(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Id(i,!0)}}static getBlob(...e){if(CN()){const t=e.map(i=>i instanceof Id?i.data_:i);return new Id(QB.apply(null,t))}{const t=e.map(c=>BE(c)?function Pk(n,e){switch(n){case"raw":return new AN(Fk(e));case"base64":case"base64url":return new AN(Lk(n,e));case"data_url":return new AN(function t3(n){const e=new Uk(n);return e.base64?Lk("base64",e.rest):function e3(n){let e;try{e=decodeURIComponent(n)}catch{throw Zb("data_url","Malformed data URL.")}return Fk(e)}(e.rest)}(e),function n3(n){return new Uk(n).contentType}(e))}throw EN()}("raw",c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let a=0;return t.forEach(c=>{for(let h=0;h<c.length;h++)r[a++]=c[h]}),new Id(r,!0)}}uploadData(){return this.data_}}function NN(n){let e;try{e=JSON.parse(n)}catch{return null}return function HB(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function Vk(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function a3(n,e){return e}class Ls{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||a3}}let $E=null;function Wb(){if($E)return $E;const n=[];n.push(new Ls("bucket")),n.push(new Ls("generation")),n.push(new Ls("metageneration")),n.push(new Ls("name","fullPath",!0));const t=new Ls("name");t.xform=function e(a,c){return function l3(n){return!BE(n)||n.length<2?n:Vk(n)}(c)},n.push(t);const r=new Ls("size");return r.xform=function i(a,c){return void 0!==c?Number(c):c},n.push(r),n.push(new Ls("timeCreated")),n.push(new Ls("updated")),n.push(new Ls("md5Hash",null,!0)),n.push(new Ls("cacheControl",null,!0)),n.push(new Ls("contentDisposition",null,!0)),n.push(new Ls("contentEncoding",null,!0)),n.push(new Ls("contentLanguage",null,!0)),n.push(new Ls("contentType",null,!0)),n.push(new Ls("metadata","customMetadata",!0)),$E=n,$E}function Bk(n,e,t){const i=NN(e);return null===i?null:function c3(n,e,t){const i={type:"file"},r=t.length;for(let a=0;a<r;a++){const c=t[a];i[c.local]=c.xform(i,e[c.server])}return function u3(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new Fs(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(i,n),i}(n,i,t)}class Ju{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xu(n){if(!n)throw EN()}function Ty(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function NB(){return new Li(li.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function AB(){return new Li(li.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function SB(n){return new Li(li.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function MB(n){return new Li(li.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function Zk(n,e,t,i,r){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},g=function h(){let He="";for(let Me=0;Me<2;Me++)He+=Math.random().toString().slice(2);return He}();c["Content-Type"]="multipart/related; boundary="+g;const v=function qk(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function b3(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}(e,i,r),T=function MN(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const a=e[r];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}(v,t),U=Id.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+g+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",i,"\r\n--"+g+"--");if(null===U)throw function Mk(){return new Li(li.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const G={name:v.fullPath},K=Ed(a,n.host,n._protocol),Ne=n.maxUploadRetryTime,je=new Ju(K,"POST",function HE(n,e){return function t(i,r){const a=Bk(n,r,e);return Xu(null!==a),a}}(n,t),Ne);return je.urlParams=G,je.headers=c,je.body=U.uploadData(),je.errorHandler=Ty(e),je}class C3 extends class I3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw zb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Vl(){return new C3}class hg{constructor(e,t){this._service=e,this._location=t instanceof Fs?t:Fs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new hg(e,t)}get root(){const e=new Fs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Vk(this._location.path)}get storage(){return this._service}get parent(){const e=function s3(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Fs(this._location.bucket,e);return new hg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function LB(n){return new Li(li.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function V3(n){n._throwIfRoot("getDownloadURL");const e=function _3(n,e,t){const r=Ed(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,h=new Ju(r,"GET",function g3(n,e){return function t(i,r){const a=Bk(n,r,e);return Xu(null!==a),function d3(n,e,t,i){const r=NN(e);if(null===r||!BE(r.downloadTokens))return null;const a=r.downloadTokens;if(0===a.length)return null;const c=encodeURIComponent;return a.split(",").map(v=>{const S=n.fullPath;return Ed("/b/"+c(n.bucket)+"/o/"+c(S),t,i)+xk({alt:"media",token:v})})[0]}(a,r,n.host,n._protocol)}}(n,t),c);return h.errorHandler=function Kb(n){const e=Ty(n);return function t(i,r){let a=e(i,r);return 404===i.getStatus()&&(a=function CB(n){return new Li(li.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=r.serverResponse,a}}(e),h}(n.storage,n._location,Wb());return n.storage.makeRequestWithTokens(e,Vl).then(t=>{if(null===t)throw function PB(){return new Li(li.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function Xk(n,e){if(n instanceof kN){const t=n;if(null==t._bucket)throw function xB(){return new Li(li.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Sk+"' property when initializing the app?")}();const i=new hg(t,t._bucket);return null!=e?Xk(i,e):i}return void 0!==e?function Jk(n,e){const t=function o3(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new Fs(n._location.bucket,t);return new hg(n.storage,i)}(n,e):n}function eP(n,e){const t=e?.[Sk];return null==t?null:Fs.makeFromBucketSpec(t,n)}class kN{constructor(e,t,i,r,a){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._bucket=null,this._host=Ck,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Fs.makeFromBucketSpec(r,this._host):eP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Fs.makeFromBucketSpec(this._url,e):eP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SN("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SN("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,be.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,be.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hg(this,e)}_makeRequest(e,t,i,r,a=!0){if(this._deleted)return new UB(Ok());{const c=function KB(n,e,t,i,r,a,c=!0){const h=xk(n.urlParams),g=n.url+h,v=Object.assign({},n.headers);return function zB(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function qB(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function ZB(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,a),function WB(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,i),new GB(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,c)}(e,this._appId,i,r,t,this._firebaseVersion,a);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var i=this;return(0,be.Z)(function*(){const[r,a]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,a).getPromise()})()}}const tP="@firebase/storage",iP="storage";function q3(n,e,t){return function Kk(n,e,t){n._throwIfRoot("uploadBytes");const i=Zk(n.storage,n._location,Wb(),new Id(e,!0),t);return n.storage.makeRequestWithTokens(i,Vl).then(r=>({metadata:r,ref:n}))}(n=(0,ln.m9)(n),e,t)}function Z3(n){return V3(n=(0,ln.m9)(n))}function z3(n,e){return function H3(n,e){if(e&&function j3(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof kN)return function $3(n,e){return new hg(n,e)}(n,e);throw IN("To use ref(service, url), the first argument must be a Storage instance.")}return Xk(n,e)}(n=(0,ln.m9)(n),e)}function Y3(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new kN(t,i,r,e,os.SDK_VERSION)}!function Q3(){(0,os._registerComponent)(new np.wA(iP,Y3,"PUBLIC").setMultipleInstances(!0)),(0,os.registerVersion)(tP,"0.11.1",""),(0,os.registerVersion)(tP,"0.11.1","esm2017")}();class Yb{constructor(e){return e}}const rP="storage",PN=new u.OlP("angularfire2.storage-instances");function ej(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Yb(i)}}const tj={provide:class J3{constructor(){return(0,Hn.vb)(rP)}},deps:[[new u.FiY,PN]]},nj={provide:Yb,useFactory:function X3(n,e){const t=(0,Hn.JM)(rP,n,e);return t&&new Yb(t)},deps:[[new u.FiY,PN],wy]};let ij=(()=>{class n{constructor(){(0,dg.KN)("angularfire",Hn.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[nj,tj]}),n})();function rj(n,...e){return{ngModule:ij,providers:[{provide:PN,useFactory:ej(n),multi:!0,deps:[u.R0b,u.zs3,Hn.HU,Mx,[new u.FiY,Ik],[new u.FiY,LE],...e]}]}}const sP=(0,Hn.u3)(Z3,!0),FN=(0,Hn.u3)(z3,!0),sj=(0,Hn.u3)(q3,!0);var oj=F(1144);const aj=["addListener","removeListener"],lj=["addEventListener","removeEventListener"],uj=["on","off"];function Us(n,e,t,i){if((0,Wi.m)(t)&&(i=t,t=void 0),i)return Us(n,e,t).pipe(ul(i));const[r,a]=function hj(n){return(0,Wi.m)(n.addEventListener)&&(0,Wi.m)(n.removeEventListener)}(n)?lj.map(c=>h=>n[c](e,h,t)):function cj(n){return(0,Wi.m)(n.addListener)&&(0,Wi.m)(n.removeListener)}(n)?aj.map(oP(n,e)):function dj(n){return(0,Wi.m)(n.on)&&(0,Wi.m)(n.off)}(n)?uj.map(oP(n,e)):[];if(!r&&(0,oj.z)(n))return(0,I.z)(c=>Us(c,e,t))((0,hr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Jn.y(c=>{const h=(...g)=>c.next(1<g.length?g:g[0]);return r(h),()=>a(h)})}function oP(n,e){return t=>i=>n[t](e,i)}var fj=F(3532);const{isArray:gj}=Array;function aP(n){return 1===n.length&&gj(n[0])?n[0]:n}var qE=F(5032);function ZE(...n){const e=(0,Br.jO)(n),t=aP(n);return t.length?new Jn.y(i=>{let r=t.map(()=>[]),a=t.map(()=>!1);i.add(()=>{r=a=null});for(let c=0;!i.closed&&c<t.length;c++)(0,hr.Xf)(t[c]).subscribe((0,Vn.x)(i,h=>{if(r[c].push(h),r.every(g=>g.length)){const g=r.map(v=>v.shift());i.next(e?e(...g):g),r.some((v,T)=>!v.length&&a[T])&&i.complete()}},()=>{a[c]=!0,!r[c].length&&i.complete()}));return()=>{r=a=null}}):xi.E}function vr(n){return(0,Mn.e)((e,t)=>{(0,hr.Xf)(n).subscribe((0,Vn.x)(t,()=>t.complete(),qE.Z)),!t.closed&&e.subscribe(t)})}function UN(...n){const e=(0,Br.jO)(n);return(0,Mn.e)((t,i)=>{const r=n.length,a=new Array(r);let c=n.map(()=>!1),h=!1;for(let g=0;g<r;g++)(0,hr.Xf)(n[g]).subscribe((0,Vn.x)(i,v=>{a[g]=v,!h&&!c[g]&&(c[g]=!0,(h=c.every(Ws.y))&&(c=null))},qE.Z));t.subscribe((0,Vn.x)(i,g=>{if(h){const v=[g,...a];i.next(e?e(...v):v)}}))})}new Jn.y(qE.Z),Math,Math,Math;const O$=["*"],K$=["dialog"];function YN(n){return"string"==typeof n}function gg(n){return null!=n}function Ny(n){return(n||document.body).getBoundingClientRect()}const AP={animation:!0,transitionTimerDelayMs:5},HH=()=>{},{transitionTimerDelayMs:GH}=AP,iw=new Map,Vs=(n,e,t,i)=>{let r=i.context||{};const a=iw.get(e);if(a)switch(i.runningTransition){case"continue":return xi.E;case"stop":n.run(()=>a.transition$.complete()),r=Object.assign(a.context,r),iw.delete(e)}const c=t(e,i.animation,r)||HH;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),gt(void 0).pipe(function jH(n){return e=>new Jn.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const h=new gn.x,g=new gn.x,v=h.pipe(function _j(...n){return e=>Ks(e,gt(...n))}(!0));iw.set(e,{transition$:h,complete:()=>{g.next(),g.complete()},context:r});const T=function $H(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const S=Us(e,"transitionend").pipe(vr(v),gi(({target:U})=>U===e));(function lP(...n){return 1===(n=aP(n)).length?(0,hr.Xf)(n[0]):new Jn.y(function mj(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push((0,hr.Xf)(n[i]).subscribe((0,Vn.x)(e,r=>{if(t){for(let a=0;a<t.length;a++)a!==i&&t[a].unsubscribe();t=null}e.next(r)})))}}(n))})(function LN(n=0,e,t=WA.P){let i=-1;return null!=e&&((0,fj.K)(e)?t=e:i=e),new Jn.y(r=>{let a=function pj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},a)})}(T+GH).pipe(vr(v)),S,g).pipe(vr(v)).subscribe(()=>{iw.delete(e),n.run(()=>{c(),h.next(),h.complete()})})}),h.asObservable()};let JE=(()=>{class n{constructor(){this.animation=AP.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ur]}),n})(),PP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ur]}),n})(),UP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ur]}),n})(),VP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var br=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(br||(br={})),br))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const jP=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function $P(n){const e=Array.from(n.querySelectorAll(jP)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let YP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ur,Ex]}),n})(),iM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),XP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class vg{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}}let PG=(()=>{class n{constructor(t,i){this._el=t,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(sn(1)).subscribe(()=>{Vs(this._zone,this._el.nativeElement,(t,i)=>{i&&Ny(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Vs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,i){2&t&&(u.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),u.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})();class eF{close(e){}dismiss(e){}}class FG{constructor(e,t,i,r){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new gn.x,this._dismissed=new gn.x,this._hidden=new gn.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,c)=>{this._resolve=a,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(vr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(vr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function SP(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(i=>{!1!==i&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():gt(void 0);e.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ZE(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var aw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(aw||(aw={})),aw))();let LG=(()=>{class n{constructor(t,i,r){this._document=t,this._elRef=i,this._zone=r,this._closed$=new gn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new gn.x,this.hidden=new gn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":YN(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(sn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},c=ZE(Vs(this._zone,t,()=>t.classList.remove("show"),i),Vs(this._zone,this._dialogEl.nativeElement,()=>{},i));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};ZE(Vs(this._zone,this._elRef.nativeElement,(a,c)=>{c&&Ny(a),a.classList.add("show")},t),Vs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Us(t,"keydown").pipe(vr(this._closed$),gi(r=>r.which===br.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(aw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Us(this._dialogEl.nativeElement,"mousedown").pipe(vr(this._closed$),(0,ve.b)(()=>i=!1),Xn(()=>Us(t,"mouseup").pipe(vr(this._closed$),sn(1))),gi(({target:r})=>t===r)).subscribe(()=>{i=!0}),Us(t,"click").pipe(vr(this._closed$)).subscribe(({target:r})=>{t===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(aw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const i=t.querySelector("[ngbAutofocus]"),r=$P(t)[0];(i||r||t).focus()}}_restoreFocus(){const t=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&t.contains(i)?i:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Vs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ce),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,i){if(1&t&&u.Gf(K$,7),2&t){let r;u.iGM(r=u.CRH())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,i){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),u.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),u.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:O$,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,i){1&t&&(u.F$t(),u.TgZ(0,"div",0,1)(2,"div",2),u.Hsn(3),u.qZA()()),2&t&&u.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),UG=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:a,paddingRight:c}=r;if(t>0){const h=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${h+t}px`}return r.overflow="hidden",()=>{t>0&&(r.paddingRight=c),r.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VG=(()=>{class n{constructor(t,i,r,a,c,h){this._applicationRef=t,this._injector=i,this._document=r,this._scrollBar=a,this._rendererFactory=c,this._ngZone=h,this._activeWindowCmptHasChanged=new gn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const g=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Us(e,"focusin").pipe(vr(t),(0,ht.U)(a=>a.target));Us(e,"keydown").pipe(vr(t),gi(a=>a.which===br.Tab),UN(r)).subscribe(([a,c])=>{const[h,g]=$P(e);(c===h||c===e)&&a.shiftKey&&(g.focus(),a.preventDefault()),c===g&&!a.shiftKey&&(h.focus(),a.preventDefault())}),i&&Us(e,"click").pipe(vr(t),UN(r),(0,ht.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,g.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(g.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,r){const a=r.container instanceof HTMLElement?r.container:gg(r.container)?this._document.querySelector(r.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const h=new eF,g=this._getContentRef(r.injector||t,i,h,r);let v=!1!==r.backdrop?this._attachBackdrop(a):void 0,T=this._attachWindowComponent(a,g.nodes),S=new FG(T,g,v,r.beforeDismiss);return this._registerModalRef(S),this._registerWindowCmpt(T),S.hidden.pipe(sn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),h.close=x=>{S.close(x)},h.dismiss=x=>{S.dismiss(x)},this._applyWindowOptions(T.instance,r),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),v&&v.instance&&(this._applyBackdropOptions(v.instance,r),v.changeDetectorRef.detectChanges()),T.changeDetectorRef.detectChanges(),S}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=(0,u.LMc)(PG,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let r=(0,u.LMc)(LG,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,i){this._windowAttributes.forEach(r=>{gg(i[r])&&(t[r]=i[r])})}_applyBackdropOptions(t,i){this._backdropAttributes.forEach(r=>{gg(i[r])&&(t[r]=i[r])})}_getContentRef(t,i,r,a){return i?i instanceof u.Rgc?this._createFromTemplateRef(i,r):YN(i)?this._createFromString(i):this._createFromComponent(t,i,r,a):new vg([])}_createFromTemplateRef(t,i){const a=t.createEmbeddedView({$implicit:i,close(c){i.close(c)},dismiss(c){i.dismiss(c)}});return this._applicationRef.attachView(a),new vg([a.rootNodes],a)}_createFromString(t){const i=this._document.createTextNode(`${t}`);return new vg([[i]])}_createFromComponent(t,i,r,a){const c=u.zs3.create({providers:[{provide:eF,useValue:r}],parent:t}),h=(0,u.LMc)(i,{environmentInjector:this._applicationRef.injector,elementInjector:c}),g=h.location.nativeElement;return a.scrollable&&g.classList.add("component-host-scrollable"),this._applicationRef.attachView(h.hostView),new vg([[g]],h.hostView,h)}_setAriaHidden(t){const i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==t&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const i=()=>{const r=this._modalRefs.indexOf(t);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(ce),u.LFG(UG),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rM=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(JE))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sM=(()=>{class n{constructor(t,i,r){this._injector=t,this._modalStack=i,this._config=r}open(t,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,t,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3),u.LFG(VG),u.LFG(rM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[sM]}),n})(),sF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ur]}),n})(),fF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ur]}),n})(),gF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ur]}),n})(),mF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ur]}),n})(),_F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ur]}),n})(),yF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ur]}),n})(),vF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ur]}),n})(),bF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function JG(){return 100}});let wF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ur]}),n})(),DF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const XG=[kP,PP,UP,VP,YP,XP,tF,sF,DF,fF,gF,mF,_F,yF,vF,bF,wF];let e4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[XG,kP,PP,UP,VP,YP,XP,tF,sF,DF,fF,gF,mF,_F,yF,vF,bF,wF]}),n})();function t4(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",122)(1,"div",123)(2,"p",124),u._UZ(3,"object",125),u.qZA(),u._UZ(4,"br")(5,"br"),u.TgZ(6,"button",126),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.closeModal())}),u._uU(7,"Cerrar"),u.qZA()()()}}function n4(n,e){if(1&n&&(u.TgZ(0,"div",127)(1,"div",128),u._UZ(2,"img",129),u.qZA(),u.TgZ(3,"div",87)(4,"h6",90),u._uU(5),u.qZA(),u.TgZ(6,"p",130)(7,"a",131),u._uU(8),u.qZA()(),u.TgZ(9,"p")(10,"b"),u._uU(11,"OPINI\xd3N"),u.qZA()(),u.TgZ(12,"p"),u._uU(13),u.qZA(),u.TgZ(14,"a",132),u._uU(15,"Leer mas "),u._UZ(16,"i",133),u.qZA()()()),2&n){const t=e.$implicit;u.xp6(5),u.Oqu(t.nombre),u.xp6(3),u.hij("By: ",t.mail,""),u.xp6(5),u.Oqu(t.opinion)}}let TF=(()=>{class n{constructor(t,i,r,a){this.modalService=i,this.storege=r,this._blocservices=a,this.blocsA=[],t.backdrop="static",t.keyboard=!1}ngOnInit(){this.getBloc()}open(t){console.log("descargado archivo ");var r=this.descargarArchivo("");console.log(r),this.modalService.open(t)}closeModal(){this.modalService.dismissAll()}descargarArchivo(t){console.log("descagar archivo"),sP(FN(this.storege,"pdf/DCurriculumJeff2023.pdf")).then(i=>i.toString())}getBloc(){this._blocservices.getOpinion().subscribe(t=>{this.blocsA=[],t.forEach(i=>{console.log("entro al for"),this.blocsA.push({id:i.payload.doc.id,...i.payload.doc.data()})}),console.log(this.blocsA)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(rM),u.Y36(sM),u.Y36(Yb),u.Y36(fk))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-principal"]],decls:454,vars:1,consts:[[1,"container-fluid"],["id","about",1,"row","about-section"],[1,"col-lg-4","about-card"],[1,"font-weight-light"],[1,"line","mb-5"],[1,"mb-3"],[1,"mt-20"],["href","assets/DCurriculumJeff2023.pdf","target","_blank","download","DCurriculumJeff.pdf",1,"btn","btn-outline-danger"],["content",""],[1,"mt40","info","list-unstyled"],[1,"social-icons","pt-3"],[1,"social-item"],["href","https://www.facebook.com/jeffersonepanito.sarangovega",1,"social-link"],["aria-hidden","true",1,"ti-facebook"],["href","https://www.instagram.com/jefferson_vega/",1,"social-link"],["aria-hidden","true",1,"ti-instagram"],["href","https://github.com/Jefferson1994",1,"social-link"],["aria-hidden","true",1,"ti-github"],["href","https://www.linkedin.com/in/jefferson-sarango-vega-2714391b4/",1,"social-link"],["aria-hidden","true",1,"ti-linkedin"],[1,"row"],[1,"col-1","text-danger","pt-1"],[1,"ti-widget","icon-lg"],[1,"col-10","ml-auto","mr-3"],[1,"subtitle"],[1,"ti-paint-bucket","icon-lg"],[1,"ti-stats-up","icon-lg"],["id","resume",1,"section"],[1,"container"],[1,"mb-5"],[1,"text-danger"],[1,"col-md-6","col-lg-4"],[1,"card"],[1,"card-header"],[1,"mt-2"],[1,"line"],[1,"card-body"],["href","https://www.facebook.com/itsms2049",1,"title","text-danger"],[1,"title","text-danger"],[1,"col-lg-4"],[1,"pull-left"],[1,"card-body","pb-2"],[1,"progress","mb-3"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","97%"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","60",1,"progress-bar","bg-danger",2,"width","85%"],["role","progressbar","aria-valuenow","50","aria-valuemin","0","aria-valuemax","60",1,"progress-bar","bg-danger",2,"width","80%"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","80",1,"progress-bar","bg-danger",2,"width","90%"],["role","progressbar","aria-valuenow","75","aria-valuemin","0","aria-valuemax","70",1,"progress-bar","bg-danger",2,"width","90%"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","40",1,"progress-bar","bg-danger",2,"width","80%"],["role","progressbar","aria-valuenow","50","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","bg-danger",2,"width","67%"],[1,"section","bg-dark","text-center"],[1,"row","text-center"],[1,"col-md-6","col-lg-3"],[1,"col-5","text-right","text-light","border-right","py-3"],[1,"m-auto"],[1,"ti-alarm-clock","icon-xl"],[1,"col-7","text-left","py-3"],[1,"text-danger","font-weight-bold","font40"],[1,"text-light","mb-1"],[1,"ti-layers-alt","icon-xl"],[1,"ti-face-smile","icon-xl"],[1,"ti-heart-broken","icon-xl"],["id","service",1,"section"],[1,"mb-5","pb-4"],[1,"col-md-4","col-sm-6"],[1,"card","mb-5"],[1,"card-header","has-icon"],["aria-hidden","true",1,"ti-vector","text-danger"],[1,"card-body","px-4","py-3"],[1,"mb-3","card-title","text-dark"],["aria-hidden","true",1,"ti-write","text-danger"],["aria-hidden","true",1,"ti-package","text-danger"],["aria-hidden","true",1,"ti-map-alt","text-danger"],[1,"fa-solid","fa-circle-nodes"],["aria-hidden","true",1,"ti-bar-chart","text-danger"],["aria-hidden","true",1,"ti-support","text-danger"],["id","portfolio",1,"section","bg-custom-gray"],[1,"portfolio"],[1,"filters"],["href","#","data-filter",".new",1,"active"],["href","#","data-filter",".advertising"],["href","#","data-filter",".branding"],["href","#","data-filter",".web"],[1,"portfolio-container"],[1,"col-md-6","col-lg-4","web","new"],[1,"portfolio-item"],["src","assets/imgs/web-1.jpg","alt","Download free bootstrap 4 admin dashboard, free boootstrap 4 templates",1,"img-fluid"],[1,"content-holder"],["href","assets/imgs/web-1.jpg",1,"img-popup"],[1,"text-holder"],[1,"title"],["src","assets/imgs/web-2.jpg","alt","Download free bootstrap 4 admin dashboard, free boootstrap 4 templates",1,"img-fluid"],["href","assets/imgs/web-2.jpg",1,"img-popup"],[1,"col-md-6","col-lg-4","advertising","new"],["src","assets/imgs/advertising-2.jpg","alt","Download free bootstrap 4 admin dashboard, free boootstrap 4 templates",1,"img-fluid"],["href","assets/imgs/advertising-2.jpg",1,"img-popup"],[1,"col-md-6","col-lg-4","web"],["src","assets/imgs/web-4.jpg","alt","Download free bootstrap 4 admin dashboard, free boootstrap 4 templates",1,"img-fluid"],["href","assets/imgs/web-4.jpg",1,"img-popup"],[1,"col-md-6","col-lg-4","advertising"],["src","assets/imgs/advertising-1.jpg","alt","Download free bootstrap 4 admin dashboard, free boootstrap 4 templates",1,"img-fluid"],["href","assets/imgs/advertising-1.jpg",1,"img-popup"],["src","assets/imgs/web-3.jpg","alt","Download free bootstrap 4 admin dashboard, free boootstrap 4 templates",1,"img-fluid"],["href","assets/imgs/web-3.jpg",1,"img-popup"],["src","assets/imgs/advertising-3.jpg","alt","Download free bootstrap 4 admin dashboard, free boootstrap 4 templates",1,"img-fluid"],["href","assets/imgs/advertising-3.jpg",1,"img-popup"],["src","assets/imgs/advertising-4.jpg","alt","Download free bootstrap 4 admin dashboard, free boootstrap 4 templates",1,"img-fluid"],["href","assets/imgs/advertising-4.jpg",1,"img-popup"],[1,"col-md-6","col-lg-4","branding","new"],["src","assets/imgs/branding-1.jpg","alt","Download free bootstrap 4 admin dashboard, free boootstrap 4 templates",1,"img-fluid"],["href","assets/imgs/branding-1.jpg",1,"img-popup"],[1,"col-md-6","col-lg-4","branding"],["src","assets/imgs/branding-2.jpg","alt","Download free bootstrap 4 admin dashboard, free boootstrap 4 templates",1,"img-fluid"],["href","assets/imgs/branding-2.jpg",1,"img-popup"],["src","assets/imgs/branding-3.jpg","alt","Download free bootstrap 4 admin dashboard, free boootstrap 4 templates",1,"img-fluid"],["href","assets/imgs/branding-3.jpg",1,"img-popup"],["src","assets/imgs/branding-4.jpg","alt","Download free bootstrap 4 admin dashboard, free boootstrap 4 templates",1,"img-fluid"],["href","assets/imgs/branding-4.jpg",1,"img-popup"],["src","assets/imgs/branding-5.jpg","alt","Download free bootstrap 4 admin dashboard, free boootstrap 4 templates",1,"img-fluid"],["href","assets/imgs/branding-5.jpg",1,"img-popup"],["id","blog",1,"section"],["class","blog-card",4,"ngFor","ngForOf"],[1,"modal-view-container"],[1,"modal-view-details"],[2,"text-align","center","margin-top","0","margin-bottom","0"],["data",u.$Z9`https://firebasestorage.googleapis.com/v0/b/portafolio-71ae6.appspot.com/o/pdf%2FDCurriculumJeff2023.pdf?alt=media&token=9edf7e0c-c7e8-4008-80ff-0b1df8758ed9`,"type","application/pdf","width","100%","height","592px"],[1,"modal-button",3,"click"],[1,"blog-card"],[1,"img-holder"],["src","assets/imgs/descarga3.png","alt","Download free bootstrap 4 landing page, free boootstrap 4 templates, Download free bootstrap 4.1 landing page, free boootstrap 4.1.1 templates, meyawo Landing page"],[1,"post-details"],["href","#"],["href","#",1,"read-more"],[1,"ti-angle-double-right"]],template:function(t,i){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),u._uU(4,"Ingeniero en Sistemas Informaticos"),u.qZA(),u._UZ(5,"span",4),u.TgZ(6,"h5",5),u._uU(7,"Tema de Titulaci\xf3n / Redes Neuronales Convolucinoales para mejorar imagenes medicas"),u.qZA(),u.TgZ(8,"p",6),u._uU(9,"Graduado en la Univesidad Tecnica Particular de Loja en el a\xf1o 2022"),u.qZA(),u.TgZ(10,"a",7),u._uU(11,"Descargar mi CV"),u.qZA()(),u.YNc(12,t4,8,0,"ng-template",null,8,u.W1O),u.TgZ(14,"div",2)(15,"h3",3),u._uU(16,"Informacion Personal "),u.qZA(),u._UZ(17,"span",4),u.TgZ(18,"ul",9)(19,"li")(20,"span"),u._uU(21,"Fecha de Nacimiento"),u.qZA(),u._uU(22," : 29/10/1994"),u.qZA(),u.TgZ(23,"li")(24,"span"),u._uU(25,"Email"),u.qZA(),u._uU(26," :jeffersonsarangovega@gmail.com"),u.qZA(),u.TgZ(27,"li")(28,"span"),u._uU(29,"Numero de Telefono"),u.qZA(),u._uU(30," : + (593) 989638031"),u.qZA(),u.TgZ(31,"li")(32,"span"),u._uU(33,"Direcccion"),u.qZA(),u._uU(34," : Loja , Ecuador."),u.qZA()(),u.TgZ(35,"ul",10)(36,"li",11)(37,"a",12),u._UZ(38,"i",13),u.qZA()(),u.TgZ(39,"li",11)(40,"a",14),u._UZ(41,"i",15),u.qZA()(),u.TgZ(42,"li",11)(43,"a",16),u._UZ(44,"i",17),u.qZA()(),u.TgZ(45,"li",11)(46,"a",18),u._UZ(47,"i",19),u.qZA()()()(),u.TgZ(48,"div",2)(49,"h3",3),u._uU(50,"My Expertise"),u.qZA(),u._UZ(51,"span",4),u.TgZ(52,"div",20)(53,"div",21),u._UZ(54,"i",22),u.qZA(),u.TgZ(55,"div",23)(56,"h6"),u._uU(57,"Programacion Orientada a Objetos"),u.qZA(),u.TgZ(58,"p",24),u._uU(59," Java, C++, C#"),u.qZA(),u._UZ(60,"hr"),u.qZA()(),u.TgZ(61,"div",20)(62,"div",21),u._UZ(63,"i",25),u.qZA(),u.TgZ(64,"div",23)(65,"h6"),u._uU(66,"Desarrollo Web"),u.qZA(),u.TgZ(67,"p",24),u._uU(68,"Php, Node."),u.qZA(),u._UZ(69,"hr"),u.qZA()(),u.TgZ(70,"div",20)(71,"div",21),u._UZ(72,"i",26),u.qZA(),u.TgZ(73,"div",23)(74,"h6"),u._uU(75,"Frameworks"),u.qZA(),u.TgZ(76,"p",24),u._uU(77,"Django, Angular."),u.qZA(),u._UZ(78,"hr"),u.qZA()()()()(),u.TgZ(79,"section",27)(80,"div",28)(81,"h2",29),u._UZ(82,"span",30),u._uU(83," Curriculum Vitae"),u.qZA(),u.TgZ(84,"div",20)(85,"div",31)(86,"div",32)(87,"div",33)(88,"div",34)(89,"h4"),u._uU(90,"Educacion"),u.qZA(),u._UZ(91,"span",35),u.qZA()(),u.TgZ(92,"div",36)(93,"h6",37),u._uU(94,"2012 - Instituto Tecnol\xf3gico Superior Mariano Samaniego"),u.qZA(),u.TgZ(95,"P"),u._uU(96,"T\xe9cnico en comercio"),u.qZA(),u.TgZ(97,"P",24),u._uU(98,"T\xe9cnico en comercio y administraci\xf3n Especializaci\xf3n: Aplicaciones Inform\xe1ticas."),u.qZA(),u._UZ(99,"hr"),u.TgZ(100,"h6",38),u._uU(101,"2013 - Sindicato de Choferes de Calvas"),u.qZA(),u.TgZ(102,"P"),u._uU(103,"Conductor Profesional"),u.qZA(),u.TgZ(104,"P",24),u._uU(105,"Conductor Profesional licencia tipo C ."),u.qZA(),u._UZ(106,"hr"),u.TgZ(107,"h6",38),u._uU(108,"2022 - Universidad T\xe9cnica Particular de Loja"),u.qZA(),u.TgZ(109,"P"),u._uU(110,"Ingeniero en Sistemas Informaticos y Computacion"),u.qZA(),u.TgZ(111,"P",24),u._uU(112,"Ingeniero en Sistemas Informaticos y Computacion."),u.qZA()()()(),u.TgZ(113,"div",31)(114,"div",32)(115,"div",33)(116,"div",34)(117,"h4"),u._uU(118,"Experiencia"),u.qZA(),u._UZ(119,"span",35),u.qZA()(),u.TgZ(120,"div",36)(121,"h6",38),u._uU(122,"2017 - Compucell, Calvas-Ecuador"),u.qZA(),u.TgZ(123,"P"),u._uU(124,"Tecnico"),u.qZA(),u.TgZ(125,"P",24),u._uU(126,"Reparaci\xf3n de equipos de computo ."),u.qZA(),u._UZ(127,"hr"),u.TgZ(128,"h6",38),u._uU(129,"2018 - GB Motor\u2019s, Calvas-Ecuador"),u.qZA(),u.TgZ(130,"P"),u._uU(131,"Desarrollador FULL STACK"),u.qZA(),u.TgZ(132,"P",24),u._uU(133,"Desarrollo del sistema de compra, venta y alquiler de vehiculos utilizando el framework Django ."),u.qZA(),u._UZ(134,"hr"),u.TgZ(135,"h6",38),u._uU(136,"2019 Utpl, Loja- Ecuador "),u.qZA(),u.TgZ(137,"P"),u._uU(138,"Tesista"),u.qZA(),u.TgZ(139,"P",24),u._uU(140,"Tesis desarrollada en el tema Redes Neuronales Convolucionales para el mejoramiento de Imagenes Medicas ."),u.qZA(),u._UZ(141,"hr"),u.TgZ(142,"h6",38),u._uU(143,"2022 - Nativadevs, Quito-Ecuador"),u.qZA(),u.TgZ(144,"P"),u._uU(145,"Desarrollador FULL STACK"),u.qZA(),u.TgZ(146,"P",24),u._uU(147,"Desarrollo del sistema de Control de presupuestos Utpl Dircom ."),u.qZA()()()(),u.TgZ(148,"div",39)(149,"div",32)(150,"div",33)(151,"div",40)(152,"h4",34),u._uU(153,"Skills"),u.qZA(),u._UZ(154,"span",35),u.qZA()(),u.TgZ(155,"div",41)(156,"h6"),u._uU(157,"hTL5 & CSS3"),u.qZA(),u.TgZ(158,"div",42),u._UZ(159,"div",43),u.qZA(),u.TgZ(160,"h6"),u._uU(161,"JavaScript"),u.qZA(),u.TgZ(162,"div",42),u._UZ(163,"div",44),u.qZA(),u.TgZ(164,"h6"),u._uU(165,"PHP"),u.qZA(),u.TgZ(166,"div",42),u._UZ(167,"div",45),u.qZA(),u.TgZ(168,"h6"),u._uU(169,"SQL"),u.qZA(),u.TgZ(170,"div",42),u._UZ(171,"div",46),u.qZA(),u.TgZ(172,"h6"),u._uU(173,"Angular"),u.qZA(),u.TgZ(174,"div",42),u._UZ(175,"div",47),u.qZA(),u.TgZ(176,"h6"),u._uU(177,"Django"),u.qZA(),u.TgZ(178,"div",42),u._UZ(179,"div",46),u.qZA()()(),u.TgZ(180,"div",32)(181,"div",33)(182,"div",40)(183,"h4",34),u._uU(184,"Languages"),u.qZA(),u._UZ(185,"span",35),u.qZA()(),u.TgZ(186,"div",41)(187,"h6"),u._uU(188,"Spanish"),u.qZA(),u.TgZ(189,"div",42),u._UZ(190,"div",48),u.qZA(),u.TgZ(191,"h6"),u._uU(192,"English"),u.qZA(),u.TgZ(193,"div",42),u._UZ(194,"div",49),u.qZA()()()()()()(),u.TgZ(195,"section",50)(196,"div",28)(197,"div",51)(198,"div",52)(199,"div",20)(200,"div",53)(201,"div",54),u._UZ(202,"i",55),u.qZA()(),u.TgZ(203,"div",56)(204,"h1",57),u._uU(205,"500"),u.qZA(),u.TgZ(206,"p",58),u._uU(207,"Horas Trabajadas"),u.qZA()()()(),u.TgZ(208,"div",52)(209,"div",20)(210,"div",53)(211,"div",54),u._UZ(212,"i",59),u.qZA()(),u.TgZ(213,"div",56)(214,"h1",57),u._uU(215,"6"),u.qZA(),u.TgZ(216,"p",58),u._uU(217,"Proyectos Finalizados"),u.qZA()()()(),u.TgZ(218,"div",52)(219,"div",20)(220,"div",53)(221,"div",54),u._UZ(222,"i",60),u.qZA()(),u.TgZ(223,"div",56)(224,"h1",57),u._uU(225,"200K"),u.qZA(),u.TgZ(226,"p",58),u._uU(227,"Clientes felices"),u.qZA()()()(),u.TgZ(228,"div",52)(229,"div",20)(230,"div",53)(231,"div",54),u._UZ(232,"i",61),u.qZA()(),u.TgZ(233,"div",56)(234,"h1",57),u._uU(235,"2k"),u.qZA(),u.TgZ(236,"p",58),u._uU(237,"Coffee Drinked"),u.qZA()()()()()()(),u.TgZ(238,"section",62)(239,"div",28)(240,"h2",63)(241,"span",30),u._uU(242,"Mis"),u.qZA(),u._uU(243," Proyectos"),u.qZA(),u.TgZ(244,"div",20)(245,"div",64)(246,"div",65)(247,"div",66),u._UZ(248,"i",67),u.qZA(),u.TgZ(249,"div",68)(250,"h5",69),u._uU(251,"Proyecto JAR"),u.qZA(),u.TgZ(252,"P",24),u._uU(253,"Desarrollo de sistema de Publicidad por medio de anuncios utilizando tecnolog\xedas como Python, Django, postgres, heroku."),u.qZA()()()(),u.TgZ(254,"div",64)(255,"div",65)(256,"div",66),u._UZ(257,"i",70),u.qZA(),u.TgZ(258,"div",68)(259,"h5",69),u._uU(260,"Reserva de Canchas Sint\xe9ticas"),u.qZA(),u.TgZ(261,"P",24),u._uU(262,"Desarrollo de sistema de reserva de canchas sint\xe9ticas utilizando tecnolog\xedas como java."),u.qZA()()()(),u.TgZ(263,"div",64)(264,"div",65)(265,"div",66),u._UZ(266,"i",71),u.qZA(),u.TgZ(267,"div",68)(268,"h5",69),u._uU(269,"Digitalizaci\xf3n de Men\xfas"),u.qZA(),u.TgZ(270,"P",24),u._uU(271,"Desarrollo de p\xe1gina web con el men\xfa de restaurantes y con aplicaci\xf3n de c\xf3digo QR para poder acceder al men\xfa desde los dispositivos m\xf3viles utilizando django con bootstrap como tecnolog\xedas principales ."),u.qZA()()()(),u.TgZ(272,"div",64)(273,"div",65)(274,"div",66),u._UZ(275,"i",72),u.qZA(),u.TgZ(276,"div",73)(277,"h5",69),u._uU(278,"Sistema Interactivo Leap Motion"),u.qZA(),u.TgZ(279,"P",24),u._uU(280,"Desarrollo de sistema de informaci\xf3n con el dispositivo leap motion para brindar informaci\xf3n accediendo mediante gestos de las manos que reconoce el dispositivo, tecnolog\xeda utilizada java."),u.qZA()()()(),u.TgZ(281,"div",64)(282,"div",65)(283,"div",66),u._UZ(284,"i",74),u.qZA(),u.TgZ(285,"div",68)(286,"h5",69),u._uU(287,"Simulaci\xf3n de mundos Virtuales Osgrid"),u.qZA(),u.TgZ(288,"P",24),u._uU(289,"Desarrollo de mundos virtuales en la plataforma Osgrid."),u.qZA()()()(),u.TgZ(290,"div",64)(291,"div",65)(292,"div",66),u._UZ(293,"i",75),u.qZA(),u.TgZ(294,"div",68)(295,"h5",69),u._uU(296,"Reconocimiento del Lenguaje Natural"),u.qZA(),u.TgZ(297,"P",24),u._uU(298,"\u2014 Web Sem\xe1ntica , desarrollo de un proyecto de reconocimiento del lenguaje natural con python y la librer\xeda Spacy."),u.qZA()()()()()()(),u.TgZ(299,"section",76)(300,"div",28)(301,"h1",29)(302,"span",30),u._uU(303,"My"),u.qZA(),u._uU(304," Portfolio"),u.qZA(),u.TgZ(305,"div",77)(306,"div",78)(307,"a",79),u._uU(308," New "),u.qZA(),u.TgZ(309,"a",80),u._uU(310," Advertising "),u.qZA(),u.TgZ(311,"a",81),u._uU(312," Branding "),u.qZA(),u.TgZ(313,"a",82),u._uU(314," Web "),u.qZA()(),u.TgZ(315,"div",83)(316,"div",84)(317,"div",85),u._UZ(318,"img",86),u.TgZ(319,"div",87),u._UZ(320,"a",88),u.TgZ(321,"div",89)(322,"h6",90),u._uU(323,"WEB"),u.qZA(),u.TgZ(324,"p",24),u._uU(325,"Expedita corporis doloremque velit in totam!"),u.qZA()()()()(),u.TgZ(326,"div",84)(327,"div",85),u._UZ(328,"img",91),u.TgZ(329,"div",87),u._UZ(330,"a",92),u.TgZ(331,"div",89)(332,"h6",90),u._uU(333,"WEB"),u.qZA(),u.TgZ(334,"p",24),u._uU(335,"Expedita corporis doloremque velit in totam!"),u.qZA()()()()(),u.TgZ(336,"div",93)(337,"div",85),u._UZ(338,"img",94),u.TgZ(339,"div",87),u._UZ(340,"a",95),u.TgZ(341,"div",89)(342,"h6",90),u._uU(343,"ADVERSTISING"),u.qZA(),u.TgZ(344,"p",24),u._uU(345,"Expedita corporis doloremque velit in totam!"),u.qZA()()()()(),u.TgZ(346,"div",96)(347,"div",85),u._UZ(348,"img",97),u.TgZ(349,"div",87),u._UZ(350,"a",98),u.TgZ(351,"div",89)(352,"h6",90),u._uU(353,"WEB"),u.qZA(),u.TgZ(354,"p",24),u._uU(355,"Expedita corporis doloremque velit in totam!"),u.qZA()()()()(),u.TgZ(356,"div",99)(357,"div",85),u._UZ(358,"img",100),u.TgZ(359,"div",87),u._UZ(360,"a",101),u.TgZ(361,"div",89)(362,"h6",90),u._uU(363,"ADVERSITING"),u.qZA(),u.TgZ(364,"p",24),u._uU(365,"Expedita corporis doloremque velit in totam!"),u.qZA()()()()(),u.TgZ(366,"div",84)(367,"div",85),u._UZ(368,"img",102),u.TgZ(369,"div",87),u._UZ(370,"a",103),u.TgZ(371,"div",89)(372,"h6",90),u._uU(373,"WEB"),u.qZA(),u.TgZ(374,"p",24),u._uU(375,"Expedita corporis doloremque velit in totam!"),u.qZA()()()()(),u.TgZ(376,"div",93)(377,"div",85),u._UZ(378,"img",104),u.TgZ(379,"div",87),u._UZ(380,"a",105),u.TgZ(381,"div",89)(382,"h6",90),u._uU(383,"ADVERSITING"),u.qZA(),u.TgZ(384,"p",24),u._uU(385,"Expedita corporis doloremque velit in totam!"),u.qZA()()()()(),u.TgZ(386,"div",93)(387,"div",85),u._UZ(388,"img",106),u.TgZ(389,"div",87),u._UZ(390,"a",107),u.TgZ(391,"div",89)(392,"h6",90),u._uU(393,"ADVERTISING"),u.qZA(),u.TgZ(394,"p",24),u._uU(395,"Expedita corporis doloremque velit in totam!"),u.qZA()()()()(),u.TgZ(396,"div",108)(397,"div",85),u._UZ(398,"img",109),u.TgZ(399,"div",87),u._UZ(400,"a",110),u.TgZ(401,"div",89)(402,"h6",90),u._uU(403,"BRANDING"),u.qZA(),u.TgZ(404,"p",24),u._uU(405,"Expedita corporis doloremque velit in totam!"),u.qZA()()()()(),u.TgZ(406,"div",111)(407,"div",85),u._UZ(408,"img",112),u.TgZ(409,"div",87),u._UZ(410,"a",113),u.TgZ(411,"div",89)(412,"h6",90),u._uU(413,"BRANDING"),u.qZA(),u.TgZ(414,"p",24),u._uU(415,"Expedita corporis doloremque velit in totam!"),u.qZA()()()()(),u.TgZ(416,"div",108)(417,"div",85),u._UZ(418,"img",114),u.TgZ(419,"div",87),u._UZ(420,"a",115),u.TgZ(421,"div",89)(422,"h6",90),u._uU(423,"BRANDING"),u.qZA(),u.TgZ(424,"p",24),u._uU(425,"Expedita corporis doloremque velit in totam!"),u.qZA()()()()(),u.TgZ(426,"div",111)(427,"div",85),u._UZ(428,"img",116),u.TgZ(429,"div",87),u._UZ(430,"a",117),u.TgZ(431,"div",89)(432,"h6",90),u._uU(433,"BRANDING"),u.qZA(),u.TgZ(434,"p",24),u._uU(435,"Expedita corporis doloremque velit in totam!"),u.qZA()()()()(),u.TgZ(436,"div",111)(437,"div",85),u._UZ(438,"img",118),u.TgZ(439,"div",87),u._UZ(440,"a",119),u.TgZ(441,"div",89)(442,"h6",90),u._uU(443,"BRANDING"),u.qZA(),u.TgZ(444,"p",24),u._uU(445,"Expedita corporis doloremque velit in totam!"),u.qZA()()()()()()()()(),u.TgZ(446,"section",120)(447,"div",28)(448,"h2",29),u._uU(449,"Opinion de los "),u.TgZ(450,"span",30),u._uU(451,"Clientes"),u.qZA()(),u.TgZ(452,"div",20),u.YNc(453,n4,17,3,"div",121),u.qZA()()()),2&t&&(u.xp6(453),u.Q6J("ngForOf",i.blocsA))},dependencies:[Er],styles:[".view.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:2;transform:scale(1.15);transition:transform .1s cubic-bezier(.465,.183,.153,.946),opacity .1s cubic-bezier(.465,.183,.153,.946);pointer-events:none;opacity:0;will-change:transform,opacity}.view.modal.visible[_ngcontent-%COMP%]{pointer-events:auto;opacity:1;transform:scale(1);transition:transform .3s cubic-bezier(.465,.183,.153,.946),opacity .3s cubic-bezier(.465,.183,.153,.946)}.modal-view-details[_ngcontent-%COMP%]{background:#FFF;z-index:2;position:fixed;left:50%;top:50%;width:65%;max-width:100%;transform:translate(-50%,-50%);border-radius:2px;box-shadow:0 10px 20px #0009}.modal-view-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.2em 0 .4em;padding:0;line-height:1;font-size:24px;color:#111}.modal-view-details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;background:none;color:#3c78d8;border-radius:2px;border:none;font-size:16px;padding:6px 10px;text-transform:uppercase}"]}),n})();const i4=[{path:"principal",component:TF},{path:"contacto",component:Tk}];let r4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[mv.forRoot(i4),mv]}),n})();function s4(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",38)(1,"div",39)(2,"p",40),u._UZ(3,"object",41),u.qZA(),u._UZ(4,"br")(5,"br"),u.TgZ(6,"button",42),u.NdJ("click",function(){u.CHM(t);const r=u.oxw();return u.KtG(r.closeModal())}),u._uU(7,"Cerrar"),u.qZA()()()}}let o4=(()=>{class n{constructor(t,i,r){this.modalService=i,this.storege=r,t.backdrop="static",t.keyboard=!1}open(t){console.log("descargado archivo ");var r=this.descargarArchivo("");console.log(r),this.modalService.open(t)}closeModal(){this.modalService.dismissAll()}ngOnInit(){}cargarArchivo(t){const i=t.target.files[0];console.log(i);const r=FN(this.storege,"images/${file.name}");sj(r,i).then(a=>console.log(a)).catch(a=>console.log(a))}descargarArchivo(t){console.log("descagar archivo"),sP(FN(this.storege,"pdf/DCurriculumJeff2023.pdf")).then(i=>i.toString())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(rM),u.Y36(sM),u.Y36(Yb))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navar"]],decls:61,vars:0,consts:[[1,"header"],[1,"container"],[1,"social-icons","pt-3"],[1,"social-item"],["href","https://www.facebook.com/jeffersonepanito.sarangovega",1,"social-link","text-light"],["aria-hidden","true",1,"ti-facebook"],["href","https://www.instagram.com/jefferson_vega/",1,"social-link","text-light"],["aria-hidden","true",1,"ti-instagram"],["href","https://github.com/Jefferson1994",1,"social-link","text-light"],["aria-hidden","true",1,"ti-github"],["href","https://www.linkedin.com/in/jefferson-sarango-vega-2714391b4/",1,"social-link","text-light"],["aria-hidden","true",1,"ti-linkedin"],[1,"header-content"],[1,"header-subtitle"],[1,"header-title"],[1,"header-mono"],[1,"btn","btn-primary","btn-rounded",3,"click"],[1,"ti-printer","pr-2"],["content",""],["data-spy","affix","data-offset-top","510",1,"navbar","sticky-top","navbar-expand-lg","navbar-light","bg-white"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","ml-auto"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","mt-sm-20","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["href","#home",1,"nav-link"],["href","#about",1,"nav-link"],["href","#resume",1,"nav-link"],[1,"navbar-nav","brand"],["src","assets/imgs/avatar1.jpg","alt","",1,"brand-img"],[1,"brand-txt"],[1,"brand-title"],[1,"brand-subtitle"],[1,"navbar-nav","ml-auto"],["href","#portfolio",1,"nav-link"],["href","#blog",1,"nav-link"],[1,"nav-item","last-item"],["href","#contact",1,"nav-link"],[1,"modal-view-container"],[1,"modal-view-details"],[2,"text-align","center","margin-top","0","margin-bottom","0"],["data",u.$Z9`https://firebasestorage.googleapis.com/v0/b/portafolio-71ae6.appspot.com/o/pdf%2FDCurriculumJeff2023.pdf?alt=media&token=9edf7e0c-c7e8-4008-80ff-0b1df8758ed9`,"type","application/pdf","width","100%","height","592px"],[1,"modal-button",3,"click"]],template:function(t,i){if(1&t){const r=u.EpF();u.TgZ(0,"header",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4),u._UZ(5,"i",5),u.qZA()(),u.TgZ(6,"li",3)(7,"a",6),u._UZ(8,"i",7),u.qZA()(),u.TgZ(9,"li",3)(10,"a",8),u._UZ(11,"i",9),u.qZA()(),u.TgZ(12,"li",3)(13,"a",10),u._UZ(14,"i",11),u.qZA()()(),u.TgZ(15,"div",12)(16,"h4",13),u._uU(17,"Hola, soy"),u.qZA(),u._UZ(18,"hr"),u.TgZ(19,"h6",14),u._uU(20,"Jefferson Sarango "),u.qZA(),u._UZ(21,"hr"),u.TgZ(22,"h6",15),u._uU(23,"Desarrollador"),u.qZA(),u.TgZ(24,"button",16),u.NdJ("click",function(){u.CHM(r);const c=u.MAs(28);return u.KtG(i.open(c))}),u._UZ(25,"i",17),u._uU(26,"Print Resume"),u.qZA()()()(),u.YNc(27,s4,8,0,"ng-template",null,18,u.W1O),u.TgZ(29,"nav",19)(30,"div",1)(31,"button",20),u._UZ(32,"span",21),u.qZA(),u.TgZ(33,"div",22)(34,"ul",23)(35,"li",24)(36,"a",25),u._uU(37,"Home"),u.qZA()(),u.TgZ(38,"li",24)(39,"a",26),u._uU(40,"Acerca"),u.qZA()(),u.TgZ(41,"li",24)(42,"a",27),u._uU(43,"Resume"),u.qZA()()(),u.TgZ(44,"ul",28),u._UZ(45,"img",29),u.TgZ(46,"li",30)(47,"h5",31),u._uU(48,"Jefferson Sarango"),u.qZA(),u.TgZ(49,"div",32),u._uU(50,"Ing. Sistemas Informaticos y Computacion | Desarrollador"),u.qZA()()(),u.TgZ(51,"ul",33)(52,"li",24)(53,"a",34),u._uU(54,"Portfolio"),u.qZA()(),u.TgZ(55,"li",24)(56,"a",35),u._uU(57,"Blog"),u.qZA()(),u.TgZ(58,"li",36)(59,"a",37),u._uU(60,"Contacto"),u.qZA()()()()()()}},dependencies:[iM],styles:[".view.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:2;transform:scale(1.15);transition:transform .1s cubic-bezier(.465,.183,.153,.946),opacity .1s cubic-bezier(.465,.183,.153,.946);pointer-events:none;opacity:0;will-change:transform,opacity}.view.modal.visible[_ngcontent-%COMP%]{pointer-events:auto;opacity:1;transform:scale(1);transition:transform .3s cubic-bezier(.465,.183,.153,.946),opacity .3s cubic-bezier(.465,.183,.153,.946)}.modal-view-details[_ngcontent-%COMP%]{background:#FFF;z-index:2;position:fixed;left:50%;top:50%;width:65%;max-width:100%;transform:translate(-50%,-50%);border-radius:2px;box-shadow:0 10px 20px #0009}.modal-view-details[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.2em 0 .4em;padding:0;line-height:1;font-size:24px;color:#111}.modal-view-details[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:10px;background:none;color:#3c78d8;border-radius:2px;border:none;font-size:16px;padding:6px 10px;text-transform:uppercase}"]}),n})(),a4=(()=>{class n{constructor(){this.title="portafolio"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:0,template:function(t,i){1&t&&u._UZ(0,"app-navar")(1,"app-principal")(2,"app-contacto")(3,"router-outlet")},dependencies:[tv,o4,TF,Tk]}),n})();const uM_firebase={apiKey:"AIzaSyDBxcPKPdHBEIrbsWkvuuznZdSL96ht4Qg",authDomain:"portafolio-71ae6.firebaseapp.com",projectId:"portafolio-71ae6",storageBucket:"portafolio-71ae6.appspot.com",messagingSenderId:"914879210657",appId:"1:914879210657:web:e4c9d31ab3019df5007ce0"};function EF(n){return new u.vHH(3e3,!1)}function $4(){return typeof window<"u"&&typeof window.document<"u"}function cM(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function df(n){switch(n.length){case 0:return new qb;case 1:return n[0];default:return new vk(n)}}function IF(n,e,t,i,r=new Map,a=new Map){const c=[],h=[];let g=-1,v=null;if(i.forEach(T=>{const S=T.get("offset"),x=S==g,U=x&&v||new Map;T.forEach((G,K)=>{let X=K,Ne=G;if("offset"!==K)switch(X=e.normalizePropertyName(X,c),Ne){case"!":Ne=r.get(K);break;case Td:Ne=a.get(K);break;default:Ne=e.normalizeStyleValue(K,X,Ne,c)}U.set(X,Ne)}),x||h.push(U),v=U,g=S}),c.length)throw function M4(n){return new u.vHH(3502,!1)}();return h}function dM(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&hM(t,"start",n)));break;case"done":n.onDone(()=>i(t&&hM(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&hM(t,"destroy",n)))}}function hM(n,e,t){const a=fM(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function fM(n,e,t,i,r="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!c}}function Po(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function CF(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let pM=(n,e)=>!1,SF=(n,e,t)=>[],AF=null;function gM(n){const e=n.parentNode||n.host;return e===AF?null:e}(cM()||typeof Element<"u")&&($4()?(AF=(()=>document.documentElement)(),pM=(n,e)=>{for(;e;){if(e===n)return!0;e=gM(e)}return!1}):pM=(n,e)=>n.contains(e),SF=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let bg=null,NF=!1;const MF=pM,OF=SF;let RF=(()=>{class n{validateStyleProperty(t){return function G4(n){bg||(bg=function q4(){return typeof document<"u"?document.body:null}()||{},NF=!!bg.style&&"WebkitAppearance"in bg.style);let e=!0;return bg.style&&!function H4(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in bg.style,!e&&NF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in bg.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return MF(t,i)}getParentElement(t){return gM(t)}query(t,i,r){return OF(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,c,h=[],g){return new qb(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),mM=(()=>{class n{}return n.NOOP=new RF,n})();const _M="ng-enter",oI="ng-leave",aI="ng-trigger",lI=".ng-trigger",kF="ng-animating",yM=".ng-animating";function Ad(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:vM(parseFloat(e[1]),e[2])}function vM(n,e){return"s"===e?1e3*n:n}function uI(n,e,t){return n.hasOwnProperty("duration")?n:function W4(n,e,t){let r,a=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(EF()),{duration:0,delay:0,easing:""};r=vM(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(a=vM(parseFloat(g),h[4]));const v=h[5];v&&(c=v)}else r=n;if(!t){let h=!1,g=e.length;r<0&&(e.push(function l4(){return new u.vHH(3100,!1)}()),h=!0),a<0&&(e.push(function u4(){return new u.vHH(3101,!1)}()),h=!0),h&&e.splice(g,0,EF())}return{duration:r,delay:a,easing:c}}(n,e,t)}function lw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function PF(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function hf(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function LF(n,e,t){return t?e+":"+t+";":""}function UF(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=LF(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=LF(0,J4(t),n.style[t]));n.setAttribute("style",e)}function ic(n,e,t){n.style&&(e.forEach((i,r)=>{const a=wM(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),cM()&&UF(n))}function wg(n,e){n.style&&(e.forEach((t,i)=>{const r=wM(i);n.style[r]=""}),cM()&&UF(n))}function uw(n){return Array.isArray(n)?1==n.length?n[0]:mk(n):n}const bM=new RegExp("{{\\s*(.+?)\\s*}}","g");function VF(n){let e=[];if("string"==typeof n){let t;for(;t=bM.exec(n);)e.push(t[1]);bM.lastIndex=0}return e}function cw(n,e,t){const i=n.toString(),r=i.replace(bM,(a,c)=>{let h=e[c];return null==h&&(t.push(function d4(n){return new u.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function cI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Q4=/-+([a-z0-9])/g;function wM(n){return n.replace(Q4,(...e)=>e[1].toUpperCase())}function J4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Fo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function h4(n){return new u.vHH(3004,!1)}()}}function BF(n,e){return window.getComputedStyle(n)[e]}function r6(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function s6(n,e,t){if(":"==n[0]){const g=function o6(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function C4(n){return new u.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function I4(n){return new u.vHH(3015,!1)}()),e;const r=i[1],a=i[2],c=i[3];e.push(jF(r,c));"<"==a[0]&&!("*"==r&&"*"==c)&&e.push(jF(c,r))}(i,t,e)):t.push(n),t}const pI=new Set(["true","1"]),gI=new Set(["false","0"]);function jF(n,e){const t=pI.has(n)||gI.has(n),i=pI.has(e)||gI.has(e);return(r,a)=>{let c="*"==n||n==r,h="*"==e||e==a;return!c&&t&&"boolean"==typeof r&&(c=r?pI.has(n):gI.has(n)),!h&&i&&"boolean"==typeof a&&(h=a?pI.has(e):gI.has(e)),c&&h}}const a6=new RegExp("s*:selfs*,?","g");function DM(n,e,t,i){return new l6(n).build(e,t,i)}class l6{constructor(e){this._driver=e}build(e,t,i){const r=new d6(t);return this._resetContextStyleTimingState(r),Fo(this,uw(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function p4(){return new u.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const g=h,v=g.name;v.toString().split(/\s*,\s*/).forEach(T=>{g.name=T,a.push(this.visitState(g,t))}),g.name=v}else if(1==h.type){const g=this.visitTransition(h,t);i+=g.queryCount,r+=g.depCount,c.push(g)}else t.errors.push(function g4(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,c=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{VF(g).forEach(v=>{c.hasOwnProperty(v)||a.add(v)})})}),a.size&&(cI(a.values()),t.errors.push(function m4(n,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Fo(this,uw(e.animation),t);return{type:1,matchers:r6(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Dg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Fo(this,i,t)),options:Dg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(c=>{t.currentTime=i;const h=Fo(this,c,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:a,options:Dg(e.options)}}visitAnimate(e,t){const i=function f6(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return TM(uI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=TM(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=uI(t,e);return TM(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:Gb({});if(5==a.type)r=this.visitKeyframes(a,t);else{let c=e.styles,h=!1;if(!c){h=!0;const v={};i.easing&&(v.easing=i.easing),c=Gb(v)}t.currentTime+=i.duration+i.delay;const g=this.visitStyle(c,t);g.isEmptyStep=h,r=g}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===Td?i.push(h):t.errors.push(new u.vHH(3002,!1)):i.push(PF(h));let a=!1,c=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!a))for(let g of h.values())if(g.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,g)=>{const v=t.collectedStyles.get(t.currentQuerySelector),T=v.get(g);let S=!0;T&&(a!=r&&a>=T.startTime&&r<=T.endTime&&(t.errors.push(function y4(n,e,t,i,r){return new u.vHH(3010,!1)}()),S=!1),a=T.startTime),S&&v.set(g,{startTime:a,endTime:r}),t.options&&function Y4(n,e,t){const i=e.params||{},r=VF(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function c4(n){return new u.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function v4(){return new u.vHH(3011,!1)}()),i;let a=0;const c=[];let h=!1,g=!1,v=0;const T=e.steps.map(Ne=>{const je=this._makeStyleAst(Ne,t);let He=null!=je.offset?je.offset:function h6(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(je.styles),Me=0;return null!=He&&(a++,Me=je.offset=He),g=g||Me<0||Me>1,h=h||Me<v,v=Me,c.push(Me),je});g&&t.errors.push(function b4(){return new u.vHH(3012,!1)}()),h&&t.errors.push(function w4(){return new u.vHH(3200,!1)}());const S=e.steps.length;let x=0;a>0&&a<S?t.errors.push(function D4(){return new u.vHH(3202,!1)}()):0==a&&(x=1/(S-1));const U=S-1,G=t.currentTime,K=t.currentAnimateTimings,X=K.duration;return T.forEach((Ne,je)=>{const He=x>0?je==U?1:x*je:c[je],Me=He*X;t.currentTime=G+K.delay+Me,K.duration=Me,this._validateStyleAst(Ne,t),Ne.offset=He,i.styles.push(Ne)}),i}visitReference(e,t){return{type:8,animation:Fo(this,uw(e.animation),t),options:Dg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Dg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Dg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function u6(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(a6,"")),n=n.replace(/@\*/g,lI).replace(/@\w+/g,t=>lI+"-"+t.slice(1)).replace(/:animating/g,yM),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,Po(t.collectedStyles,t.currentQuerySelector,new Map);const h=Fo(this,uw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:Dg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function T4(){return new u.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:uI(e.timings,t.errors,!0);return{type:12,animation:Fo(this,uw(e.animation),t),timings:i,options:null}}}class d6{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Dg(n){return n?(n=lw(n)).params&&(n.params=function c6(n){return n?lw(n):null}(n.params)):n={},n}function TM(n,e,t){return{duration:n,delay:e,easing:t}}function EM(n,e,t,i,r,a,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:c,subTimeline:h}}class mI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const m6=new RegExp(":enter","g"),y6=new RegExp(":leave","g");function IM(n,e,t,i,r,a=new Map,c=new Map,h,g,v=[]){return(new v6).buildKeyframes(n,e,t,i,r,a,c,h,g,v)}class v6{buildKeyframes(e,t,i,r,a,c,h,g,v,T=[]){v=v||new mI;const S=new CM(e,t,v,r,a,T,[]);S.options=g;const x=g.delay?Ad(g.delay):0;S.currentTimeline.delayNextStep(x),S.currentTimeline.setStyles([c],null,S.errors,g),Fo(this,i,S);const U=S.timelines.filter(G=>G.containsAnimation());if(U.length&&h.size){let G;for(let K=U.length-1;K>=0;K--){const X=U[K];if(X.element===t){G=X;break}}G&&!G.allowOnlyTimelineStyles()&&G.setStyles([h],null,S.errors,g)}return U.length?U.map(G=>G.buildKeyframes()):[EM(t,[],[],[],0,x,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const a=r?.delay;if(a){const c="number"==typeof a?a:Ad(cw(a,r?.params??{},t.errors));i.delayNextStep(c)}}}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const c=null!=i.duration?Ad(i.duration):null,h=null!=i.delay?Ad(i.delay):null;return 0!==c&&e.forEach(g=>{const v=t.appendInstructionToTimeline(g,c,h);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Fo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=_I);const c=Ad(a.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Fo(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Ad(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);a&&h.delayNextStep(a),Fo(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return uI(t.params?cw(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(g=>{h.forwardTime((g.offset||0)*a),h.setStyles(g.styles,g.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Ad(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=_I);let c=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let g=null;h.forEach((v,T)=>{t.currentQueryIndex=T;const S=t.createSubContext(e.options,v);a&&S.delayNextStep(a),v===t.element&&(g=S.currentTimeline),Fo(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),h=c*(t.currentQueryTotal-1);let g=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=h-g;break;case"full":g=i.currentStaggerTime}const T=t.currentTimeline;g&&T.delayNextStep(g);const S=T.currentTime;Fo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const _I={};class CM{constructor(e,t,i,r,a,c,h,g){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_I,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new yI(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Ad(i.duration)),null!=i.delay&&(r.delay=Ad(i.delay));const a=i.params;if(a){let c=r.params;c||(c=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=cw(a[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new CM(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=_I,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new b6(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,c){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(m6,"."+this._enterClassName)).replace(y6,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!a&&0==h.length&&c.push(function E4(n){return new u.vHH(3014,!1)}()),h}}class yI{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new yI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Td),this._currentKeyframe.set(t,Td);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},c=function w6(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,Td)}else hf(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,g]of c){const v=cw(g,a,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Td),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,g)=>{const v=hf(h,new Map,this._backFill);v.forEach((T,S)=>{"!"===T?e.add(S):T===Td&&t.add(S)}),i||v.set("offset",g/this.duration),r.push(v)});const a=e.size?cI(e.values()):[],c=t.size?cI(t.values()):[];if(i){const h=r[0],g=new Map(h);h.set("offset",0),g.set("offset",1),r=[h,g]}return EM(this.element,r,a,c,this.duration,this.startTime,this.easing,!1)}}class b6 extends yI{constructor(e,t,i,r,a,c,h=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=i+t,h=t/c,g=hf(e[0]);g.set("offset",0),a.push(g);const v=hf(e[0]);v.set("offset",GF(h)),a.push(v);const T=e.length-1;for(let S=1;S<=T;S++){let x=hf(e[S]);const U=x.get("offset");x.set("offset",GF((t+U*i)/c)),a.push(x)}i=c,t=0,r="",e=a}return EM(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function GF(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class SM{}const D6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class T6 extends SM{normalizePropertyName(e,t){return wM(e)}normalizeStyleValue(e,t,i,r){let a="";const c=i.toString().trim();if(D6.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function f4(n,e){return new u.vHH(3005,!1)}())}return c+a}}function qF(n,e,t,i,r,a,c,h,g,v,T,S,x){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:c,timelines:h,queriedElements:g,preStyleProps:v,postStyleProps:T,totalTime:S,errors:x}}const AM={};class ZF{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function E6(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,c,h,g,v,T){const S=[],x=this.ast.options&&this.ast.options.params||AM,G=this.buildStyles(i,h&&h.params||AM,S),K=g&&g.params||AM,X=this.buildStyles(r,K,S),Ne=new Set,je=new Map,He=new Map,Me="void"===r,Ze={params:I6(K,x),delay:this.ast.options?.delay},Ke=T?[]:IM(e,t,this.ast.animation,a,c,G,X,Ze,v,S);let bt=0;if(Ke.forEach(An=>{bt=Math.max(An.duration+An.delay,bt)}),S.length)return qF(t,this._triggerName,i,r,Me,G,X,[],[],je,He,bt,S);Ke.forEach(An=>{const Gn=An.element,Ai=Po(je,Gn,new Set);An.preStyleProps.forEach(Ui=>Ai.add(Ui));const Qr=Po(He,Gn,new Set);An.postStyleProps.forEach(Ui=>Qr.add(Ui)),Gn!==t&&Ne.add(Gn)});const zt=cI(Ne.values());return qF(t,this._triggerName,i,r,Me,G,X,Ke,zt,je,He,bt)}}function I6(n,e){const t=lw(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class C6{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=lw(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(r[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,h)=>{c&&(c=cw(c,r,t));const g=this.normalizer.normalizePropertyName(h,t);c=this.normalizer.normalizeStyleValue(h,g,c,t),i.set(g,c)})}),i}}class A6{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new C6(r.style,r.options&&r.options.params||{},i))}),zF(this.states,"true","1"),zF(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new ZF(e,r,this.states))}),this.fallbackTransition=function N6(n,e,t){return new ZF(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function zF(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const M6=new mI;class O6{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=DM(this._driver,t,i,[]);if(i.length)throw function O4(n){return new u.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=IF(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let c;const h=new Map;if(a?(c=IM(this._driver,t,a,_M,oI,new Map,new Map,i,M6,r),c.forEach(T=>{const S=Po(h,T.element,new Map);T.postStyleProps.forEach(x=>S.set(x,null))})):(r.push(function R4(){return new u.vHH(3300,!1)}()),c=[]),r.length)throw function x4(n){return new u.vHH(3504,!1)}();h.forEach((T,S)=>{T.forEach((x,U)=>{T.set(U,this._driver.computeStyle(S,U,Td))})});const v=df(c.map(T=>{const S=h.get(T.element);return this._buildPlayer(T,new Map,S)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function k4(n){return new u.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=fM(t,"","","");return dM(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const WF="ng-animate-queued",NM="ng-animate-disabled",F6=[],KF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},L6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Va="__ng_removed";class MM{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function j6(n){return n??null}(i?e.value:e),i){const a=lw(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const dw="void",OM=new MM(dw);class U6{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ba(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function P4(n,e){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function F4(n){return new u.vHH(3303,!1)}();if(!function $6(n){return"start"==n||"done"==n}(i))throw function L4(n,e){return new u.vHH(3400,!1)}();const a=Po(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};a.push(c);const h=Po(this._engine.statesByElement,e,new Map);return h.has(t)||(Ba(e,aI),Ba(e,aI+"-"+t),h.set(t,OM)),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(c);g>=0&&a.splice(g,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function U4(n){return new u.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),c=new RM(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Ba(e,aI),Ba(e,aI+"-"+t),this._engine.statesByElement.set(e,h=new Map));let g=h.get(t);const v=new MM(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),h.set(t,v),g||(g=OM),v.value!==dw&&g.value===v.value){if(!function q6(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(g.params,v.params)){const K=[],X=a.matchStyles(g.value,g.params,K),Ne=a.matchStyles(v.value,v.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{wg(e,X),ic(e,Ne)})}return}const x=Po(this._engine.playersByElement,e,[]);x.forEach(K=>{K.namespaceId==this.id&&K.triggerName==t&&K.queued&&K.destroy()});let U=a.matchTransition(g.value,v.value,e,v.params),G=!1;if(!U){if(!r)return;U=a.fallbackTransition,G=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:U,fromState:g,toState:v,player:c,isFallbackTransition:G}),G||(Ba(e,WF),c.onStart(()=>{Oy(e,WF)})),c.onDone(()=>{let K=this.players.indexOf(c);K>=0&&this.players.splice(K,1);const X=this._engine.playersByElement.get(e);if(X){let Ne=X.indexOf(c);Ne>=0&&X.splice(Ne,1)}}),this.players.push(c),x.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,lI,!0);i.forEach(r=>{if(r[Va])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const h=[];if(a.forEach((g,v)=>{if(c.set(v,g.value),this._triggers.has(v)){const T=this.trigger(e,v,dw,r);T&&h.push(T)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&df(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const c=a.name;if(r.has(c))return;r.add(c);const g=this._triggers.get(c).fallbackTransition,v=i.get(c)||OM,T=new MM(dw),S=new RM(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:g,fromState:v,toState:T,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Va];(!a||a===KF)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Ba(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,c=this._elementListeners.get(a);c&&c.forEach(h=>{if(h.name==i.triggerName){const g=fM(a,i.triggerName,i.fromState.value,i.toState.value);g._data=e,dM(i.player,h.phase,g,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class V6{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new U6(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,h=this.driver.getParentElement(t);for(;h;){const g=r.get(h);if(g){const v=i.indexOf(g);i.splice(v+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(vI(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!vI(t))return;const a=t[Va];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ba(e,NM)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Oy(e,NM))}removeNode(e,t,i,r){if(vI(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Va]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return vI(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,lI,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,yM,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return df(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Va];if(t&&t.setForRemoval){if(e[Va]=KF,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(NM)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ba(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?df(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function V4(n){return new u.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new mI,r=[],a=new Map,c=[],h=new Map,g=new Map,v=new Map,T=new Set;this.disabledNodes.forEach(ut=>{T.add(ut);const Tt=this.driver.query(ut,".ng-animate-queued",!0);for(let jt=0;jt<Tt.length;jt++)T.add(Tt[jt])});const S=this.bodyNode,x=Array.from(this.statesByElement.keys()),U=JF(x,this.collectedEnterElements),G=new Map;let K=0;U.forEach((ut,Tt)=>{const jt=_M+K++;G.set(Tt,jt),ut.forEach(un=>Ba(un,jt))});const X=[],Ne=new Set,je=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const Tt=this.collectedLeaveElements[ut],jt=Tt[Va];jt&&jt.setForRemoval&&(X.push(Tt),Ne.add(Tt),jt.hasAnimation?this.driver.query(Tt,".ng-star-inserted",!0).forEach(un=>Ne.add(un)):je.add(Tt))}const He=new Map,Me=JF(x,Array.from(Ne));Me.forEach((ut,Tt)=>{const jt=oI+K++;He.set(Tt,jt),ut.forEach(un=>Ba(un,jt))}),e.push(()=>{U.forEach((ut,Tt)=>{const jt=G.get(Tt);ut.forEach(un=>Oy(un,jt))}),Me.forEach((ut,Tt)=>{const jt=He.get(Tt);ut.forEach(un=>Oy(un,jt))}),X.forEach(ut=>{this.processLeaveNode(ut)})});const Ze=[],Ke=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(t).forEach(jt=>{const un=jt.player,Vi=jt.element;if(Ze.push(un),this.collectedEnterElements.length){const nr=Vi[Va];if(nr&&nr.setForMove){if(nr.previousTriggersValues&&nr.previousTriggersValues.has(jt.triggerName)){const Bs=nr.previousTriggersValues.get(jt.triggerName),fs=this.statesByElement.get(jt.element);if(fs&&fs.has(jt.triggerName)){const Ry=fs.get(jt.triggerName);Ry.value=Bs,fs.set(jt.triggerName,Ry)}}return void un.destroy()}}const no=!S||!this.driver.containsElement(S,Vi),wr=He.get(Vi),Lo=G.get(Vi),Bn=this._buildInstruction(jt,i,Lo,wr,no);if(Bn.errors&&Bn.errors.length)return void Ke.push(Bn);if(no)return un.onStart(()=>wg(Vi,Bn.fromStyles)),un.onDestroy(()=>ic(Vi,Bn.toStyles)),void r.push(un);if(jt.isFallbackTransition)return un.onStart(()=>wg(Vi,Bn.fromStyles)),un.onDestroy(()=>ic(Vi,Bn.toStyles)),void r.push(un);const Hl=[];Bn.timelines.forEach(nr=>{nr.stretchStartingKeyframe=!0,this.disabledNodes.has(nr.element)||Hl.push(nr)}),Bn.timelines=Hl,i.append(Vi,Bn.timelines),c.push({instruction:Bn,player:un,element:Vi}),Bn.queriedElements.forEach(nr=>Po(h,nr,[]).push(un)),Bn.preStyleProps.forEach((nr,Bs)=>{if(nr.size){let fs=g.get(Bs);fs||g.set(Bs,fs=new Set),nr.forEach((Ry,Eg)=>fs.add(Eg))}}),Bn.postStyleProps.forEach((nr,Bs)=>{let fs=v.get(Bs);fs||v.set(Bs,fs=new Set),nr.forEach((Ry,Eg)=>fs.add(Eg))})});if(Ke.length){const ut=[];Ke.forEach(Tt=>{ut.push(function B4(n,e){return new u.vHH(3505,!1)}())}),Ze.forEach(Tt=>Tt.destroy()),this.reportError(ut)}const bt=new Map,zt=new Map;c.forEach(ut=>{const Tt=ut.element;i.has(Tt)&&(zt.set(Tt,Tt),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,bt))}),r.forEach(ut=>{const Tt=ut.element;this._getPreviousPlayers(Tt,!1,ut.namespaceId,ut.triggerName,null).forEach(un=>{Po(bt,Tt,[]).push(un),un.destroy()})});const An=X.filter(ut=>eL(ut,g,v)),Gn=new Map;QF(Gn,this.driver,je,v,Td).forEach(ut=>{eL(ut,g,v)&&An.push(ut)});const Qr=new Map;U.forEach((ut,Tt)=>{QF(Qr,this.driver,new Set(ut),g,"!")}),An.forEach(ut=>{const Tt=Gn.get(ut),jt=Qr.get(ut);Gn.set(ut,new Map([...Array.from(Tt?.entries()??[]),...Array.from(jt?.entries()??[])]))});const Ui=[],rc=[],sc={};c.forEach(ut=>{const{element:Tt,player:jt,instruction:un}=ut;if(i.has(Tt)){if(T.has(Tt))return jt.onDestroy(()=>ic(Tt,un.toStyles)),jt.disabled=!0,jt.overrideTotalTime(un.totalTime),void r.push(jt);let Vi=sc;if(zt.size>1){let wr=Tt;const Lo=[];for(;wr=wr.parentNode;){const Bn=zt.get(wr);if(Bn){Vi=Bn;break}Lo.push(wr)}Lo.forEach(Bn=>zt.set(Bn,Vi))}const no=this._buildAnimation(jt.namespaceId,un,bt,a,Qr,Gn);if(jt.setRealPlayer(no),Vi===sc)Ui.push(jt);else{const wr=this.playersByElement.get(Vi);wr&&wr.length&&(jt.parentPlayer=df(wr)),r.push(jt)}}else wg(Tt,un.fromStyles),jt.onDestroy(()=>ic(Tt,un.toStyles)),rc.push(jt),T.has(Tt)&&r.push(jt)}),rc.forEach(ut=>{const Tt=a.get(ut.element);if(Tt&&Tt.length){const jt=df(Tt);ut.setRealPlayer(jt)}}),r.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<X.length;ut++){const Tt=X[ut],jt=Tt[Va];if(Oy(Tt,oI),jt&&jt.hasAnimation)continue;let un=[];if(h.size){let no=h.get(Tt);no&&no.length&&un.push(...no);let wr=this.driver.query(Tt,yM,!0);for(let Lo=0;Lo<wr.length;Lo++){let Bn=h.get(wr[Lo]);Bn&&Bn.length&&un.push(...Bn)}}const Vi=un.filter(no=>!no.destroyed);Vi.length?H6(this,Tt,Vi):this.processLeaveNode(Tt)}return X.length=0,Ui.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const Tt=this.players.indexOf(ut);this.players.splice(Tt,1)}),ut.play()}),Ui}elementContainsData(e,t){let i=!1;const r=t[Va];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const g=!a||a==dw;h.forEach(v=>{v.queued||!g&&v.triggerName!=r||c.push(v)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(e,t,i){const a=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,T=v!==a,S=Po(i,v,[]);this._getPreviousPlayers(v,T,c,h,t.toState).forEach(U=>{const G=U.getRealPlayer();G.beforeDestroy&&G.beforeDestroy(),U.destroy(),S.push(U)})}wg(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,c){const h=t.triggerName,g=t.element,v=[],T=new Set,S=new Set,x=t.timelines.map(G=>{const K=G.element;T.add(K);const X=K[Va];if(X&&X.removedBeforeQueried)return new qb(G.duration,G.delay);const Ne=K!==g,je=function G6(n){const e=[];return XF(n,e),e}((i.get(K)||F6).map(bt=>bt.getRealPlayer())).filter(bt=>!!bt.element&&bt.element===K),He=a.get(K),Me=c.get(K),Ze=IF(0,this._normalizer,0,G.keyframes,He,Me),Ke=this._buildPlayer(G,Ze,je);if(G.subTimeline&&r&&S.add(K),Ne){const bt=new RM(e,h,K);bt.setRealPlayer(Ke),v.push(bt)}return Ke});v.forEach(G=>{Po(this.playersByQueriedElement,G.element,[]).push(G),G.onDone(()=>function B6(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,G.element,G))}),T.forEach(G=>Ba(G,kF));const U=df(x);return U.onDestroy(()=>{T.forEach(G=>Oy(G,kF)),ic(g,t.toStyles)}),S.forEach(G=>{Po(r,G,[]).push(U)}),U}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new qb(e.duration,e.delay)}}class RM{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new qb,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>dM(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Po(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function vI(n){return n&&1===n.nodeType}function YF(n,e){const t=n.style.display;return n.style.display=e??"none",t}function QF(n,e,t,i,r){const a=[];t.forEach(g=>a.push(YF(g)));const c=[];i.forEach((g,v)=>{const T=new Map;g.forEach(S=>{const x=e.computeStyle(v,S,r);T.set(S,x),(!x||0==x.length)&&(v[Va]=L6,c.push(v))}),n.set(v,T)});let h=0;return t.forEach(g=>YF(g,a[h++])),c}function JF(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),a=new Map;function c(h){if(!h)return 1;let g=a.get(h);if(g)return g;const v=h.parentNode;return g=t.has(v)?v:r.has(v)?1:c(v),a.set(h,g),g}return e.forEach(h=>{const g=c(h);1!==g&&t.get(g).push(h)}),t}function Ba(n,e){n.classList?.add(e)}function Oy(n,e){n.classList?.remove(e)}function H6(n,e,t){df(t).onDone(()=>n.processLeaveNode(e))}function XF(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof vk?XF(i.players,e):e.push(i)}}function eL(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class bI{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new V6(e,t,i),this._timelineEngine=new O6(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const c=e+"-"+r;let h=this._triggerCache[c];if(!h){const g=[],T=DM(this._driver,a,g,[]);if(g.length)throw function N4(n,e){return new u.vHH(3404,!1)}();h=function S6(n,e,t){return new A6(n,e,t)}(r,T,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,c]=CF(i);this._timelineEngine.command(a,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[c,h]=CF(i);return this._timelineEngine.listen(c,t,h,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let z6=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ic(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ic(this._element,this._initialStyles),this._endStyles&&(ic(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(wg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wg(this._element,this._endStyles),this._endStyles=null),ic(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function xM(n){let e=null;return n.forEach((t,i)=>{(function W6(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class tL{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:BF(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class K6{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return MF(e,t)}getParentElement(e){return gM(e)}query(e,t,i){return OF(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,c=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(g.easing=a);const v=new Map,T=c.filter(U=>U instanceof tL);(function X4(n,e){return 0===n||0===e})(i,r)&&T.forEach(U=>{U.currentSnapshot.forEach((G,K)=>v.set(K,G))});let S=function K4(n){return n.length?n[0]instanceof Map?n:n.map(e=>PF(e)):[]}(t).map(U=>hf(U));S=function e6(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,c)=>{i.has(c)||r.push(c),i.set(c,a)}),r.length)for(let a=1;a<e.length;a++){let c=e[a];r.forEach(h=>c.set(h,BF(n,h)))}}return e}(e,S,v);const x=function Z6(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=xM(e[0]),e.length>1&&(i=xM(e[e.length-1]))):e instanceof Map&&(t=xM(e)),t||i?new z6(n,t,i):null}(e,S);return new tL(e,S,g,x)}}let Y6=(()=>{class n extends pk{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?mk(t):t;return nL(this._renderer,null,i,"register",[r]),new Q6(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Q6 extends class KV{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new J6(this._id,e,t||{},this._renderer)}}class J6{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return nL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function nL(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const iL="@.disabled";let X6=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,c)=>{const h=c?.parentNode(a);h&&c.removeChild(h,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(a);return T||(T=new rL("",a,this.engine,()=>this._rendererCache.delete(a)),this._rendererCache.set(a,T)),T}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const g=T=>{Array.isArray(T)?T.forEach(g):this.engine.registerTrigger(c,h,t,T.name,T)};return i.data.animation.forEach(g),new e8(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,h]=a;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(bI),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class rL{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==iL?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class e8 extends rL{constructor(e,t,i,r,a){super(t,i,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==iL?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function t8(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function n8(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let i8=(()=>{class n extends bI{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce),u.LFG(mM),u.LFG(SM),u.LFG(u.z2F))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const sL=[{provide:pk,useClass:Y6},{provide:SM,useFactory:function r8(){return new T6}},{provide:bI,useClass:i8},{provide:u.FYo,useFactory:function s8(n,e,t){return new X6(n,e,t)},deps:[nl,bI,u.R0b]}],kM=[{provide:mM,useFactory:()=>new K6},{provide:u.QbO,useValue:"BrowserAnimations"},...sL],oL=[{provide:mM,useClass:RF},{provide:u.QbO,useValue:"NoopAnimations"},...sL];let o8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?oL:kM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:kM,imports:[mo]}),n})(),a8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[a4]}),n.\u0275inj=u.cJS({imports:[mo,Ex,r4,Ll.hO.initializeApp(uM_firebase),zU(()=>WU(uM_firebase)),rj(()=>function W3(n=(0,os.getApp)(),e){n=(0,ln.m9)(n);const i=(0,os._getProvider)(n,iP).getImmediate({identifier:e}),r=(0,ln.P0)("storage");return r&&function K3(n,e,t,i={}){!function G3(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,ln.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}()),e4,Ix,_B.forRoot(),o8]}),n})();(0,u.G48)(),ol().bootstrapModule(a8).catch(n=>console.error(n))},9751:(wt,Se,F)=>{F.d(Se,{y:()=>de});var u=F(930),$=F(727),k=F(8822),re=F(9635),oe=F(2416),pe=F(576),ce=F(2806);let de=(()=>{class J{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Ie=new J;return Ie.source=this,Ie.operator=ke,Ie}subscribe(ke,Ie,ot){const ye=function Z(J){return J&&J instanceof u.Lv||function z(J){return J&&(0,pe.m)(J.next)&&(0,pe.m)(J.error)&&(0,pe.m)(J.complete)}(J)&&(0,$.Nn)(J)}(ke)?ke:new u.Hp(ke,Ie,ot);return(0,ce.x)(()=>{const{operator:fe,source:nt}=this;ye.add(fe?fe.call(ye,nt):nt?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Ie){ke.error(Ie)}}forEach(ke,Ie){return new(Ie=me(Ie))((ot,ye)=>{const fe=new u.Hp({next:nt=>{try{ke(nt)}catch(st){ye(st),fe.unsubscribe()}},error:ye,complete:ot});this.subscribe(fe)})}_subscribe(ke){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(ke)}[k.L](){return this}pipe(...ke){return(0,re.U)(ke)(this)}toPromise(ke){return new(ke=me(ke))((Ie,ot)=>{let ye;this.subscribe(fe=>ye=fe,fe=>ot(fe),()=>Ie(ye))})}}return J.create=ze=>new J(ze),J})();function me(J){var ze;return null!==(ze=J??oe.v.Promise)&&void 0!==ze?ze:Promise}},7579:(wt,Se,F)=>{F.d(Se,{x:()=>ce});var u=F(9751),$=F(727);const re=(0,F(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=F(8737),pe=F(2806);let ce=(()=>{class me extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const J=new de(this,this);return J.operator=Z,J}_throwIfClosed(){if(this.closed)throw new re}next(Z){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(Z)}})}error(Z){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:J}=this;for(;J.length;)J.shift().error(Z)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:J,isStopped:ze,observers:ke}=this;return J||ze?$.Lc:(this.currentObservers=null,ke.push(Z),new $.w0(()=>{this.currentObservers=null,(0,oe.P)(ke,Z)}))}_checkFinalizedStatuses(Z){const{hasError:J,thrownError:ze,isStopped:ke}=this;J?Z.error(ze):ke&&Z.complete()}asObservable(){const Z=new u.y;return Z.source=this,Z}}return me.create=(z,Z)=>new de(z,Z),me})();class de extends ce{constructor(z,Z){super(),this.destination=z,this.source=Z}next(z){var Z,J;null===(J=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===J||J.call(Z,z)}error(z){var Z,J;null===(J=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===J||J.call(Z,z)}complete(){var z,Z;null===(Z=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===Z||Z.call(z)}_subscribe(z){var Z,J;return null!==(J=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(z))&&void 0!==J?J:$.Lc}}},930:(wt,Se,F)=>{F.d(Se,{Hp:()=>ot,Lv:()=>J});var u=F(576),$=F(727),k=F(2416),re=F(7849),oe=F(5032);const pe=me("C",void 0,void 0);function me(Oe,Re,De){return{kind:Oe,value:Re,error:De}}var z=F(3410),Z=F(2806);class J extends $.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,$.Nn)(Re)&&Re.add(this)):this.destination=st}static create(Re,De,We){return new ot(Re,De,We)}next(Re){this.isStopped?nt(function de(Oe){return me("N",Oe,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?nt(function ce(Oe){return me("E",void 0,Oe)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?nt(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function ke(Oe,Re){return ze.call(Oe,Re)}class Ie{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:De}=this;if(De.next)try{De.next(Re)}catch(We){ye(We)}}error(Re){const{partialObserver:De}=this;if(De.error)try{De.error(Re)}catch(We){ye(We)}else ye(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(De){ye(De)}}}class ot extends J{constructor(Re,De,We){let ie;if(super(),(0,u.m)(Re)||!Re)ie={next:Re??void 0,error:De??void 0,complete:We??void 0};else{let le;this&&k.v.useDeprecatedNextContext?(le=Object.create(Re),le.unsubscribe=()=>this.unsubscribe(),ie={next:Re.next&&ke(Re.next,le),error:Re.error&&ke(Re.error,le),complete:Re.complete&&ke(Re.complete,le)}):ie=Re}this.destination=new Ie(ie)}}function ye(Oe){k.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Oe):(0,re.h)(Oe)}function nt(Oe,Re){const{onStoppedNotification:De}=k.v;De&&z.z.setTimeout(()=>De(Oe,Re))}const st={closed:!0,next:oe.Z,error:function fe(Oe){throw Oe},complete:oe.Z}},727:(wt,Se,F)=>{F.d(Se,{Lc:()=>pe,w0:()=>oe,Nn:()=>ce});var u=F(576);const k=(0,F(3888).d)(me=>function(Z){me(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((J,ze)=>`${ze+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var re=F(8737);class oe{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const ke of Z)ke.remove(this);else Z.remove(this);const{initialTeardown:J}=this;if((0,u.m)(J))try{J()}catch(ke){z=ke instanceof k?ke.errors:[ke]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const ke of ze)try{de(ke)}catch(Ie){z=z??[],Ie instanceof k?z=[...z,...Ie.errors]:z.push(Ie)}}if(z)throw new k(z)}}add(z){var Z;if(z&&z!==this)if(this.closed)de(z);else{if(z instanceof oe){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(z)}}_hasParent(z){const{_parentage:Z}=this;return Z===z||Array.isArray(Z)&&Z.includes(z)}_addParent(z){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(z),Z):Z?[Z,z]:z}_removeParent(z){const{_parentage:Z}=this;Z===z?this._parentage=null:Array.isArray(Z)&&(0,re.P)(Z,z)}remove(z){const{_finalizers:Z}=this;Z&&(0,re.P)(Z,z),z instanceof oe&&z._removeParent(this)}}oe.EMPTY=(()=>{const me=new oe;return me.closed=!0,me})();const pe=oe.EMPTY;function ce(me){return me instanceof oe||me&&"closed"in me&&(0,u.m)(me.remove)&&(0,u.m)(me.add)&&(0,u.m)(me.unsubscribe)}function de(me){(0,u.m)(me)?me():me.unsubscribe()}},2416:(wt,Se,F)=>{F.d(Se,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(wt,Se,F)=>{F.d(Se,{E:()=>$});const $=new(F(9751).y)(oe=>oe.complete())},8996:(wt,Se,F)=>{F.d(Se,{D:()=>Re});var u=F(8421),$=F(5363),k=F(9468),pe=F(9751),de=F(2202),me=F(576),z=F(9672);function J(De,We){if(!De)throw new Error("Iterable cannot be null");return new pe.y(ie=>{(0,z.f)(ie,We,()=>{const le=De[Symbol.asyncIterator]();(0,z.f)(ie,We,()=>{le.next().then(_e=>{_e.done?ie.complete():ie.next(_e.value)})},0,!0)})})}var ze=F(3670),ke=F(8239),Ie=F(1144),ot=F(6495),ye=F(2206),fe=F(4532),nt=F(3260);function Re(De,We){return We?function Oe(De,We){if(null!=De){if((0,ze.c)(De))return function re(De,We){return(0,u.Xf)(De).pipe((0,k.R)(We),(0,$.Q)(We))}(De,We);if((0,Ie.z)(De))return function ce(De,We){return new pe.y(ie=>{let le=0;return We.schedule(function(){le===De.length?ie.complete():(ie.next(De[le++]),ie.closed||this.schedule())})})}(De,We);if((0,ke.t)(De))return function oe(De,We){return(0,u.Xf)(De).pipe((0,k.R)(We),(0,$.Q)(We))}(De,We);if((0,ye.D)(De))return J(De,We);if((0,ot.T)(De))return function Z(De,We){return new pe.y(ie=>{let le;return(0,z.f)(ie,We,()=>{le=De[de.h](),(0,z.f)(ie,We,()=>{let _e,Ye;try{({value:_e,done:Ye}=le.next())}catch(Qe){return void ie.error(Qe)}Ye?ie.complete():ie.next(_e)},0,!0)}),()=>(0,me.m)(le?.return)&&le.return()})}(De,We);if((0,nt.L)(De))return function st(De,We){return J((0,nt.Q)(De),We)}(De,We)}throw(0,fe.z)(De)}(De,We):(0,u.Xf)(De)}},8421:(wt,Se,F)=>{F.d(Se,{Xf:()=>ze});var u=F(655),$=F(1144),k=F(8239),re=F(9751),oe=F(3670),pe=F(2206),ce=F(4532),de=F(6495),me=F(3260),z=F(576),Z=F(7849),J=F(8822);function ze(Oe){if(Oe instanceof re.y)return Oe;if(null!=Oe){if((0,oe.c)(Oe))return function ke(Oe){return new re.y(Re=>{const De=Oe[J.L]();if((0,z.m)(De.subscribe))return De.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Oe);if((0,$.z)(Oe))return function Ie(Oe){return new re.y(Re=>{for(let De=0;De<Oe.length&&!Re.closed;De++)Re.next(Oe[De]);Re.complete()})}(Oe);if((0,k.t)(Oe))return function ot(Oe){return new re.y(Re=>{Oe.then(De=>{Re.closed||(Re.next(De),Re.complete())},De=>Re.error(De)).then(null,Z.h)})}(Oe);if((0,pe.D)(Oe))return fe(Oe);if((0,de.T)(Oe))return function ye(Oe){return new re.y(Re=>{for(const De of Oe)if(Re.next(De),Re.closed)return;Re.complete()})}(Oe);if((0,me.L)(Oe))return function nt(Oe){return fe((0,me.Q)(Oe))}(Oe)}throw(0,ce.z)(Oe)}function fe(Oe){return new re.y(Re=>{(function st(Oe,Re){var De,We,ie,le;return(0,u.mG)(this,void 0,void 0,function*(){try{for(De=(0,u.KL)(Oe);!(We=yield De.next()).done;)if(Re.next(We.value),Re.closed)return}catch(_e){ie={error:_e}}finally{try{We&&!We.done&&(le=De.return)&&(yield le.call(De))}finally{if(ie)throw ie.error}}Re.complete()})})(Oe,Re).catch(De=>Re.error(De))})}},6451:(wt,Se,F)=>{F.d(Se,{T:()=>pe});var u=F(8189),$=F(8421),k=F(515),re=F(3269),oe=F(8996);function pe(...ce){const de=(0,re.yG)(ce),me=(0,re._6)(ce,1/0),z=ce;return z.length?1===z.length?(0,$.Xf)(z[0]):(0,u.J)(me)((0,oe.D)(z,de)):k.E}},5403:(wt,Se,F)=>{F.d(Se,{x:()=>$});var u=F(930);function $(re,oe,pe,ce,de){return new k(re,oe,pe,ce,de)}class k extends u.Lv{constructor(oe,pe,ce,de,me,z){super(oe),this.onFinalize=me,this.shouldUnsubscribe=z,this._next=pe?function(Z){try{pe(Z)}catch(J){oe.error(J)}}:super._next,this._error=de?function(Z){try{de(Z)}catch(J){oe.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=ce?function(){try{ce()}catch(Z){oe.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(wt,Se,F)=>{F.d(Se,{U:()=>k});var u=F(4482),$=F(5403);function k(re,oe){return(0,u.e)((pe,ce)=>{let de=0;pe.subscribe((0,$.x)(ce,me=>{ce.next(re.call(oe,me,de++))}))})}},8189:(wt,Se,F)=>{F.d(Se,{J:()=>k});var u=F(5577),$=F(4671);function k(re=1/0){return(0,u.z)($.y,re)}},5577:(wt,Se,F)=>{F.d(Se,{z:()=>de});var u=F(4004),$=F(8421),k=F(4482),re=F(9672),oe=F(5403),ce=F(576);function de(me,z,Z=1/0){return(0,ce.m)(z)?de((J,ze)=>(0,u.U)((ke,Ie)=>z(J,ke,ze,Ie))((0,$.Xf)(me(J,ze))),Z):("number"==typeof z&&(Z=z),(0,k.e)((J,ze)=>function pe(me,z,Z,J,ze,ke,Ie,ot){const ye=[];let fe=0,nt=0,st=!1;const Oe=()=>{st&&!ye.length&&!fe&&z.complete()},Re=We=>fe<J?De(We):ye.push(We),De=We=>{ke&&z.next(We),fe++;let ie=!1;(0,$.Xf)(Z(We,nt++)).subscribe((0,oe.x)(z,le=>{ze?.(le),ke?Re(le):z.next(le)},()=>{ie=!0},void 0,()=>{if(ie)try{for(fe--;ye.length&&fe<J;){const le=ye.shift();Ie?(0,re.f)(z,Ie,()=>De(le)):De(le)}Oe()}catch(le){z.error(le)}}))};return me.subscribe((0,oe.x)(z,Re,()=>{st=!0,Oe()})),()=>{ot?.()}}(J,ze,me,Z)))}},5363:(wt,Se,F)=>{F.d(Se,{Q:()=>re});var u=F(9672),$=F(4482),k=F(5403);function re(oe,pe=0){return(0,$.e)((ce,de)=>{ce.subscribe((0,k.x)(de,me=>(0,u.f)(de,oe,()=>de.next(me),pe),()=>(0,u.f)(de,oe,()=>de.complete(),pe),me=>(0,u.f)(de,oe,()=>de.error(me),pe)))})}},3099:(wt,Se,F)=>{F.d(Se,{B:()=>oe});var u=F(8421),$=F(7579),k=F(930),re=F(4482);function oe(ce={}){const{connector:de=(()=>new $.x),resetOnError:me=!0,resetOnComplete:z=!0,resetOnRefCountZero:Z=!0}=ce;return J=>{let ze,ke,Ie,ot=0,ye=!1,fe=!1;const nt=()=>{ke?.unsubscribe(),ke=void 0},st=()=>{nt(),ze=Ie=void 0,ye=fe=!1},Oe=()=>{const Re=ze;st(),Re?.unsubscribe()};return(0,re.e)((Re,De)=>{ot++,!fe&&!ye&&nt();const We=Ie=Ie??de();De.add(()=>{ot--,0===ot&&!fe&&!ye&&(ke=pe(Oe,Z))}),We.subscribe(De),!ze&&ot>0&&(ze=new k.Hp({next:ie=>We.next(ie),error:ie=>{fe=!0,nt(),ke=pe(st,me,ie),We.error(ie)},complete:()=>{ye=!0,nt(),ke=pe(st,z),We.complete()}}),(0,u.Xf)(Re).subscribe(ze))})(J)}}function pe(ce,de,...me){if(!0===de)return void ce();if(!1===de)return;const z=new k.Hp({next:()=>{z.unsubscribe(),ce()}});return de(...me).subscribe(z)}},9468:(wt,Se,F)=>{F.d(Se,{R:()=>$});var u=F(4482);function $(k,re=0){return(0,u.e)((oe,pe)=>{pe.add(k.schedule(()=>oe.subscribe(pe),re))})}},8505:(wt,Se,F)=>{F.d(Se,{b:()=>oe});var u=F(576),$=F(4482),k=F(5403),re=F(4671);function oe(pe,ce,de){const me=(0,u.m)(pe)||ce||de?{next:pe,error:ce,complete:de}:pe;return me?(0,$.e)((z,Z)=>{var J;null===(J=me.subscribe)||void 0===J||J.call(me);let ze=!0;z.subscribe((0,k.x)(Z,ke=>{var Ie;null===(Ie=me.next)||void 0===Ie||Ie.call(me,ke),Z.next(ke)},()=>{var ke;ze=!1,null===(ke=me.complete)||void 0===ke||ke.call(me),Z.complete()},ke=>{var Ie;ze=!1,null===(Ie=me.error)||void 0===Ie||Ie.call(me,ke),Z.error(ke)},()=>{var ke,Ie;ze&&(null===(ke=me.unsubscribe)||void 0===ke||ke.call(me)),null===(Ie=me.finalize)||void 0===Ie||Ie.call(me)}))}):re.y}},4408:(wt,Se,F)=>{F.d(Se,{o:()=>oe});var u=F(727);class $ extends u.w0{constructor(ce,de){super()}schedule(ce,de=0){return this}}const k={setInterval(pe,ce,...de){const{delegate:me}=k;return me?.setInterval?me.setInterval(pe,ce,...de):setInterval(pe,ce,...de)},clearInterval(pe){const{delegate:ce}=k;return(ce?.clearInterval||clearInterval)(pe)},delegate:void 0};var re=F(8737);class oe extends ${constructor(ce,de){super(ce,de),this.scheduler=ce,this.work=de,this.pending=!1}schedule(ce,de=0){var me;if(this.closed)return this;this.state=ce;const z=this.id,Z=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(Z,z,de)),this.pending=!0,this.delay=de,this.id=null!==(me=this.id)&&void 0!==me?me:this.requestAsyncId(Z,this.id,de),this}requestAsyncId(ce,de,me=0){return k.setInterval(ce.flush.bind(ce,this),me)}recycleAsyncId(ce,de,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return de;null!=de&&k.clearInterval(de)}execute(ce,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(ce,de);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,de){let z,me=!1;try{this.work(ce)}catch(Z){me=!0,z=Z||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:ce,scheduler:de}=this,{actions:me}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,re.P)(me,this),null!=ce&&(this.id=this.recycleAsyncId(de,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(wt,Se,F)=>{F.d(Se,{v:()=>k});var u=F(6063);class ${constructor(oe,pe=$.now){this.schedulerActionCtor=oe,this.now=pe}schedule(oe,pe=0,ce){return new this.schedulerActionCtor(this,oe).schedule(ce,pe)}}$.now=u.l.now;class k extends ${constructor(oe,pe=$.now){super(oe,pe),this.actions=[],this._active=!1}flush(oe){const{actions:pe}=this;if(this._active)return void pe.push(oe);let ce;this._active=!0;do{if(ce=oe.execute(oe.state,oe.delay))break}while(oe=pe.shift());if(this._active=!1,ce){for(;oe=pe.shift();)oe.unsubscribe();throw ce}}}},4986:(wt,Se,F)=>{F.d(Se,{P:()=>re,z:()=>k});var u=F(4408);const k=new(F(7565).v)(u.o),re=k},6063:(wt,Se,F)=>{F.d(Se,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(wt,Se,F)=>{F.d(Se,{z:()=>u});const u={setTimeout($,k,...re){const{delegate:oe}=u;return oe?.setTimeout?oe.setTimeout($,k,...re):setTimeout($,k,...re)},clearTimeout($){const{delegate:k}=u;return(k?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(wt,Se,F)=>{F.d(Se,{h:()=>$});const $=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(wt,Se,F)=>{F.d(Se,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(wt,Se,F)=>{F.d(Se,{_6:()=>pe,jO:()=>re,yG:()=>oe});var u=F(576),$=F(3532);function k(ce){return ce[ce.length-1]}function re(ce){return(0,u.m)(k(ce))?ce.pop():void 0}function oe(ce){return(0,$.K)(k(ce))?ce.pop():void 0}function pe(ce,de){return"number"==typeof k(ce)?ce.pop():de}},8737:(wt,Se,F)=>{function u($,k){if($){const re=$.indexOf(k);0<=re&&$.splice(re,1)}}F.d(Se,{P:()=>u})},3888:(wt,Se,F)=>{function u($){const re=$(oe=>{Error.call(oe),oe.stack=(new Error).stack});return re.prototype=Object.create(Error.prototype),re.prototype.constructor=re,re}F.d(Se,{d:()=>u})},2806:(wt,Se,F)=>{F.d(Se,{O:()=>re,x:()=>k});var u=F(2416);let $=null;function k(oe){if(u.v.useDeprecatedSynchronousErrorHandling){const pe=!$;if(pe&&($={errorThrown:!1,error:null}),oe(),pe){const{errorThrown:ce,error:de}=$;if($=null,ce)throw de}}else oe()}function re(oe){u.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=oe)}},9672:(wt,Se,F)=>{function u($,k,re,oe=0,pe=!1){const ce=k.schedule(function(){re(),pe?$.add(this.schedule(null,oe)):this.unsubscribe()},oe);if($.add(ce),!pe)return ce}F.d(Se,{f:()=>u})},4671:(wt,Se,F)=>{function u($){return $}F.d(Se,{y:()=>u})},1144:(wt,Se,F)=>{F.d(Se,{z:()=>u});const u=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(wt,Se,F)=>{F.d(Se,{D:()=>$});var u=F(576);function $(k){return Symbol.asyncIterator&&(0,u.m)(k?.[Symbol.asyncIterator])}},576:(wt,Se,F)=>{function u($){return"function"==typeof $}F.d(Se,{m:()=>u})},3670:(wt,Se,F)=>{F.d(Se,{c:()=>k});var u=F(8822),$=F(576);function k(re){return(0,$.m)(re[u.L])}},6495:(wt,Se,F)=>{F.d(Se,{T:()=>k});var u=F(2202),$=F(576);function k(re){return(0,$.m)(re?.[u.h])}},8239:(wt,Se,F)=>{F.d(Se,{t:()=>$});var u=F(576);function $(k){return(0,u.m)(k?.then)}},3260:(wt,Se,F)=>{F.d(Se,{L:()=>re,Q:()=>k});var u=F(655),$=F(576);function k(oe){return(0,u.FC)(this,arguments,function*(){const ce=oe.getReader();try{for(;;){const{value:de,done:me}=yield(0,u.qq)(ce.read());if(me)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(de)}}finally{ce.releaseLock()}})}function re(oe){return(0,$.m)(oe?.getReader)}},3532:(wt,Se,F)=>{F.d(Se,{K:()=>$});var u=F(576);function $(k){return k&&(0,u.m)(k.schedule)}},4482:(wt,Se,F)=>{F.d(Se,{A:()=>$,e:()=>k});var u=F(576);function $(re){return(0,u.m)(re?.lift)}function k(re){return oe=>{if($(oe))return oe.lift(function(pe){try{return re(pe,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(wt,Se,F)=>{function u(){}F.d(Se,{Z:()=>u})},9635:(wt,Se,F)=>{F.d(Se,{U:()=>k,z:()=>$});var u=F(4671);function $(...re){return k(re)}function k(re){return 0===re.length?u.y:1===re.length?re[0]:function(pe){return re.reduce((ce,de)=>de(ce),pe)}}},7849:(wt,Se,F)=>{F.d(Se,{h:()=>k});var u=F(2416),$=F(3410);function k(re){$.z.setTimeout(()=>{const{onUnhandledError:oe}=u.v;if(!oe)throw re;oe(re)})}},4532:(wt,Se,F)=>{function u($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Se,{z:()=>u})},655:(wt,Se,F)=>{function re(ae,ge){var we={};for(var Fe in ae)Object.prototype.hasOwnProperty.call(ae,Fe)&&ge.indexOf(Fe)<0&&(we[Fe]=ae[Fe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Ve=0;for(Fe=Object.getOwnPropertySymbols(ae);Ve<Fe.length;Ve++)ge.indexOf(Fe[Ve])<0&&Object.prototype.propertyIsEnumerable.call(ae,Fe[Ve])&&(we[Fe[Ve]]=ae[Fe[Ve]])}return we}function J(ae,ge,we,Fe){return new(we||(we=Promise))(function(Te,Dt){function $t(Nt){try{ct(Fe.next(Nt))}catch(It){Dt(It)}}function vn(Nt){try{ct(Fe.throw(Nt))}catch(It){Dt(It)}}function ct(Nt){Nt.done?Te(Nt.value):function Ve(Te){return Te instanceof we?Te:new we(function(Dt){Dt(Te)})}(Nt.value).then($t,vn)}ct((Fe=Fe.apply(ae,ge||[])).next())})}function Oe(ae){return this instanceof Oe?(this.v=ae,this):new Oe(ae)}function Re(ae,ge,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ve,Fe=we.apply(ae,ge||[]),Te=[];return Ve={},Dt("next"),Dt("throw"),Dt("return"),Ve[Symbol.asyncIterator]=function(){return this},Ve;function Dt(on){Fe[on]&&(Ve[on]=function(Wn){return new Promise(function(jn,pn){Te.push([on,Wn,jn,pn])>1||$t(on,Wn)})})}function $t(on,Wn){try{!function vn(on){on.value instanceof Oe?Promise.resolve(on.value.v).then(ct,Nt):It(Te[0][2],on)}(Fe[on](Wn))}catch(jn){It(Te[0][3],jn)}}function ct(on){$t("next",on)}function Nt(on){$t("throw",on)}function It(on,Wn){on(Wn),Te.shift(),Te.length&&$t(Te[0][0],Te[0][1])}}function We(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,ge=ae[Symbol.asyncIterator];return ge?ge.call(ae):(ae=function ot(ae){var ge="function"==typeof Symbol&&Symbol.iterator,we=ge&&ae[ge],Fe=0;if(we)return we.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&Fe>=ae.length&&(ae=void 0),{value:ae&&ae[Fe++],done:!ae}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),we={},Fe("next"),Fe("throw"),Fe("return"),we[Symbol.asyncIterator]=function(){return this},we);function Fe(Te){we[Te]=ae[Te]&&function(Dt){return new Promise(function($t,vn){!function Ve(Te,Dt,$t,vn){Promise.resolve(vn).then(function(ct){Te({value:ct,done:$t})},Dt)}($t,vn,(Dt=ae[Te](Dt)).done,Dt.value)})}}}F.d(Se,{FC:()=>Re,KL:()=>We,_T:()=>re,mG:()=>J,qq:()=>Oe})},4650:(wt,Se,F)=>{F.d(Se,{$8M:()=>iu,$Z:()=>uD,$Z9:()=>kw,AFp:()=>Q0,AaK:()=>de,BQk:()=>f_,CHM:()=>mf,CRH:()=>Hu,CZH:()=>ey,CqO:()=>Jv,D6c:()=>Db,EJc:()=>kS,EiD:()=>Rw,EpF:()=>p_,F$t:()=>jD,F4k:()=>BD,FYo:()=>Xf,FiY:()=>ve,G48:()=>uy,Gf:()=>ju,GfV:()=>Zw,Gpc:()=>Z,Hsn:()=>Ge,Ikx:()=>b_,JOm:()=>ss,JVY:()=>BI,KtG:()=>Wo,L6k:()=>Cw,LAX:()=>jI,LFG:()=>sn,LMc:()=>YS,LSH:()=>uh,Lbi:()=>OS,Lck:()=>P_,MAs:()=>Yv,MGl:()=>Sa,MMx:()=>L_,NdJ:()=>Xv,OlP:()=>Fn,Oqu:()=>bp,PXZ:()=>MT,Q6J:()=>c_,QGY:()=>Qv,QP$:()=>Be,QbO:()=>RS,Qsj:()=>dC,QtT:()=>E0,R0b:()=>Os,RDi:()=>RI,Rgc:()=>kp,SBq:()=>Lc,SDv:()=>Fi,Sil:()=>ty,Suo:()=>$u,TTD:()=>js,TgZ:()=>Qc,Tol:()=>zD,Udp:()=>Je,VKq:()=>S0,W1O:()=>V0,WLB:()=>q1,X6Q:()=>ob,XFs:()=>rt,Xpm:()=>Ce,Xts:()=>am,Y36:()=>Vc,YKP:()=>x1,YNc:()=>Kv,Yjl:()=>B,Yz7:()=>ct,Z0I:()=>Wn,ZZ4:()=>gy,_Bn:()=>R1,_UZ:()=>h_,_Vd:()=>_u,_c5:()=>GS,_uU:()=>a0,aQg:()=>vb,c2e:()=>bT,cJS:()=>It,cg1:()=>w_,d8E:()=>f0,dDg:()=>BS,dqk:()=>Ht,eBb:()=>im,eFA:()=>xT,ekj:()=>wh,eoX:()=>ry,f3M:()=>gi,g9A:()=>er,h0i:()=>Yt,hGG:()=>qS,hij:()=>m_,iGM:()=>Fp,ifc:()=>St,ip1:()=>Y0,jDz:()=>F1,kEZ:()=>Z1,kL8:()=>dn,lG2:()=>Y,lqb:()=>mu,lri:()=>ST,mCW:()=>pu,n5z:()=>Zs,oAB:()=>cn,oJD:()=>rv,oxw:()=>Ml,pB0:()=>$I,pQV:()=>R_,q3G:()=>mi,q4F:()=>zw,qLn:()=>Uc,qOj:()=>t_,qZA:()=>Pr,qzn:()=>ya,rWj:()=>iy,s9C:()=>yi,sBO:()=>lb,sIi:()=>Sl,s_b:()=>$_,soG:()=>gd,tb:()=>vT,tp0:()=>mt,uIk:()=>o_,vHH:()=>Ie,vpe:()=>ka,wAp:()=>Lt,xp6:()=>Jw,ynx:()=>Nl,z2F:()=>Kh,z3N:()=>_a,zSh:()=>dv,zs3:()=>_t});var u=F(7579),$=F(727),k=F(9751),re=F(6451),oe=F(3099);function pe(s){for(let o in s)if(s[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function ce(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function de(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(de).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function me(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const z=pe({__forward_ref__:pe});function Z(s){return s.__forward_ref__=Z,s.toString=function(){return de(this())},s}function J(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===Z}class Ie extends Error{constructor(o,l){super(function ot(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,l)),this.code=o}}function ye(s){return"string"==typeof s?s:null==s?"":String(s)}function Re(s,o){throw new Ie(-201,!1)}function Te(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}function ct(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function It(s){return{providers:s.providers||[],imports:s.imports||[]}}function on(s){return jn(s,ir)||jn(s,Lr)}function Wn(s){return null!==on(s)}function jn(s,o){return s.hasOwnProperty(o)?s[o]:null}function qi(s){return s&&(s.hasOwnProperty(ti)||s.hasOwnProperty(ps))?s[ti]:null}const ir=pe({\u0275prov:pe}),ti=pe({\u0275inj:pe}),Lr=pe({ngInjectableDef:pe}),ps=pe({ngInjectorDef:pe});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let ui;function Nn(s){const o=ui;return ui=s,o}function Mi(s,o,l){const d=on(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&rt.Optional?null:void 0!==o?o:void Re(de(s))}function Rn(s){return{toString:s}.toString()}var xn=(()=>((xn=xn||{})[xn.OnPush=0]="OnPush",xn[xn.Default=1]="Default",xn))(),St=(()=>{return(s=St||(St={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",St;var s})();const Ht=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Zi={},Vt=[],rr=pe({\u0275cmp:pe}),Wt=pe({\u0275dir:pe}),Dr=pe({\u0275pipe:pe}),rn=pe({\u0275mod:pe}),wi=pe({\u0275fac:pe}),Ln=pe({__NG_ELEMENT_ID__:pe});let at=0;function Ce(s){return Rn(()=>{const l=!0===s.standalone,d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===xn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Vt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||St.Emulated,id:"c"+at++,styles:s.styles||Vt,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,y=s.features;return f.inputs=H(s.inputs,d),f.outputs=H(s.outputs),y&&y.forEach(w=>w(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(kt).filter(Bt):null,f.pipeDefs=p?()=>("function"==typeof p?p():p).map(ee).filter(Bt):null,f})}function kt(s){return O(s)||V(s)}function Bt(s){return null!==s}function cn(s){return Rn(()=>({type:s.type,bootstrap:s.bootstrap||Vt,declarations:s.declarations||Vt,imports:s.imports||Vt,exports:s.exports||Vt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function H(s,o){if(null==s)return Zi;const l={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),l[f]=d,o&&(o[f]=p)}return l}const Y=Ce;function B(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function O(s){return s[rr]||null}function V(s){return s[Wt]||null}function ee(s){return s[Dr]||null}function Be(s){const o=O(s)||V(s)||ee(s);return null!==o&&o.standalone}function dt(s,o){const l=s[rn]||null;if(!l&&!0===o)throw new Error(`Type ${de(s)} does not have '\u0275mod' property.`);return l}function di(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ir(s){return Array.isArray(s)&&!0===s[1]}function Vo(s){return 0!=(8&s.flags)}function ac(s){return 2==(2&s.flags)}function Ha(s){return 1==(1&s.flags)}function lr(s){return null!==s.template}function lc(s){return 0!=(256&s[2])}function Bi(s,o){return s.hasOwnProperty(wi)?s[wi]:null}class Ho{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function js(){return kd}function kd(s){return s.type.prototype.ngOnChanges&&(s.setInput=cc),Zl}function Zl(){const s=Go(this),o=s?.current;if(o){const l=s.previous;if(l===Zi)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function cc(s,o,l,d){const f=Go(s)||function ur(s,o){return s[Pd]=o}(s,{previous:Zi,current:null}),p=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[l],E=y[w];p[w]=new Ho(E&&E.currentValue,o,y===Zi),s[d]=o}js.ngInherit=!0;const Pd="__ngSimpleChanges__";function Go(s){return s[Pd]||null}function qn(s){for(;Array.isArray(s);)s=s[0];return s}function Ur(s,o){return qn(o[s])}function Oi(s,o){return qn(o[s.index])}function Zo(s,o){return s.data[o]}function hn(s,o){const l=o[s];return di(l)?l:l[0]}function $s(s){return 64==(64&s[2])}function Nr(s,o){return null==o?null:s[o]}function qa(s){s[18]=0}function Kn(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const qt={lFrame:tl(null),bindingsEnabled:!0};function fo(){return qt.bindingsEnabled}function xe(){return qt.lFrame.lView}function nn(){return qt.lFrame.tView}function mf(s){return qt.lFrame.contextLView=s,s[8]}function Wo(s){return qt.lFrame.contextLView=null,s}function hi(){let s=Ko();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ko(){return qt.lFrame.currentTNode}function Wl(){const s=qt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function sr(s,o){const l=qt.lFrame;l.currentTNode=s,l.isParent=o}function Kl(){return qt.lFrame.isParent}function Yo(){qt.lFrame.isParent=!1}function fi(){const s=qt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ja(){return qt.lFrame.bindingIndex++}function ws(s){const o=qt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function pc(s){qt.lFrame.inI18n=s}function Vd(s,o){const l=qt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Qo(o)}function Qo(s){qt.lFrame.currentDirectiveIndex=s}function gc(s){const o=qt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Xa(){return qt.lFrame.currentQueryIndex}function mc(s){qt.lFrame.currentQueryIndex=s}function el(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Bd(s,o,l){if(l&rt.SkipSelf){let f=o,p=s;for(;!(f=f.parent,null!==f||l&rt.Host||(f=el(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;o=f,s=p}const d=qt.lFrame=vf();return d.currentTNode=o,d.lView=s,!0}function Jo(s){const o=vf(),l=s[1];qt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function vf(){const s=qt.lFrame,o=null===s?null:s.child;return null===o?tl(s):o}function tl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function bf(){const s=qt.lFrame;return qt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const jd=bf;function Hs(){const s=bf();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function $n(){return qt.lFrame.selectedIndex}function Ds(s){qt.lFrame.selectedIndex=s}function Un(){const s=qt.lFrame;return Zo(s.tView,s.selectedIndex)}function Yl(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:A,ngOnDestroy:R}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),w&&((s.contentHooks||(s.contentHooks=[])).push(l,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,w)),E&&(s.viewHooks||(s.viewHooks=[])).push(-l,E),A&&((s.viewHooks||(s.viewHooks=[])).push(l,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,A)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(l,R)}}function Xo(s,o,l){ta(s,o,3,l)}function ea(s,o,l,d){(3&s[2])===l&&ta(s,o,l,d)}function Gd(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function ta(s,o,l,d){const p=d??-1,y=o.length-1;let w=0;for(let E=void 0!==d?65535&s[18]:0;E<y;E++)if("number"==typeof o[E+1]){if(w=o[E],null!=d&&w>=d)break}else o[E]<0&&(s[18]+=65536),(w<p||-1==p)&&(qd(s,l,o,E),s[18]=(4294901760&s[18])+E+2),E++}function qd(s,o,l,d){const f=l[d]<0,p=l[d+1],w=s[f?-l[d]:l[d]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Mr{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Ts(s,o,l){let d=0;for(;d<l.length;){const f=l[d];if("number"==typeof f){if(0!==f)break;d++;const p=l[d++],y=l[d++],w=l[d++];s.setAttribute(o,y,w,p)}else{const p=f,y=l[++d];Dc(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),d++}}return d}function il(s){return 3===s||4===s||6===s}function Dc(s){return 64===s.charCodeAt(0)}function rl(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const f=o[d];"number"==typeof f?l=f:0===l||zd(s,l,f,null,-1===l||2===l?o[++d]:null)}}return s}function zd(s,o,l,d,f){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==f&&(s[p+1]=f));if(d===s[p+1])return void(s[p+2]=f)}p++,null!==d&&p++,null!==f&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,l),null!==d&&s.splice(p++,0,d),null!==f&&s.splice(p++,0,f)}function Tf(s){return-1!==s}function pi(s){return 32767&s}function qs(s,o){let l=function Ef(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let Tc=!0;function sl(s){const o=Tc;return Tc=s,o}let Wd=0;const dr={};function Es(s,o){const l=eu(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Ec(d.data,s),Ec(o,null),Ec(d.blueprint,null));const f=ol(s,o),p=s.injectorIndex;if(Tf(f)){const y=pi(f),w=qs(f,o),E=w[1].data;for(let A=0;A<8;A++)o[p+A]=w[y+A]|E[y+A]}return o[p+8]=f,p}function Ec(s,o){s.push(0,0,0,0,0,0,0,0,o)}function eu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ol(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,f=o;for(;null!==f;){if(d=la(f),null===d)return-1;if(l++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function go(s,o,l){!function Kd(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Ln)&&(d=l[Ln]),null==d&&(d=l[Ln]=Wd++);const f=255&d;o.data[s+(f>>5)]|=1<<f}(s,o,l)}function ia(s,o,l){if(l&rt.Optional||void 0!==s)return s;Re()}function mo(s,o,l,d){if(l&rt.Optional&&void 0===d&&(d=null),0==(l&(rt.Self|rt.Host))){const f=s[9],p=Nn(void 0);try{return f?f.get(o,d,l&rt.Optional):Mi(o,d,l&rt.Optional)}finally{Nn(p)}}return ia(d,0,l)}function ra(s,o,l,d=rt.Default,f){if(null!==s){if(1024&o[2]){const y=function Sf(s,o,l,d,f){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=Yd(p,y,l,d|rt.Self,dr);if(w!==dr)return w;let E=p.parent;if(!E){const A=y[21];if(A){const R=A.get(l,dr,d);if(R!==dr)return R}E=la(y),y=y[15]}p=E}return f}(s,o,l,d,dr);if(y!==dr)return y}const p=Yd(s,o,l,d,dr);if(p!==dr)return p}return mo(o,l,d,f)}function Yd(s,o,l,d,f){const p=function Cf(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ln)?s[Ln]:void 0;return"number"==typeof o?o>=0?255&o:Ic:o}(l);if("function"==typeof p){if(!Bd(o,s,d))return d&rt.Host?ia(f,0,d):mo(o,l,d,f);try{const y=p(d);if(null!=y||d&rt.Optional)return y;Re()}finally{jd()}}else if("number"==typeof p){let y=null,w=eu(s,o),E=-1,A=d&rt.Host?o[16][6]:null;for((-1===w||d&rt.SkipSelf)&&(E=-1===w?ol(s,o):o[w+8],-1!==E&&nu(d,!1)?(y=o[1],w=pi(E),o=qs(E,o)):w=-1);-1!==w;){const R=o[1];if(sa(p,w,R.data)){const L=tu(w,o,l,y,d,A);if(L!==dr)return L}E=o[w+8],-1!==E&&nu(d,o[1].data[w+8]===A)&&sa(p,w,o)?(y=R,w=pi(E),o=qs(E,o)):w=-1}}return f}function tu(s,o,l,d,f,p){const y=o[1],w=y.data[s+8],R=ll(w,y,l,null==d?ac(w)&&Tc:d!=y&&0!=(3&w.type),f&rt.Host&&p===w);return null!==R?es(o,y,R,w):dr}function ll(s,o,l,d,f){const p=s.providerIndexes,y=o.data,w=1048575&p,E=s.directiveStart,R=p>>20,W=f?w+R:s.directiveEnd;for(let te=d?w:w+R;te<W;te++){const Ee=y[te];if(te<E&&l===Ee||te>=E&&Ee.type===l)return te}if(f){const te=y[E];if(te&&lr(te)&&te.type===l)return E}return null}function es(s,o,l,d){let f=s[l];const p=o.data;if(function wc(s){return s instanceof Mr}(f)){const y=f;y.resolving&&function nt(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${s}${l}`)}(function fe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ye(s)}(p[l]));const w=sl(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?Nn(y.injectImpl):null;Bd(s,d,rt.Default);try{f=s[l]=y.factory(void 0,p,s,d),o.firstCreatePass&&l>=d.directiveStart&&function bc(s,o,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:p}=o.type.prototype;if(d){const y=kd(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,f),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],o)}finally{null!==E&&Nn(E),sl(w),y.resolving=!1,jd()}}return f}function sa(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function nu(s,o){return!(s&rt.Self||s&rt.Host&&o)}class oa{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return ra(this._tNode,this._lView,o,d,l)}}function Ic(){return new oa(hi(),xe())}function Zs(s){return Rn(()=>{const o=s.prototype.constructor,l=o[wi]||aa(o),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const p=f[wi]||aa(f);if(p&&p!==l)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function aa(s){return ze(s)?()=>{const o=aa(J(s));return o&&o()}:Bi(s)}function la(s){const o=s[1],l=o.type;return 2===l?o.declTNode:1===l?s[6]:null}function iu(s){return function al(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const p=l[f];if(il(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(p===o)return l[f+1];f+=2}}}return null}(hi(),s)}const ua="__parameters__";function da(s,o,l){return Rn(()=>{const d=function Cc(s){return function(...l){if(s){const d=s(...l);for(const f in d)this[f]=d[f]}}}(o);function f(...p){if(this instanceof f)return d.apply(this,p),this;const y=new f(...p);return w.annotation=y,w;function w(E,A,R){const L=E.hasOwnProperty(ua)?E[ua]:Object.defineProperty(E,ua,{value:[]})[ua];for(;L.length<=R;)L.push(null);return(L[R]=L[R]||[]).push(y),E}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class Fn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=ct({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function fn(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),fn(d,o)):o!==s&&o.push(d)}return o}function Is(s,o){s.forEach(l=>Array.isArray(l)?Is(l,o):o(l))}function yo(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Jn(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function vo(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function ht(s,o,l){let d=ns(s,o);return d>=0?s[1|d]=l:(d=~d,function Mf(s,o,l,d){let f=s.length;if(f==o)s.push(l,d);else if(1===f)s.push(d,s[0]),s[0]=l;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function Sc(s,o){const l=ns(s,o);if(l>=0)return s[1|l]}function ns(s,o){return function cl(s,o,l){let d=0,f=s.length>>l;for(;f!==d;){const p=d+(f-d>>1),y=s[p<<l];if(o===y)return p<<l;y>o?f=p:d=p+1}return~(f<<l)}(s,o,1)}const jr={},su="__NG_DI_FLAG__",Wi="ngTempTokenPath",xi=/\n/gm,Mn="__source";let wo;function Do(s){const o=wo;return wo=s,o}function Xn(s,o=rt.Default){if(void 0===wo)throw new Ie(-203,!1);return null===wo?Mi(s,void 0,o):wo.get(s,o&rt.Optional?null:void 0,o)}function sn(s,o=rt.Default){return(function ni(){return ui}()||Xn)(J(s),o)}function gi(s,o=rt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),sn(s,o)}function I(s){const o=[];for(let l=0;l<s.length;l++){const d=J(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Ie(900,!1);let f,p=rt.Default;for(let y=0;y<d.length;y++){const w=d[y],E=M(w);"number"==typeof E?-1===E?f=w.token:p|=E:f=w}o.push(sn(f,p))}else o.push(sn(d))}return o}function C(s,o){return s[su]=o,s.prototype[su]=o,s}function M(s){return s[su]}const ve=C(da("Optional"),8),mt=C(da("SkipSelf"),4);var ss=(()=>((ss=ss||{})[ss.Important=1]="Important",ss[ss.DashCase=2]="DashCase",ss))();const nh=/^>|^->|<!--|-->|--!>|<!-$/g,Lf=/(<|>)/;const Mc=new Map;let $g=0;const m="__ngContext__";function _(s,o){di(o)?(s[m]=o[20],function Gy(s){Mc.set(s[20],s)}(o)):s[m]=o}let gl;function Oc(s,o){return gl(s,o)}function ml(s){const o=s[3];return Ir(o)?o[3]:o}function _l(s){return Wg(s[13])}function ma(s){return Wg(s[4])}function Wg(s){for(;null!==s&&!Ir(s);)s=s[4];return s}function du(s,o,l,d,f){if(null!=d){let p,y=!1;Ir(d)?p=d:di(d)&&(y=!0,d=d[0]);const w=qn(d);0===s&&null!==l?null==f?Dw(o,l,w):hu(o,l,w,f||null,!0):1===s&&null!==l?hu(o,l,w,f||null,!0):2===s?Jg(o,w,y):3===s&&o.destroyNode(w),null!=p&&function NI(s,o,l,d,f){const p=l[7];p!==qn(l)&&du(o,s,d,p,f);for(let w=10;w<l.length;w++){const E=l[w];kc(E[1],E,s,o,d,p)}}(o,s,p,l,f)}}function Kg(s,o){return s.createText(o)}function qy(s,o,l){s.setValue(o,l)}function yl(s,o){return s.createComment(function cu(s){return s.replace(nh,o=>o.replace(Lf,"\u200b$1\u200b"))}(o))}function Bf(s,o,l){return s.createElement(o,l)}function yw(s,o){const l=s[9],d=l.indexOf(o),f=o[3];512&o[2]&&(o[2]&=-513,Kn(f,-1)),l.splice(d,1)}function Zy(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const f=d[17];null!==f&&f!==s&&yw(f,d),o>0&&(s[l-1][4]=d[4]);const p=Jn(s,10+o);!function Rc(s,o){kc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function vw(s,o){if(!(128&o[2])){const l=o[11];l.destroyNode&&kc(s,o,l,3,null,null),function TI(s){let o=s[13];if(!o)return zy(s[1],s);for(;o;){let l=null;if(di(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)di(o)&&zy(o[1],o),o=o[3];null===o&&(o=s),di(o)&&zy(o[1],o),l=o&&o[4]}o=l}}(o)}}function zy(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function SI(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const f=o[l[d]];if(!(f instanceof Mr)){const p=l[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=f[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(f)}finally{}}}}(s,o),function CI(s,o){const l=s.cleanup,d=o[7];let f=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const y=l[p+1],w="function"==typeof y?y(o):qn(o[y]),E=d[f=l[p+2]],A=l[p+3];"boolean"==typeof A?w.removeEventListener(l[p],E,A):A>=0?d[f=A]():d[f=-A].unsubscribe(),p+=2}else{const y=d[f=l[p+1]];l[p].call(y)}if(null!==d){for(let p=f+1;p<d.length;p++)(0,d[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const l=o[17];if(null!==l&&Ir(o[3])){l!==o[3]&&yw(l,o);const d=o[19];null!==d&&d.detachView(s)}!function ih(s){Mc.delete(s[20])}(o)}}function bw(s,o,l){return ww(s,o.parent,l)}function ww(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===St.None||f===St.Emulated)return null}return Oi(d,l)}function hu(s,o,l,d,f){s.insertBefore(o,l,d,f)}function Dw(s,o,l){s.appendChild(o,l)}function Wy(s,o,l,d,f){null!==d?hu(s,o,l,d,f):Dw(s,o,l)}function Ys(s,o){return s.parentNode(o)}function Yy(s,o,l){return Ew(s,o,l)}function Qy(s,o,l){return 40&s.type?Oi(s,l):null}let vl,Hf,nv,qf,Ew=Qy;function Jy(s,o){Ew=s,vl=o}function Qg(s,o,l,d){const f=bw(s,d,o),p=o[11],w=Yy(d.parent||o[6],d,o);if(null!=f)if(Array.isArray(l))for(let E=0;E<l.length;E++)Wy(p,f,l[E],w,!1);else Wy(p,f,l,w,!1);void 0!==vl&&vl(p,d,o,l,f)}function xc(s,o){if(null!==o){const l=o.type;if(3&l)return Oi(o,s);if(4&l)return jf(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return xc(s,d);{const f=s[o.index];return Ir(f)?jf(-1,f):qn(f)}}if(32&l)return Oc(o,s)()||qn(s[o.index]);{const d=Xy(s,o);return null!==d?Array.isArray(d)?d[0]:xc(ml(s[16]),d):xc(s,o.next)}}return null}function Xy(s,o){return null!==o?s[16][6].projection[o.projection]:null}function jf(s,o){const l=10+s+1;if(l<o.length){const d=o[l],f=d[1].firstChild;if(null!==f)return xc(d,f)}return o[7]}function Jg(s,o,l){const d=Ys(s,o);d&&function Ky(s,o,l,d){s.removeChild(o,l,d)}(s,d,o,l)}function $f(s,o,l,d,f,p,y){for(;null!=l;){const w=d[l.index],E=l.type;if(y&&0===o&&(w&&_(qn(w),d),l.flags|=4),64!=(64&l.flags))if(8&E)$f(s,o,l.child,d,f,p,!1),du(o,s,f,w,p);else if(32&E){const A=Oc(l,d);let R;for(;R=A();)du(o,s,f,R,p);du(o,s,f,w,p)}else 16&E?ah(s,o,d,l,f,p):du(o,s,f,w,p);l=y?l.projectionNext:l.next}}function kc(s,o,l,d,f,p){$f(l,d,s.firstChild,o,f,p,!1)}function ah(s,o,l,d,f,p){const y=l[16],E=y[6].projection[d.projection];if(Array.isArray(E))for(let A=0;A<E.length;A++)du(o,s,f,E[A],p);else $f(s,o,E,y[3],f,p,!0)}function Xg(s,o,l){s.setAttribute(o,"style",l)}function em(s,o,l){""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l)}function tm(){if(void 0===Hf&&(Hf=null,Ht.trustedTypes))try{Hf=Ht.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Hf}function fu(s){return tm()?.createHTML(s)||s}function RI(s){nv=s}function nm(){return void 0!==nv?nv:typeof document<"u"?document:void 0}function xI(s){return function Iw(){if(void 0===qf&&(qf=null,Ht.trustedTypes))try{qf=Ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return qf}()?.createHTML(s)||s}class bl{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class FI extends bl{getTypeName(){return"HTML"}}class LI extends bl{getTypeName(){return"Style"}}class UI extends bl{getTypeName(){return"Script"}}class iv extends bl{getTypeName(){return"URL"}}class Qs extends bl{getTypeName(){return"ResourceURL"}}function _a(s){return s instanceof bl?s.changingThisBreaksApplicationSecurity:s}function ya(s,o){const l=function VI(s){return s instanceof bl&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function BI(s){return new FI(s)}function Cw(s){return new LI(s)}function im(s){return new UI(s)}function jI(s){return new iv(s)}function $I(s){return new Qs(s)}function Pc(s){const o=new HI(s);return function GI(){try{return!!(new window.DOMParser).parseFromString(fu(""),"text/html")}catch{return!1}}()?new Zf(o):o}class Zf{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(fu(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch{return null}}}class HI{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=fu(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=fu(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let f=l.length-1;0<f;f--){const y=l.item(f).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const zf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function pu(s){return(s=String(s)).match(zf)?s:"unsafe:"+s}function wl(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Wf(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const Sw=wl("area,br,col,hr,img,wbr"),Aw=wl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nw=wl("rp,rt"),Kf=Wf(Sw,Wf(Aw,wl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wf(Nw,wl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wf(Nw,Aw)),lh=wl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mw=Wf(lh,wl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),wl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qI=wl("script,style,template");class ZI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Kf.hasOwnProperty(l))return this.sanitizedSomething=!0,!qI.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let f=0;f<d.length;f++){const p=d.item(f),y=p.name,w=y.toLowerCase();if(!Mw.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=p.value;lh[w]&&(E=pu(E)),this.buf.push(" ",y,'="',Ow(E),'"')}return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Kf.hasOwnProperty(l)&&!Sw.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Ow(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const zI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,WI=/([^\#-~ |!])/g;function Ow(s){return s.replace(/&/g,"&amp;").replace(zI,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(WI,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rm;function Rw(s,o){let l=null;try{rm=rm||Pc(s);let d=o?String(o):"";l=rm.getInertBodyElement(d);let f=5,p=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=p,p=l.innerHTML,l=rm.getInertBodyElement(d)}while(d!==p);return fu((new ZI).sanitizeChildren(sm(l)||l))}finally{if(l){const d=sm(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function sm(s){return"content"in s&&function KI(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var mi=(()=>((mi=mi||{})[mi.NONE=0]="NONE",mi[mi.HTML=1]="HTML",mi[mi.STYLE=2]="STYLE",mi[mi.SCRIPT=3]="SCRIPT",mi[mi.URL=4]="URL",mi[mi.RESOURCE_URL=5]="RESOURCE_URL",mi))();function rv(s){const o=gu();return o?xI(o.sanitize(mi.HTML,s)||""):ya(s,"HTML")?xI(_a(s)):Rw(nm(),ye(s))}function uh(s){const o=gu();return o?o.sanitize(mi.URL,s)||"":ya(s,"URL")?_a(s):pu(ye(s))}function kw(s){return function Gf(s){return tm()?.createScriptURL(s)||s}(s[0])}function gu(){const s=xe();return s&&s[12]}const am=new Fn("ENVIRONMENT_INITIALIZER"),ch=new Fn("INJECTOR",-1),av=new Fn("INJECTOR_DEF_TYPES");class Fw{get(o,l=jr){if(l===jr){const d=new Error(`NullInjectorError: No provider for ${de(o)}!`);throw d.name="NullInjectorError",d}return l}}function XI(...s){return{\u0275providers:Lw(0,s)}}function Lw(s,...o){const l=[],d=new Set;let f;return Is(o,p=>{const y=p;lv(y,l,[],d)&&(f||(f=[]),f.push(y))}),void 0!==f&&Uw(f,l),l}function Uw(s,o){for(let l=0;l<s.length;l++){const{providers:f}=s[l];Is(f,p=>{o.push(p)})}}function lv(s,o,l,d){if(!(s=J(s)))return!1;let f=null,p=qi(s);const y=!p&&O(s);if(p||y){if(y&&!y.standalone)return!1;f=s}else{const E=s.ngModule;if(p=qi(E),!p)return!1;f=E}const w=d.has(f);if(y){if(w)return!1;if(d.add(f),y.dependencies){const E="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const A of E)lv(A,o,l,d)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let A;d.add(f);try{Is(p.imports,R=>{lv(R,o,l,d)&&(A||(A=[]),A.push(R))})}finally{}void 0!==A&&Uw(A,o)}if(!w){const A=Bi(f)||(()=>new f);o.push({provide:f,useFactory:A,deps:Vt},{provide:av,useValue:f,multi:!0},{provide:am,useValue:()=>sn(f),multi:!0})}const E=p.providers;null==E||w||Is(E,R=>{o.push(R)})}}return f!==s&&void 0!==s.providers}const eC=pe({provide:String,useValue:pe});function cv(s){return null!==s&&"object"==typeof s&&eC in s}function Fc(s){return"function"==typeof s}const dv=new Fn("Set Injector scope."),Qf={},nC={};let lm;function Jf(){return void 0===lm&&(lm=new Fw),lm}class mu{}class hv extends mu{constructor(o,l,d,f){super(),this.parent=l,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,cm(o,y=>this.processProvider(y)),this.records.set(ch,dh(void 0,this)),f.has("environment")&&this.records.set(mu,dh(void 0,this));const p=this.records.get(dv);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(av.multi,Vt,rt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const l=Do(this),d=Nn(void 0);try{return o()}finally{Do(l),Nn(d)}}get(o,l=jr,d=rt.Default){this.assertNotDestroyed();const f=Do(this),p=Nn(void 0);try{if(!(d&rt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const E=function $w(s){return"function"==typeof s||"object"==typeof s&&s instanceof Fn}(o)&&on(o);w=E&&this.injectableDefInScope(E)?dh(um(o),Qf):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&rt.Self?Jf():this.parent).get(o,l=d&rt.Optional&&l===jr?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[Wi]=y[Wi]||[]).unshift(de(o)),f)throw y;return function j(s,o,l,d){const f=s[Wi];throw o[Mn]&&f.unshift(o[Mn]),s.message=function Q(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=de(o);if(Array.isArray(o))f=o.map(de).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):de(w)))}f=`{${p.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${s.replace(xi,"\n  ")}`}("\n"+s.message,f,l,d),s.ngTokenPath=f,s[Wi]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Nn(p),Do(f)}}resolveInjectorInitializers(){const o=Do(this),l=Nn(void 0);try{const d=this.get(am.multi,Vt,rt.Self);for(const f of d)f()}finally{Do(o),Nn(l)}}toString(){const o=[],l=this.records;for(const d of l.keys())o.push(de(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(o){let l=Fc(o=J(o))?o:J(o&&o.provide);const d=function rC(s){return cv(s)?dh(void 0,s.useValue):dh(jw(s),Qf)}(o);if(Fc(o)||!0!==o.multi)this.records.get(l);else{let f=this.records.get(l);f||(f=dh(void 0,Qf,!0),f.factory=()=>I(f.multi),this.records.set(l,f)),l=o,f.multi.push(o)}this.records.set(l,d)}hydrate(o,l){return l.value===Qf&&(l.value=nC,l.value=l.factory()),"object"==typeof l.value&&l.value&&function oC(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=J(o.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function um(s){const o=on(s),l=null!==o?o.factory:Bi(s);if(null!==l)return l;if(s instanceof Fn)throw new Ie(204,!1);if(s instanceof Function)return function iC(s){const o=s.length;if(o>0)throw vo(o,"?"),new Ie(204,!1);const l=function pn(s){const o=s&&(s[ir]||s[Lr]);if(o){const l=function Ni(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ie(204,!1)}function jw(s,o,l){let d;if(Fc(s)){const f=J(s);return Bi(f)||um(f)}if(cv(s))d=()=>J(s.useValue);else if(function Bw(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...I(s.deps||[]));else if(function Vw(s){return!(!s||!s.useExisting)}(s))d=()=>sn(J(s.useExisting));else{const f=J(s&&(s.useClass||s.provide));if(!function sC(s){return!!s.deps}(s))return Bi(f)||um(f);d=()=>new f(...I(s.deps))}return d}function dh(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function fv(s){return!!s.\u0275providers}function cm(s,o){for(const l of s)Array.isArray(l)?cm(l,o):fv(l)?cm(l.\u0275providers,o):o(l)}class aC{}class uC{resolveComponentFactory(o){throw function lC(s){const o=Error(`No component factory found for ${de(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let _u=(()=>{class s{}return s.NULL=new uC,s})();function qw(){return yu(hi(),xe())}function yu(s,o){return new Lc(Oi(s,o))}let Lc=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=qw,s})();function cC(s){return s instanceof Lc?s.nativeElement:s}class Xf{}let dC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function hC(){const s=xe(),l=hn(hi().index,s);return(di(l)?l:s)[11]}(),s})(),fC=(()=>{class s{}return s.\u0275prov=ct({token:s,providedIn:"root",factory:()=>null}),s})();class Zw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const zw=new Zw("14.2.12"),dm={};function hm(s){return s.ngOriginalError}class Uc{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o);this._console.error("ERROR",o),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&hm(o);for(;l&&hm(l);)l=hm(l);return l||null}}function va(s){return s instanceof Function?s():s}function gv(s,o,l){let d=s.length;for(;;){const f=s.indexOf(o,l);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const p=o.length;if(f+p===d||s.charCodeAt(f+p)<=32)return f}l=f+1}}const gm="ng-template";function bC(s,o,l){let d=0;for(;d<s.length;){let f=s[d++];if(l&&"class"===f){if(f=s[d],-1!==gv(f.toLowerCase(),o,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function Kw(s){return 4===s.type&&s.value!==gm}function wC(s,o,l){return o===(4!==s.type||l?s.value:gm)}function Yw(s,o,l){let d=4;const f=s.attrs||[],p=function Qw(s){for(let o=0;o<s.length;o++)if(il(s[o]))return o;return s.length}(f);let y=!1;for(let w=0;w<o.length;w++){const E=o[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!wC(s,E,l)||""===E&&1===o.length){if(Io(d))return!1;y=!0}}else{const A=8&d?E:o[++w];if(8&d&&null!==s.attrs){if(!bC(s.attrs,A,l)){if(Io(d))return!1;y=!0}continue}const L=GM(8&d?"class":E,f,Kw(s),l);if(-1===L){if(Io(d))return!1;y=!0;continue}if(""!==A){let W;W=L>p?"":f[L+1].toLowerCase();const te=8&d?W:null;if(te&&-1!==gv(te,A,0)||2&d&&A!==W){if(Io(d))return!1;y=!0}}}}else{if(!y&&!Io(d)&&!Io(E))return!1;if(y&&Io(E))continue;y=!1,d=E|1&d}}return Io(d)||y}function Io(s){return 0==(1&s)}function GM(s,o,l,d){if(null===o)return-1;let f=0;if(d||!l){let p=!1;for(;f<o.length;){const y=o[f];if(y===s)return f;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++f];for(;"string"==typeof w;)w=o[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=p?1:2}return-1}return function DC(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function tp(s,o,l=!1){for(let d=0;d<o.length;d++)if(Yw(s,o[d],l))return!0;return!1}function TC(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function mv(s,o){return s?":not("+o.trim()+")":o}function EC(s){let o=s[0],l=1,d=2,f="",p=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&d){const w=s[++l];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!Io(y)&&(o+=mv(p,f),f=""),d=y,p=p||!Io(d);l++}return""!==f&&(o+=mv(p,f)),o}const en={};function Jw(s){_v(nn(),xe(),$n()+s,!1)}function _v(s,o,l,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Xo(o,p,l)}else{const p=s.preOrderHooks;null!==p&&ea(o,p,0,l)}Ds(l)}function tD(s,o=null,l=null,d){const f=ba(s,o,l,d);return f.resolveInjectorInitializers(),f}function ba(s,o=null,l=null,d,f=new Set){const p=[l||Vt,XI(s)];return d=d||("object"==typeof s?void 0:de(s)),new hv(p,o||Jf(),d||null,f)}let _t=(()=>{class s{static create(l,d){if(Array.isArray(l))return tD({name:""},d,l,"");{const f=l.name??"";return tD({name:f},l.parent,l.providers,f)}}}return s.THROW_IF_NOT_FOUND=jr,s.NULL=new Fw,s.\u0275prov=ct({token:s,providedIn:"any",factory:()=>sn(ch)}),s.__NG_ELEMENT_ID__=-1,s})();function Vc(s,o=rt.Default){const l=xe();return null===l?sn(s,o):ra(hi(),l,J(s),o)}function uD(){throw new Error("invalid")}function Bc(s,o){return s<<17|o<<2}function Cs(s){return s>>17&32767}function Dv(s){return 2|s}function El(s){return(131068&s)>>2}function ip(s,o){return-131069&s|o<<2}function Ev(s){return 1|s}function Fm(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d],p=l[d+1];if(-1!==p){const y=s.data[p];mc(f),y.contentQueries(2,o[p],p)}}}function Tu(s,o,l,d,f,p,y,w,E,A,R){const L=o.blueprint.slice();return L[0]=f,L[2]=76|d,(null!==R||s&&1024&s[2])&&(L[2]|=1024),qa(L),L[3]=L[15]=s,L[8]=l,L[10]=y||s&&s[10],L[11]=w||s&&s[11],L[12]=E||s&&s[12]||null,L[9]=A||s&&s[9]||null,L[6]=p,L[20]=function Hy(){return $g++}(),L[21]=R,L[16]=2==o.type?s[16]:L,L}function jc(s,o,l,d,f){let p=s.data[o];if(null===p)p=Lm(s,o,l,d,f),function Ud(){return qt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=d,p.attrs=f;const y=Wl();p.injectorIndex=null===y?-1:y.injectorIndex}return sr(p,!0),p}function Lm(s,o,l,d,f){const p=Ko(),y=Kl(),E=s.data[o]=function Hr(s,o,l,d,f,p){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,l,o,d,f);return null===s.firstChild&&(s.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}function $c(s,o,l,d){if(0===l)return-1;const f=o.length;for(let p=0;p<l;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return f}function ph(s,o,l){Jo(o);try{const d=s.viewQuery;null!==d&&Ym(1,d,l);const f=s.template;null!==f&&TD(s,o,f,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Fm(s,o),s.staticViewQueries&&Ym(2,s.viewQuery,l);const p=s.components;null!==p&&function xC(s,o){for(let l=0;l<o.length;l++)SD(s,o[l])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Hs()}}function Um(s,o,l,d){const f=o[2];if(128!=(128&f)){Jo(o);try{qa(o),function Qa(s){return qt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&TD(s,o,l,2,d);const y=3==(3&f);if(y){const A=s.preOrderCheckHooks;null!==A&&Xo(o,A,null)}else{const A=s.preOrderHooks;null!==A&&ea(o,A,0,null),Gd(o,0)}if(function LC(s){for(let o=_l(s);null!==o;o=ma(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const f=l[d],p=f[3];0==(512&f[2])&&Kn(p,1),f[2]|=512}}}(o),function jv(s){for(let o=_l(s);null!==o;o=ma(o))for(let l=10;l<o.length;l++){const d=o[l],f=d[1];$s(d)&&Um(f,d,f.template,d[8])}}(o),null!==s.contentQueries&&Fm(s,o),y){const A=s.contentCheckHooks;null!==A&&Xo(o,A)}else{const A=s.contentHooks;null!==A&&ea(o,A,1),Gd(o,1)}!function Ov(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)Ds(~f);else{const p=f,y=l[++d],w=l[++d];Vd(y,p),w(2,o[p])}}}finally{Ds(-1)}}(s,o);const w=s.components;null!==w&&function DD(s,o){for(let l=0;l<o.length;l++)UC(s,o[l])}(o,w);const E=s.viewQuery;if(null!==E&&Ym(2,E,d),y){const A=s.viewCheckHooks;null!==A&&Xo(o,A)}else{const A=s.viewHooks;null!==A&&ea(o,A,2),Gd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Kn(o[3],-1))}finally{Hs()}}}function TD(s,o,l,d,f){const p=$n(),y=2&d;try{Ds(-1),y&&o.length>22&&_v(s,o,22,!1),l(d,f)}finally{Ds(p)}}function Hc(s,o,l){if(Vo(o)){const f=o.directiveEnd;for(let p=o.directiveStart;p<f;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,l[p],p)}}}function Rv(s,o,l){!fo()||(function Gm(s,o,l,d){const f=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||Es(l,o),_(d,o);const y=l.initialInputs;for(let w=f;w<p;w++){const E=s.data[w],A=lr(E);A&&ID(o,l,E);const R=es(o,s,w,l);_(R,o),null!==y&&CD(0,w-f,R,E,0,y),A&&(hn(l.index,o)[8]=R)}}(s,o,l,Oi(l,o)),128==(128&l.flags)&&function up(s,o,l){const d=l.directiveStart,f=l.directiveEnd,p=l.index,y=function yf(){return qt.lFrame.currentDirectiveIndex}();try{Ds(p);for(let w=d;w<f;w++){const E=s.data[w],A=o[w];Qo(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Lv(E,A)}}finally{Ds(-1),Qo(y)}}(s,o,l))}function xv(s,o,l=Oi){const d=o.localNames;if(null!==d){let f=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?l(o,s):s[y];s[f++]=w}}}function Eu(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Vm(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Vm(s,o,l,d,f,p,y,w,E,A){const R=22+d,L=R+f,W=function Bm(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:en);return l}(R,L),te="function"==typeof A?A():A;return W[1]={type:s,blueprint:W,template:l,queries:null,viewQuery:w,declTNode:o,data:W.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:te,incompleteFirstPass:!1}}function kv(s,o,l,d){const f=cp(o);null===l?f.push(d):(f.push(l),s.firstCreatePass&&mh(s).push(d,f.length-1))}function Pv(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,f):l[d]=[o,f]}return l}function gh(s,o){const d=o.directiveEnd,f=s.data,p=o.attrs,y=[];let w=null,E=null;for(let A=o.directiveStart;A<d;A++){const R=f[A],L=R.inputs,W=null===p||Kw(o)?null:zm(L,p);y.push(W),w=Pv(L,A,w),E=Pv(R.outputs,A,E)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=E}function as(s,o,l,d,f,p,y,w){const E=Oi(o,l);let R,A=o.inputs;!w&&null!=A&&(R=A[d])?(Qm(s,l,R,d,f),ac(o)&&$m(l,o.index)):3&o.type&&(d=function jm(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=y?y(f,o.value||"",d):f,p.setProperty(E,d,f))}function $m(s,o){const l=hn(o,s);16&l[2]||(l[2]|=32)}function lp(s,o,l,d){let f=!1;if(fo()){const p=function FC(s,o,l){const d=s.directiveRegistry;let f=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];tp(l,y.selectors,!1)&&(f||(f=[]),go(Es(l,o),s,y.type),lr(y)?(qm(s,l),f.unshift(y)):f.push(y))}return f}(s,o,l),y=null===d?null:{"":-1};if(null!==p){f=!0,Vv(l,s.data.length,p.length);for(let R=0;R<p.length;R++){const L=p[R];L.providersResolver&&L.providersResolver(L)}let w=!1,E=!1,A=$c(s,o,p.length,null);for(let R=0;R<p.length;R++){const L=p[R];l.mergedAttrs=rl(l.mergedAttrs,L.hostAttrs),Bv(s,l,o,A,L),Uv(A,L,y),null!==L.contentQueries&&(l.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(l.flags|=128);const W=L.type.prototype;!w&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),w=!0),!E&&(W.ngOnChanges||W.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),E=!0),A++}gh(s,l)}y&&function Zm(s,o,l){if(o){const d=s.localNames=[];for(let f=0;f<o.length;f+=2){const p=l[o[f+1]];if(null==p)throw new Ie(-301,!1);d.push(o[f],p)}}}(l,d,y)}return l.mergedAttrs=rl(l.mergedAttrs,l.attrs),f}function Hm(s,o,l,d,f,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const E=~o.index;(function Fv(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(w)!=E&&w.push(E),w.push(d,f,y)}}function Lv(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function qm(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Uv(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;lr(o)&&(l[""]=s)}}function Vv(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function Bv(s,o,l,d,f){s.data[d]=f;const p=f.factory||(f.factory=Bi(f.type)),y=new Mr(p,lr(f),Vc);s.blueprint[d]=y,l[d]=y,Hm(s,o,0,d,$c(s,l,f.hostVars,en),f)}function ID(s,o,l){const d=Oi(o,s),f=Eu(l),p=s[10],y=Da(s,Tu(s,f,null,l.onPush?32:16,d,o,p,p.createRenderer(d,l),null,null,null));s[o.index]=y}function Gc(s,o,l,d,f,p,y){if(null==p)s.removeAttribute(o,f,l);else{const w=null==y?ye(p):y(p,d||"",f);s.setAttribute(o,f,w,l)}}function CD(s,o,l,d,f,p){const y=p[o];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const A=y[E++],R=y[E++],L=y[E++];null!==w?d.setInput(l,L,A,R):l[R]=L}}}function zm(s,o){let l=null,d=0;for(;d<o.length;){const f=o[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,s[f],o[d+1])),d+=2}else d+=2;else d+=4}return l}function Iu(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function UC(s,o){const l=hn(o,s);if($s(l)){const d=l[1];48&l[2]?Um(d,l,d.template,l[8]):l[5]>0&&Km(l)}}function Km(s){for(let d=_l(s);null!==d;d=ma(d))for(let f=10;f<d.length;f++){const p=d[f];if($s(p))if(512&p[2]){const y=p[1];Um(y,p,y.template,p[8])}else p[5]>0&&Km(p)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const f=hn(l[d],s);$s(f)&&f[5]>0&&Km(f)}}function SD(s,o){const l=hn(o,s),d=l[1];(function VC(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),ph(d,l,l[8])}function Da(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function So(s){for(;s;){s[2]|=32;const o=ml(s);if(lc(s)&&!o)return s;s=o}return null}function qc(s,o,l,d=!0){const f=o[10];f.begin&&f.begin();try{Um(s,o,s.template,l)}catch(y){throw d&&AD(o,y),y}finally{f.end&&f.end()}}function Ym(s,o,l){mc(0),o(s,l)}function cp(s){return s[7]||(s[7]=[])}function mh(s){return s.cleanup||(s.cleanup=[])}function AD(s,o){const l=s[9],d=l?l.get(Uc,null):null;d&&d.handleError(o)}function Qm(s,o,l,d,f){for(let p=0;p<l.length;){const y=l[p++],w=l[p++],E=o[y],A=s.data[y];null!==A.setInput?A.setInput(E,f,d,w):E[w]=f}}function Jm(s,o,l){let d=l?s.styles:null,f=l?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?f=me(f,w):2==p&&(d=me(d,w+": "+o[++y]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=f:s.classesWithoutHost=f}function Xm(s,o,l,d,f=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&d.push(qn(p)),Ir(p))for(let w=10;w<p.length;w++){const E=p[w],A=E[1].firstChild;null!==A&&Xm(E[1],E,A,d)}const y=l.type;if(8&y)Xm(s,o,l.child,d);else if(32&y){const w=Oc(l,o);let E;for(;E=w();)d.push(E)}else if(16&y){const w=Xy(o,l);if(Array.isArray(w))d.push(...w);else{const E=ml(o[16]);Xm(E[1],E,w,d,!0)}}l=f?l.projectionNext:l.next}return d}class dp{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return Xm(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ir(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(Zy(o,d),Jn(l,d))}this._attachedToViewContainer=!1}vw(this._lView[1],this._lView)}onDestroy(o){kv(this._lView[1],this._lView,null,o)}markForCheck(){So(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){qc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _w(s,o){kc(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=o}}class hp extends dp{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;qc(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Ta extends _u{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=O(o);return new Ea(l,this.ngModule)}}function Hv(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class MD{constructor(o,l){this.injector=o,this.parentInjector=l}get(o,l,d){const f=this.injector.get(o,dm,d);return f!==dm||l===dm?f:this.parentInjector.get(o,l,d)}}class Ea extends aC{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function IC(s){return s.map(EC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Hv(this.componentDef.inputs)}get outputs(){return Hv(this.componentDef.outputs)}create(o,l,d,f){let p=(f=f||this.ngModule)instanceof mu?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new MD(o,p):o,w=y.get(Xf,null);if(null===w)throw new Ie(407,!1);const E=y.get(fC,null),A=w.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",L=d?function op(s,o,l){return s.selectRootElement(o,l===St.ShadowDom)}(A,d,this.componentDef.encapsulation):Bf(A,R,function ND(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),W=this.componentDef.onPush?288:272,te=Vm(0,null,null,1,0,null,null,null,null,null),Ee=Tu(null,te,null,W,null,null,w,A,E,y,null);let qe,Xe;Jo(Ee);try{const yt=function RD(s,o,l,d,f,p){const y=l[1];l[22]=s;const E=jc(y,22,2,"#host",null),A=E.mergedAttrs=o.hostAttrs;null!==A&&(Jm(E,A,!0),null!==s&&(Ts(f,s,A),null!==E.classes&&em(f,s,E.classes),null!==E.styles&&Xg(f,s,E.styles)));const R=d.createRenderer(s,o),L=Tu(l,Eu(o),null,o.onPush?32:16,l[22],E,d,R,p||null,null,null);return y.firstCreatePass&&(go(Es(E,l),y,o.type),qm(y,E),Vv(E,l.length,1)),Da(l,L),l[22]=L}(L,this.componentDef,Ee,w,A);if(L)if(d)Ts(A,L,["ng-version",zw.full]);else{const{attrs:xt,classes:Pe}=function CC(s){const o=[],l=[];let d=1,f=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===f?""!==p&&o.push(p,s[++d]):8===f&&l.push(p);else{if(!Io(f))break;f=p}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);xt&&Ts(A,L,xt),Pe&&Pe.length>0&&em(A,L,Pe.join(" "))}if(Xe=Zo(te,22),void 0!==l){const xt=Xe.projection=[];for(let Pe=0;Pe<this.ngContentSelectors.length;Pe++){const Pt=l[Pe];xt.push(null!=Pt?Array.from(Pt):null)}}qe=function xD(s,o,l,d){const f=l[1],p=function ap(s,o,l){const d=hi();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Bv(s,d,o,$c(s,o,1,null),l),gh(s,d));const f=es(o,s,d.directiveStart,d);_(f,o);const p=Oi(d,o);return p&&_(p,o),f}(f,l,o);if(s[8]=l[8]=p,null!==d)for(const w of d)w(p,o);if(o.contentQueries){const w=hi();o.contentQueries(1,p,w.directiveStart)}const y=hi();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ds(y.index),Hm(l[1],y,0,y.directiveStart,y.directiveEnd,o),Lv(o,p)),p}(yt,this.componentDef,Ee,[Gv]),ph(te,Ee,null)}finally{Hs()}return new OD(this.componentType,qe,yu(Xe,Ee),Ee,Xe)}}class OD extends class Hw{}{constructor(o,l,d,f,p){super(),this.location=d,this._rootLView=f,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new hp(f),this.componentType=o}setInput(o,l){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[o])){const p=this._rootLView;Qm(p[1],p,f,o,l),$m(p,this._tNode.index)}}get injector(){return new oa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Gv(){const s=hi();Yl(xe()[1],s)}function t_(s){let o=function e_(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let f;if(lr(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ie(903,!1);f=o.\u0275dir}if(f){if(l){d.push(f);const y=s;y.inputs=fp(s.inputs),y.declaredInputs=fp(s.declaredInputs),y.outputs=fp(s.outputs);const w=f.hostBindings;w&&HC(s,w);const E=f.viewQuery,A=f.contentQueries;if(E&&jC(s,E),A&&$C(s,A),ce(s.inputs,f.inputs),ce(s.declaredInputs,f.declaredInputs),ce(s.outputs,f.outputs),lr(f)&&f.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===t_&&(l=!1)}}o=Object.getPrototypeOf(o)}!function kD(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=o+=f.hostVars,f.hostAttrs=rl(f.hostAttrs,l=rl(l,f.hostAttrs))}}(d)}function fp(s){return s===Zi?{}:s===Vt?[]:s}function jC(s,o){const l=s.viewQuery;s.viewQuery=l?(d,f)=>{o(d,f),l(d,f)}:o}function $C(s,o){const l=s.contentQueries;s.contentQueries=l?(d,f,p)=>{o(d,f,p),l(d,f,p)}:o}function HC(s,o){const l=s.hostBindings;s.hostBindings=l?(d,f)=>{o(d,f),l(d,f)}:o}let yh=null;function Cu(){if(!yh){const s=Ht.Symbol;if(s&&s.iterator)yh=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(yh=d)}}}return yh}function Sl(s){return!!s_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Cu()in s)}function s_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ia(s,o,l){return s[o]=l}function _r(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Su(s,o,l,d){const f=_r(s,o,l);return _r(s,o+1,d)||f}function o_(s,o,l,d){const f=xe();return _r(f,Ja(),o)&&(nn(),function wa(s,o,l,d,f,p){const y=Oi(s,o);Gc(o[11],y,p,s.value,l,d,f)}(Un(),f,s,o,l,d)),o_}function Zc(s,o,l,d){return _r(s,Ja(),l)?o+ye(l)+d:en}function Kv(s,o,l,d,f,p,y,w){const E=xe(),A=nn(),R=s+22,L=A.firstCreatePass?function FD(s,o,l,d,f,p,y,w,E){const A=o.consts,R=jc(o,s,4,y||null,Nr(A,w));lp(o,l,R,Nr(A,E)),Yl(o,R);const L=R.tViews=Vm(2,R,d,f,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,R),L.queries=o.queries.embeddedTView(R)),R}(R,A,E,o,l,d,f,p,y):A.data[R];sr(L,!1);const W=E[11].createComment("");Qg(A,E,W,L),_(W,E),Da(E,E[R]=Iu(W,E,W,L)),Ha(L)&&Rv(A,E,L),null!=y&&xv(E,L,w)}function Yv(s){return function Jr(s,o){return s[o]}(function Ya(){return qt.lFrame.contextLView}(),22+s)}function c_(s,o,l){const d=xe();return _r(d,Ja(),o)&&as(nn(),Un(),d,s,o,d[11],l,!1),c_}function d_(s,o,l,d,f){const y=f?"class":"style";Qm(s,l,o.inputs[y],y,d)}function Qc(s,o,l,d){const f=xe(),p=nn(),y=22+s,w=f[11],E=f[y]=Bf(w,o,function vc(){return qt.lFrame.currentNamespace}()),A=p.firstCreatePass?function LD(s,o,l,d,f,p,y){const w=o.consts,A=jc(o,s,2,f,Nr(w,p));return lp(o,l,A,Nr(w,y)),null!==A.attrs&&Jm(A,A.attrs,!1),null!==A.mergedAttrs&&Jm(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(y,p,f,0,o,l,d):p.data[y];sr(A,!0);const R=A.mergedAttrs;null!==R&&Ts(w,E,R);const L=A.classes;null!==L&&em(w,E,L);const W=A.styles;return null!==W&&Xg(w,E,W),64!=(64&A.flags)&&Qg(p,f,E,A),0===function za(){return qt.lFrame.elementDepthCount}()&&_(E,f),function Ld(){qt.lFrame.elementDepthCount++}(),Ha(A)&&(Rv(p,f,A),Hc(p,A,f)),null!==d&&xv(f,A),Qc}function Pr(){let s=hi();Kl()?Yo():(s=s.parent,sr(s,!1));const o=s;!function Wa(){qt.lFrame.elementDepthCount--}();const l=nn();return l.firstCreatePass&&(Yl(l,s),Vo(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Jl(s){return 0!=(16&s.flags)}(o)&&d_(l,o,xe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Xl(s){return 0!=(32&s.flags)}(o)&&d_(l,o,xe(),o.stylesWithoutHost,!1),Pr}function h_(s,o,l,d){return Qc(s,o,l,d),Pr(),h_}function Nl(s,o,l){const d=xe(),f=nn(),p=s+22,y=f.firstCreatePass?function UD(s,o,l,d,f){const p=o.consts,y=Nr(p,d),w=jc(o,s,8,"ng-container",y);return null!==y&&Jm(w,y,!0),lp(o,l,w,Nr(p,f)),null!==o.queries&&o.queries.elementStart(o,w),w}(p,f,d,o,l):f.data[p];sr(y,!0);const w=d[p]=d[11].createComment("");return Qg(f,d,w,y),_(w,d),Ha(y)&&(Rv(f,d,y),Hc(f,y,d)),null!=l&&xv(d,y),Nl}function f_(){let s=hi();const o=nn();return Kl()?Yo():(s=s.parent,sr(s,!1)),o.firstCreatePass&&(Yl(o,s),Vo(s)&&o.queries.elementEnd(s)),f_}function p_(){return xe()}function Qv(s){return!!s&&"function"==typeof s.then}function BD(s){return!!s&&"function"==typeof s.subscribe}const Jv=BD;function Xv(s,o,l,d){const f=xe(),p=nn(),y=hi();return function e0(s,o,l,d,f,p,y,w){const E=Ha(d),R=s.firstCreatePass&&mh(s),L=o[8],W=cp(o);let te=!0;if(3&d.type||w){const Xe=Oi(d,o),yt=w?w(Xe):Xe,xt=W.length,Pe=w?In=>w(qn(In[d.index])):d.index;let Pt=null;if(!w&&E&&(Pt=function ZC(s,o,l,d){const f=s.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const y=f[p];if(y===l&&f[p+1]===d){const w=o[7],E=f[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(s,o,f,d.index)),null!==Pt)(Pt.__ngLastListenerFn__||Pt).__ngNextListenerFn__=p,Pt.__ngLastListenerFn__=p,te=!1;else{p=Jc(d,o,L,p,!1);const In=l.listen(yt,f,p);W.push(p,In),R&&R.push(f,Pe,xt,xt+1)}}else p=Jc(d,o,L,p,!1);const Ee=d.outputs;let qe;if(te&&null!==Ee&&(qe=Ee[f])){const Xe=qe.length;if(Xe)for(let yt=0;yt<Xe;yt+=2){const zn=o[qe[yt]][qe[yt+1]].subscribe(p),bd=W.length;W.push(p,zn),R&&R.push(f,d.index,bd,-(bd+1))}}}(p,f,f[11],y,s,o,0,d),Xv}function Qi(s,o,l,d){try{return!1!==l(d)}catch(f){return AD(s,f),!1}}function Jc(s,o,l,d,f){return function p(y){if(y===Function)return d;So(2&s.flags?hn(s.index,o):o);let E=Qi(o,0,d,y),A=p.__ngNextListenerFn__;for(;A;)E=Qi(o,0,A,y)&&E,A=A.__ngNextListenerFn__;return f&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function Ml(s=1){return function Gs(s){return(qt.lFrame.contextLView=function $d(s,o){for(;s>0;)o=o[15],s--;return o}(s,qt.lFrame.contextLView))[8]}(s)}function t0(s,o){let l=null;const d=function qM(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let f=0;f<o.length;f++){const p=o[f];if("*"!==p){if(null===d?tp(s,p,!0):TC(d,p))return f}else l=f}return l}function jD(s){const o=xe()[16][6];if(!o.projection){const d=o.projection=vo(s?s.length:1,null),f=d.slice();let p=o.child;for(;null!==p;){const y=s?t0(p,s):0;null!==y&&(f[y]?f[y].projectionNext=p:d[y]=p,f[y]=p),p=p.next}}}function Ge(s,o=0,l){const d=xe(),f=nn(),p=jc(f,22+s,16,null,l||null);null===p.projection&&(p.projection=o),Yo(),64!=(64&p.flags)&&function AI(s,o,l){ah(o[11],0,o,l,bw(s,l,o),Yy(l.parent||o[6],l,o))}(f,d,p)}function yi(s,o,l){return Sa(s,"",o,"",l),yi}function Sa(s,o,l,d,f){const p=xe(),y=Zc(p,o,l,d);return y!==en&&as(nn(),Un(),p,s,y,p[11],f,!1),Sa}function HD(s,o,l,d,f){const p=s[l+1],y=null===o;let w=d?Cs(p):El(p),E=!1;for(;0!==w&&(!1===E||y);){const R=s[w+1];YC(s[w],o)&&(E=!0,s[w+1]=d?Ev(R):Dv(R)),w=d?Cs(R):El(R)}E&&(s[l+1]=d?Dv(p):Ev(p))}function YC(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ns(s,o)>=0}const Ji={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function n0(s){return s.substring(Ji.key,Ji.keyEnd)}function GD(s,o){const l=Ji.textEnd;return l===o?-1:(o=Ji.keyEnd=function oi(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Ji.key=o,l),ed(s,o,l))}function ed(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function Je(s,o,l){return Ao(s,o,l,!1),Je}function wh(s,o){return Ao(s,o,null,!0),wh}function zD(s){!function qr(s,o,l,d){const f=nn(),p=ws(2);f.firstUpdatePass&&s0(f,null,p,d);const y=xe();if(l!==en&&_r(y,p,l)){const w=f.data[$n()];if(Mu(w,d)&&!r0(f,p)){let E=d?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(l=me(E,l||"")),d_(f,w,y,l,d)}else!function No(s,o,l,d,f,p,y,w){f===en&&(f=Vt);let E=0,A=0,R=0<f.length?f[0]:null,L=0<p.length?p[0]:null;for(;null!==R||null!==L;){const W=E<f.length?f[E+1]:void 0,te=A<p.length?p[A+1]:void 0;let qe,Ee=null;R===L?(E+=2,A+=2,W!==te&&(Ee=L,qe=te)):null===L||null!==R&&R<L?(E+=2,Ee=R):(A+=2,Ee=L,qe=te),null!==Ee&&YD(s,o,l,d,Ee,qe,y,w),R=E<f.length?f[E]:null,L=A<p.length?p[A]:null}}(f,w,y,y[11],y[p+1],y[p+1]=function ue(s,o,l){if(null==l||""===l)return Vt;const d=[],f=_a(l);if(Array.isArray(f))for(let p=0;p<f.length;p++)s(d,f[p],!0);else if("object"==typeof f)for(const p in f)f.hasOwnProperty(p)&&s(d,p,f[p]);else"string"==typeof f&&o(d,f);return d}(s,o,l),d,p)}}(ht,Ss,s,!0)}function Ss(s,o){for(let l=function tO(s){return function Xc(s){Ji.key=0,Ji.keyEnd=0,Ji.value=0,Ji.valueEnd=0,Ji.textEnd=s.length}(s),GD(s,ed(s,0,Ji.textEnd))}(o);l>=0;l=GD(o,l))ht(s,n0(o),!0)}function Ao(s,o,l,d){const f=xe(),p=nn(),y=ws(2);p.firstUpdatePass&&s0(p,s,y,d),o!==en&&_r(f,y,o)&&YD(p,p.data[$n()],f,f[11],s,f[y+1]=function JC(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=de(_a(s)))),s}(o,l),d,y)}function r0(s,o){return o>=s.expandoStartIndex}function s0(s,o,l,d){const f=s.data;if(null===f[l+1]){const p=f[$n()],y=r0(s,l);Mu(p,d)&&null===o&&!y&&(o=!1),o=function As(s,o,l,d){const f=gc(s);let p=d?o.residualClasses:o.residualStyles;if(null===f)0===(d?o.classBindings:o.styleBindings)&&(l=nd(l=Aa(null,s,o,l,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==f)if(l=Aa(f,s,o,l,d),null===p){let E=function o0(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==El(d))return s[Cs(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=Aa(null,s,o,E[1],d),E=nd(E,o.attrs,d),function WD(s,o,l,d){s[Cs(l?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else p=function KD(s,o,l){let d;const f=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<f;p++)d=nd(d,s[p].hostAttrs,l);return nd(d,o.attrs,l)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),l}(f,p,o,d),function WC(s,o,l,d,f,p){let y=p?o.classBindings:o.styleBindings,w=Cs(y),E=El(y);s[d]=l;let R,A=!1;if(Array.isArray(l)){const L=l;R=L[1],(null===R||ns(L,R)>0)&&(A=!0)}else R=l;if(f)if(0!==E){const W=Cs(s[w+1]);s[d+1]=Bc(W,w),0!==W&&(s[W+1]=ip(s[W+1],d)),s[w+1]=function wv(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=Bc(w,0),0!==w&&(s[w+1]=ip(s[w+1],d)),w=d;else s[d+1]=Bc(E,0),0===w?w=d:s[E+1]=ip(s[E+1],d),E=d;A&&(s[d+1]=Dv(s[d+1])),HD(s,R,d,!0),HD(s,R,d,!1),function KC(s,o,l,d,f){const p=f?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&ns(p,o)>=0&&(l[d+1]=Ev(l[d+1]))}(o,R,s,d,p),y=Bc(w,E),p?o.classBindings=y:o.styleBindings=y}(f,p,o,l,y,d)}}function Aa(s,o,l,d,f){let p=null;const y=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<y&&(p=o[w],d=nd(d,p.hostAttrs,f),p!==s);)w++;return null!==s&&(l.directiveStylingLast=w),d}function nd(s,o,l){const d=l?1:2;let f=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?f=y:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ht(s,y,!!l||o[++p]))}return void 0===s?null:s}function YD(s,o,l,d,f,p,y,w){if(!(3&o.type))return;const E=s.data,A=E[w+1];Mo(function Tv(s){return 1==(1&s)}(A)?Dh(E,o,l,f,El(A),y):void 0)||(Mo(p)||function Em(s){return 2==(2&s)}(A)&&(p=Dh(E,null,l,f,w,y)),function MI(s,o,l,d,f){if(o)f?s.addClass(l,d):s.removeClass(l,d);else{let p=-1===d.indexOf("-")?void 0:ss.DashCase;null==f?s.removeStyle(l,d,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=ss.Important),s.setStyle(l,d,f,p))}}(d,y,Ur($n(),l),f,p))}function Dh(s,o,l,d,f,p){const y=null===o;let w;for(;f>0;){const E=s[f],A=Array.isArray(E),R=A?E[1]:E,L=null===R;let W=l[f+1];W===en&&(W=L?Vt:void 0);let te=L?Sc(W,d):R===d?W:void 0;if(A&&!Mo(te)&&(te=Sc(E,d)),Mo(te)&&(w=te,y))return w;const Ee=s[f+1];f=y?Cs(Ee):El(Ee)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(w=Sc(E,d))}return w}function Mo(s){return void 0!==s}function Mu(s,o){return 0!=(s.flags&(o?16:32))}function a0(s,o=""){const l=xe(),d=nn(),f=s+22,p=d.firstCreatePass?jc(d,f,1,o,null):d.data[f],y=l[f]=Kg(l[11],o);Qg(d,l,y,p),sr(p,!1)}function bp(s){return m_("",s,""),bp}function m_(s,o,l){const d=xe(),f=Zc(d,s,o,l);return f!==en&&function Cl(s,o,l){const d=Ur(o,s);qy(s[11],d,l)}(d,$n(),f),m_}function b_(s,o,l){const d=xe();return _r(d,Ja(),o)&&as(nn(),Un(),d,s,o,d[11],l,!0),b_}function f0(s,o,l){const d=xe();if(_r(d,Ja(),o)){const p=nn(),y=Un();as(p,y,d,s,o,function _h(s,o,l){return(null===s||lr(s))&&(l=function Fd(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}(gc(p.data),y,d),l,!0)}return f0}const od=void 0;var i1=["en",[["a","p"],["AM","PM"],od],[["AM","PM"],od,od],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],od,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],od,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",od,"{1} 'at' {0}",od],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function n1(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Ns={};function w_(s){const o=function p0(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=On(o);if(l)return l;const d=o.split("-")[0];if(l=On(d),l)return l;if("en"===d)return i1;throw new Ie(701,!1)}function dn(s){return w_(s)[Lt.PluralCase]}function On(s){return s in Ns||(Ns[s]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[s]),Ns[s]}var Lt=(()=>((Lt=Lt||{})[Lt.LocaleId=0]="LocaleId",Lt[Lt.DayPeriodsFormat=1]="DayPeriodsFormat",Lt[Lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Lt[Lt.DaysFormat=3]="DaysFormat",Lt[Lt.DaysStandalone=4]="DaysStandalone",Lt[Lt.MonthsFormat=5]="MonthsFormat",Lt[Lt.MonthsStandalone=6]="MonthsStandalone",Lt[Lt.Eras=7]="Eras",Lt[Lt.FirstDayOfWeek=8]="FirstDayOfWeek",Lt[Lt.WeekendRange=9]="WeekendRange",Lt[Lt.DateFormat=10]="DateFormat",Lt[Lt.TimeFormat=11]="TimeFormat",Lt[Lt.DateTimeFormat=12]="DateTimeFormat",Lt[Lt.NumberSymbols=13]="NumberSymbols",Lt[Lt.NumberFormats=14]="NumberFormats",Lt[Lt.CurrencyCode=15]="CurrencyCode",Lt[Lt.CurrencySymbol=16]="CurrencySymbol",Lt[Lt.CurrencyName=17]="CurrencyName",Lt[Lt.Currencies=18]="Currencies",Lt[Lt.Directionality=19]="Directionality",Lt[Lt.PluralCase=20]="PluralCase",Lt[Lt.ExtraData=21]="ExtraData",Lt))();const r1=["zero","one","two","few","many"],ad="en-US",Cp={marker:"element"},D_={marker:"ICU"};var Ei=(()=>((Ei=Ei||{})[Ei.SHIFT=2]="SHIFT",Ei[Ei.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ei[Ei.COMMENT=2]="COMMENT",Ei))();let m0=ad;function o1(s){(function Ve(s,o){null==s&&Te(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(m0=s.toLowerCase().replace(/_/g,"-"))}function l1(s,o,l){const d=o.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?Qy(s,0,l):qn(l[f])}function u1(s,o,l,d,f){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=d,w=null;if(3&o.type||(w=y,y=f),null!==y&&0==(2&o.flags))for(let E=1;E<p.length;E++)hu(s,y,l[p[E]],w,!1)}}function ld(s,o){if(s.push(o),s.length>1)for(let l=s.length-2;l>=0;l--){const d=s[l];c1(d)||Ii(d,o)&&null===T_(d)&&yr(d,o.index)}}function c1(s){return!(64&s.type)}function Ii(s,o){return c1(o)||s.index>o.index}function T_(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function yr(s,o){const l=s.insertBeforeIndex;Array.isArray(l)?l[0]=o:(Jy(l1,u1),s.insertBeforeIndex=o)}function En(s,o){const l=s.data[o];return null===l||"string"==typeof l?null:l.hasOwnProperty("currentCaseLViewIndex")?l:l.value}function cs(s,o,l){const d=Lm(s,l,64,null,null);return ld(o,d),d}function Hi(s,o){const l=o[s.currentCaseLViewIndex];return null===l?l:l<0?~l:l}function _0(s){return s>>>17}function Zn(s){return(131070&s)>>>1}let Oo=0,Rl=0;function v0(s,o,l,d){const f=l[11];let y,p=null;for(let w=0;w<o.length;w++){const E=o[w];if("string"==typeof E){const A=o[++w];null===l[A]&&(l[A]=Kg(f,E))}else if("number"==typeof E)switch(1&E){case 0:const A=_0(E);let R,L;if(null===p&&(p=A,y=Ys(f,d)),A===p?(R=d,L=y):(R=null,L=qn(l[A])),null!==L){const qe=Zn(E);hu(f,L,l[qe],R,!1);const yt=En(s,qe);if(null!==yt&&"object"==typeof yt){const xt=Hi(yt,l);null!==xt&&v0(s,yt.create[xt],l,l[yt.anchorIdx])}}break;case 1:const te=o[++w],Ee=o[++w];Gc(f,Ur(E>>>1,l),null,null,te,Ee,null)}else switch(E){case D_:const A=o[++w],R=o[++w];null===l[R]&&_(l[R]=yl(f,A),l);break;case Cp:const L=o[++w],W=o[++w];null===l[W]&&_(l[W]=Bf(f,L,null),l)}}}function Ma(s,o,l,d,f){for(let p=0;p<l.length;p++){const y=l[p],w=l[++p];if(y&f){let E="";for(let A=p+1;A<=p+w;A++){const R=l[A];if("string"==typeof R)E+=R;else if("number"==typeof R)if(R<0)E+=ye(o[d-R]);else{const L=R>>>2;switch(3&R){case 1:const W=l[++A],te=l[++A],Ee=s.data[L];"string"==typeof Ee?Gc(o[11],o[L],null,Ee,W,E,te):as(s,Ee,o,W,E,o[11],te,!1);break;case 0:const qe=o[L];null!==qe&&qy(o[11],qe,E);break;case 2:Sh(s,En(s,L),o,E);break;case 3:b0(s,En(s,L),d,o)}}}}else{const E=l[p+1];if(E>0&&3==(3&E)){const R=En(s,E>>>2);o[R.currentCaseLViewIndex]<0&&b0(s,R,d,o)}}p+=w}}function b0(s,o,l,d){let f=d[o.currentCaseLViewIndex];if(null!==f){let p=Oo;f<0&&(f=d[o.currentCaseLViewIndex]=~f,p=-1),Ma(s,d,o.update[f],l,p)}}function Sh(s,o,l,d){const f=function D0(s,o){let l=s.cases.indexOf(o);if(-1===l)switch(s.type){case 1:{const d=function g0(s,o){const l=dn(o)(parseInt(s,10)),d=r1[l];return void 0!==d?d:"other"}(o,function a1(){return m0}());l=s.cases.indexOf(d),-1===l&&"other"!==d&&(l=s.cases.indexOf("other"));break}case 0:l=s.cases.indexOf("other")}return-1===l?null:l}(o,d);if(Hi(o,l)!==f&&(w0(s,o,l),l[o.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const y=l[o.anchorIdx];y&&v0(s,o.create[f],l,y)}}function w0(s,o,l){let d=Hi(o,l);if(null!==d){const f=o.remove[d];for(let p=0;p<f.length;p++){const y=f[p];if(y>0){const w=Ur(y,l);null!==w&&Jg(l[11],w)}else w0(s,En(s,~y),l)}}}function C_(){const s=[];let l,d,o=-1;function p(w,E){o=0;const A=Hi(w,E);d=null!==A?w.remove[A]:Vt}function y(){if(o<d.length){const w=d[o++];return w>0?l[w]:(s.push(o,d),p(l[1].data[~w],l),y())}return 0===s.length?null:(d=s.pop(),o=s.pop(),y())}return function f(w,E){for(l=E;s.length;)s.pop();return p(w.value,E),y}}const Fu=/\ufffd(\d+):?\d*\ufffd/gi,T0=/\ufffd(\d+)\ufffd/,Nh=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,_1=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,iS=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,y1=/\uE500/g;function Ap(s,o,l,d,f,p,y){const w=$c(s,d,1,null);let E=w<<Ei.SHIFT,A=Wl();o===A&&(A=null),null===A&&(E|=Ei.APPEND_EAGERLY),y&&(E|=Ei.COMMENT,function rh(s){void 0===gl&&(gl=s())}(C_)),f.push(E,null===p?"":p);const R=Lm(s,w,y?32:1,null===p?"":p,null);ld(l,R);const L=R.index;return sr(R,!1),null!==A&&o!==A&&function Ch(s,o){let l=s.insertBeforeIndex;null===l?(Jy(l1,u1),l=s.insertBeforeIndex=[null,o]):(function _e(s,o,l){s!=o&&Te(l,s,o,"==")}(Array.isArray(l),!0,"Expecting array here"),l.push(o))}(A,L),R}function rS(s,o,l,d,f,p,y){const w=y.match(Fu),E=Ap(s,o,l,p,d,w?null:y,!1);w&&Oh(f,y,E.index,null,0,null)}function Oh(s,o,l,d,f,p){const y=s.length,w=y+1;s.push(null,null);const E=y+2,A=o.split(Fu);let R=0;for(let L=0;L<A.length;L++){const W=A[L];if(1&L){const te=f+parseInt(W,10);s.push(-1-te),R|=Lu(te)}else""!==W&&s.push(W)}return s.push(l<<2|(d?1:0)),d&&s.push(d,p),s[y]=R,s[w]=s.length-E,R}function Lu(s){return 1<<Math.min(s,31)}function Uu(s){let o,p,l="",d=0,f=!1;for(;null!==(o=_1.exec(s));)f?o[0]===`\ufffd/*${p}\ufffd`&&(d=o.index,f=!1):(l+=s.substring(d,o.index+o[0].length),p=o[1],f=!0);return l+=s.slice(d),l}function ud(s,o,l,d,f,p){let y=0;const w={type:f.type,currentCaseLViewIndex:$c(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function A_(s,o,l){s.push(Lu(o.mainBinding),2,-1-o.mainBinding,l<<2|2)})(l,f,p),function d1(s,o,l){const d=s.data[o];null===d?s.data[o]=l:d.value=l}(s,p,w);const E=f.values;for(let A=0;A<E.length;A++){const R=E[A],L=[];for(let W=0;W<R.length;W++){const te=R[W];if("string"!=typeof te){const Ee=L.push(te)-1;R[W]=`\x3c!--\ufffd${Ee}\ufffd--\x3e`}}y=Np(s,w,o,l,d,f.cases[A],R.join(""),L)|y}y&&function N_(s,o,l){s.push(o,1,l<<2|3)}(l,y,p)}function T1(s){const o=[],l=[];let d=1,f=0;const p=S_(s=s.replace(Nh,function(y,w,E){return d="select"===E?0:1,f=parseInt(w.slice(1),10),""}));for(let y=0;y<p.length;){let w=p[y++].trim();1===d&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&o.push(w);const E=S_(p[y++]);o.length>l.length&&l.push(E)}return{type:d,mainBinding:f,cases:o,values:l}}function S_(s){if(!s)return[];let o=0;const l=[],d=[],f=/[{}]/g;let p;for(f.lastIndex=0;p=f.exec(s);){const w=p.index;if("}"==p[0]){if(l.pop(),0==l.length){const E=s.substring(o,w);Nh.test(E)?d.push(T1(E)):d.push(E),o=w+1}}else{if(0==l.length){const E=s.substring(o,w);d.push(E),o=w+1}l.push("{")}}const y=s.substring(o);return d.push(y),d}function Np(s,o,l,d,f,p,y,w){const E=[],A=[],R=[];o.cases.push(p),o.create.push(E),o.remove.push(A),o.update.push(R);const W=Pc(nm()).getInertBodyElement(y),te=sm(W)||W;return te?E1(s,o,l,d,E,A,R,te,f,w,0):0}function E1(s,o,l,d,f,p,y,w,E,A,R){let L=0,W=w.firstChild;for(;W;){const te=$c(s,l,1,null);switch(W.nodeType){case Node.ELEMENT_NODE:const Ee=W,qe=Ee.tagName.toLowerCase();if(Kf.hasOwnProperty(qe)){M_(f,Cp,qe,E,te),s.data[te]=qe;const Pe=Ee.attributes;for(let Pt=0;Pt<Pe.length;Pt++){const In=Pe.item(Pt),zn=In.name.toLowerCase();In.value.match(Fu)?Mw.hasOwnProperty(zn)&&Oh(y,In.value,te,In.name,0,lh[zn]?pu:null):oS(f,te,In)}L=E1(s,o,l,d,f,p,y,W,te,A,R+1)|L,I1(p,te,R)}break;case Node.TEXT_NODE:const Xe=W.textContent||"",yt=Xe.match(Fu);M_(f,null,yt?"":Xe,E,te),I1(p,te,R),yt&&(L=Oh(y,Xe,te,null,0,null)|L);break;case Node.COMMENT_NODE:const xt=T0.exec(W.textContent||"");if(xt){const Pt=A[parseInt(xt[1],10)];M_(f,D_,"",E,te),ud(s,l,d,E,Pt,te),ai(p,te,R)}}W=W.nextSibling}return L}function I1(s,o,l){0===l&&s.push(o)}function ai(s,o,l){0===l&&(s.push(~o),s.push(o))}function M_(s,o,l,d,f){null!==o&&s.push(o),s.push(l,f,function y0(s,o,l){return s|o<<17|l<<1}(0,d,f))}function oS(s,o,l){s.push(o<<1|1,l.name,l.value)}function O_(s,o,l=-1){const d=nn(),f=xe(),p=22+s,y=Nr(d.consts,o),w=Wl();d.firstCreatePass&&function b1(s,o,l,d,f,p){const y=Wl(),w=[],E=[],A=[[]];f=function D1(s,o){if(function w1(s){return-1===s}(o))return Uu(s);{const l=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Uu(s.substring(l,d))}}(f,p);const R=function v1(s){return s.replace(y1," ")}(f).split(iS);for(let L=0;L<R.length;L++){let W=R[L];if(0==(1&L)){const te=S_(W);for(let Ee=0;Ee<te.length;Ee++){let qe=te[Ee];if(0==(1&Ee)){const Xe=qe;""!==Xe&&rS(s,y,A[0],w,E,l,Xe)}else{const Xe=qe;if("object"!=typeof Xe)throw new Error(`Unable to parse ICU expression in "${f}" message.`);ud(s,l,E,o,Xe,Ap(s,y,A[0],l,w,"",!0).index)}}}else{const te=47===W.charCodeAt(0),qe=(W.charCodeAt(te?1:0),22+Number.parseInt(W.substring(te?2:1)));if(te)A.shift(),sr(Wl(),!1);else{const Xe=cs(s,A[0],qe);A.unshift([]),sr(Xe,!0)}}}s.data[d]={create:w,update:E}}(d,null===w?0:w.index,f,p,y,l);const E=d.data[p],R=ww(d,w===f[6]?null:w,f);(function f1(s,o,l,d){const f=s[11];for(let p=0;p<o.length;p++){const y=o[p++],w=o[p],E=(y&Ei.COMMENT)===Ei.COMMENT,A=(y&Ei.APPEND_EAGERLY)===Ei.APPEND_EAGERLY,R=y>>>Ei.SHIFT;let L=s[R];null===L&&(L=s[R]=E?f.createComment(w):Kg(f,w)),A&&null!==l&&hu(f,l,L,d,!1)}})(f,E.create,R,w&&8&w.type?f[w.index]:null),pc(!0)}function Fi(s,o,l){O_(s,o,l),function M1(){pc(!1)}()}function R_(s){return function E_(s){s&&(Oo|=1<<Math.min(Rl,31)),Rl++}(_r(xe(),Ja(),s)),R_}function E0(s){!function I_(s,o,l){if(Rl>0){const d=s.data[l];Ma(s,o,Array.isArray(d)?d:d.update,function Xr(){return qt.lFrame.bindingIndex}()-Rl-1,Oo)}Oo=0,Rl=0}(nn(),xe(),s+22)}function Fr(s,o,l,d,f){if(s=J(s),Array.isArray(s))for(let p=0;p<s.length;p++)Fr(s[p],o,l,d,f);else{const p=nn(),y=xe();let w=Fc(s)?s:J(s.provide),E=jw(s);const A=hi(),R=1048575&A.providerIndexes,L=A.directiveStart,W=A.providerIndexes>>20;if(Fc(s)||!s.multi){const te=new Mr(E,f,Vc),Ee=k_(w,o,f?R:R+W,L);-1===Ee?(go(Es(A,y),p,w),x_(p,s,o.length),o.push(w),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),l.push(te),y.push(te)):(l[Ee]=te,y[Ee]=te)}else{const te=k_(w,o,R+W,L),Ee=k_(w,o,R,R+W),qe=te>=0&&l[te],Xe=Ee>=0&&l[Ee];if(f&&!Xe||!f&&!qe){go(Es(A,y),p,w);const yt=function uS(s,o,l,d,f){const p=new Mr(s,l,Vc);return p.multi=[],p.index=o,p.componentProviders=0,Fh(p,f,d&&!l),p}(f?O1:Oa,l.length,f,d,E);!f&&Xe&&(l[Ee].providerFactory=yt),x_(p,s,o.length,0),o.push(w),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),l.push(yt),y.push(yt)}else x_(p,s,te>-1?te:Ee,Fh(l[f?Ee:te],E,!f&&d));!f&&d&&Xe&&l[Ee].componentProviders++}}}function x_(s,o,l,d){const f=Fc(o),p=function tC(s){return!!s.useClass}(o);if(f||p){const E=(p?J(o.useClass):o).prototype.ngOnDestroy;if(E){const A=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const R=A.indexOf(l);-1===R?A.push(l,[d,E]):A[R+1].push(d,E)}else A.push(l,E)}}}function Fh(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function k_(s,o,l,d){for(let f=l;f<d;f++)if(o[f]===s)return f;return-1}function Oa(s,o,l,d){return cd(this.multi,[])}function O1(s,o,l,d){const f=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=es(l,l[1],this.providerFactory.index,d);p=w.slice(0,y),cd(f,p);for(let E=y;E<w.length;E++)p.push(w[E])}else p=[],cd(f,p);return p}function cd(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function R1(s,o=[]){return l=>{l.providersResolver=(d,f)=>function lS(s,o,l){const d=nn();if(d.firstCreatePass){const f=lr(s);Fr(l,d.data,d.blueprint,f,!0),Fr(o,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,o)}}class Yt{}class x1{}function P_(s,o){return new Lh(s,o??null)}class Lh extends Yt{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ta(this);const d=dt(o);this._bootstrapComponents=va(d.bootstrap),this._r3Injector=ba(o,l,[{provide:Yt,useValue:this},{provide:_u,useValue:this.componentFactoryResolver}],de(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Uh extends x1{constructor(o){super(),this.moduleType=o}create(o){return new Lh(this.moduleType,o)}}class k1 extends Yt{constructor(o,l,d){super(),this.componentFactoryResolver=new Ta(this),this.instance=null;const f=new hv([...o,{provide:Yt,useValue:this},{provide:_u,useValue:this.componentFactoryResolver}],l||Jf(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function L_(s,o,l=null){return new k1(s,o,l).injector}let P1=(()=>{class s{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=Lw(0,l.type),f=d.length>0?L_([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,f)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=ct({token:s,providedIn:"environment",factory:()=>new s(sn(mu))}),s})();function F1(s){s.getStandaloneInjector=o=>o.get(P1).getOrCreateStandaloneInjector(s)}function S0(s,o,l,d){return function M0(s,o,l,d,f,p){const y=o+l;return _r(s,y,f)?Ia(s,y+1,p?d.call(p,f):d(f)):xp(s,y+1)}(xe(),fi(),s,o,l,d)}function q1(s,o,l,d,f){return function K1(s,o,l,d,f,p,y){const w=o+l;return Su(s,w,f,p)?Ia(s,w+2,y?d.call(y,f,p):d(f,p)):xp(s,w+2)}(xe(),fi(),s,o,l,d,f)}function Z1(s,o,l,d,f,p){return function Y1(s,o,l,d,f,p,y,w){const E=o+l;return function mp(s,o,l,d,f){const p=Su(s,o,l,d);return _r(s,o+2,f)||p}(s,E,f,p,y)?Ia(s,E+3,w?d.call(w,f,p,y):d(f,p,y)):xp(s,E+3)}(xe(),fi(),s,o,l,d,f,p)}function xp(s,o){const l=s[o];return l===en?void 0:l}function B_(s){return o=>{setTimeout(s,void 0,o)}}const ka=class V_ extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){let f=o,p=l||(()=>null),y=d;if(o&&"object"==typeof o){const E=o;f=E.next?.bind(E),p=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(p=B_(p),f&&(f=B_(f)),y&&(y=B_(y)));const w=super.subscribe({next:f,error:p,complete:y});return o instanceof $.w0&&o.add(w),w}};function gS(){return this._results[Cu()]()}class O0{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Cu(),d=O0.prototype;d[l]||(d[l]=gS)}get changes(){return this._changes||(this._changes=new ka)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const f=fn(o);(this._changesDetected=!function gn(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],p=o[d];if(l&&(f=l(f),p=l(p)),p!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let kp=(()=>{class s{}return s.__NG_ELEMENT_ID__=yS,s})();const mS=kp,_S=class extends mS{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o,l){const d=this._declarationTContainer.tViews,f=Tu(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,l||null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(d)),ph(d,f,o),new dp(f)}};function yS(){return j_(hi(),xe())}function j_(s,o){return 4&s.type?new _S(o,s,yu(s,o)):null}let $_=(()=>{class s{}return s.__NG_ELEMENT_ID__=vS,s})();function vS(){return iT(hi(),xe())}const bS=$_,tT=class extends bS{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return yu(this._hostTNode,this._hostLView)}get injector(){return new oa(this._hostTNode,this._hostLView)}get parentInjector(){const o=ol(this._hostTNode,this._hostLView);if(Tf(o)){const l=qs(o,this._hostLView),d=pi(o);return new oa(l[1].data[d+8],l)}return new oa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=nT(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){let f,p;"number"==typeof d?f=d:null!=d&&(f=d.index,p=d.injector);const y=o.createEmbeddedView(l||{},p);return this.insert(y,f),y}createComponent(o,l,d,f,p){const y=o&&!function Br(s){return"function"==typeof s}(o);let w;if(y)w=l;else{const L=l||{};w=L.index,d=L.injector,f=L.projectableNodes,p=L.environmentInjector||L.ngModuleRef}const E=y?o:new Ea(O(o)),A=d||this.parentInjector;if(!p&&null==E.ngModule){const W=(y?A:this.parentInjector).get(mu,null);W&&(p=W)}const R=E.create(A,f,void 0,p);return this.insert(R.hostView,w),R}insert(o,l){const d=o._lView,f=d[1];if(function fc(s){return Ir(s[3])}(d)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const L=d[3],W=new tT(L,L[6],L[3]);W.detach(W.indexOf(o))}}const p=this._adjustIndex(l),y=this._lContainer;!function EI(s,o,l,d){const f=10+d,p=l.length;d>0&&(l[f-1][4]=o),d<p-10?(o[4]=l[f],yo(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const y=o[17];null!==y&&l!==y&&function II(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(f,d,y,p);const w=jf(p,y),E=d[11],A=Ys(E,y[7]);return null!==A&&function Yg(s,o,l,d,f,p){d[0]=f,d[6]=o,kc(s,d,l,1,f,p)}(f,y[6],E,d,A,w),o.attachToViewContainerRef(),yo(R0(y),p,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=nT(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Zy(this._lContainer,l);d&&(Jn(R0(this._lContainer),l),vw(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=Zy(this._lContainer,l);return d&&null!=Jn(R0(this._lContainer),l)?new dp(d):null}_adjustIndex(o,l=0){return o??this.length+l}};function nT(s){return s[8]}function R0(s){return s[8]||(s[8]=[])}function iT(s,o){let l;const d=o[s.index];if(Ir(d))l=d;else{let f;if(8&s.type)f=qn(d);else{const p=o[11];f=p.createComment("");const y=Oi(s,o);hu(p,Ys(p,y),f,function oh(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=l=Iu(d,o,f,s),Da(o,l)}return new tT(l,s,o)}class H_{constructor(o){this.queryList=o,this.matches=null}clone(){return new H_(this.queryList)}setDirty(){this.queryList.setDirty()}}class x0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,f=[];for(let p=0;p<d;p++){const y=l.getByIndex(p);f.push(this.queries[y.indexInDeclarationView].clone())}return new x0(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==U0(o,l).matches&&this.queries[l].setDirty()}}class G_{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Gi{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,p=this.getByIndex(d).embeddedTView(o,f);p&&(p.indexInDeclarationView=d,null!==l?l.push(p):l=[p])}return null!==l?new Gi(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Pp{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new Pp(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const p=d[f];this.matchTNodeWithReadOption(o,l,k0(l,p)),this.matchTNodeWithReadOption(o,l,ll(l,o,p,!1,!1))}else d===kp?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,ll(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Lc||f===$_||f===kp&&4&l.type)this.addMatch(l.index,-2);else{const p=ll(l,o,f,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function k0(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function Bu(s,o,l,d){return-1===l?function P0(s,o){return 11&s.type?yu(s,o):4&s.type?j_(s,o):null}(o,s):-2===l?function sT(s,o,l){return l===Lc?yu(o,s):l===kp?j_(o,s):l===$_?iT(o,s):void 0}(s,o,d):es(s,s[1],l,o)}function oT(s,o,l,d){const f=o[19].queries[d];if(null===f.matches){const p=s.data,y=l.matches,w=[];for(let E=0;E<y.length;E+=2){const A=y[E];w.push(A<0?null:Bu(o,p[A],y[E+1],l.metadata.read))}f.matches=w}return f.matches}function q_(s,o,l,d){const f=s.queries.getByIndex(l),p=f.matches;if(null!==p){const y=oT(s,o,f,l);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)d.push(y[w/2]);else{const A=p[w+1],R=o[-E];for(let L=10;L<R.length;L++){const W=R[L];W[17]===W[3]&&q_(W[1],W,A,d)}if(null!==R[9]){const L=R[9];for(let W=0;W<L.length;W++){const te=L[W];q_(te[1],te,A,d)}}}}}return d}function Fp(s){const o=xe(),l=nn(),d=Xa();mc(d+1);const f=U0(l,d);if(s.dirty&&function hc(s){return 4==(4&s[2])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const p=f.crossesNgTemplate?q_(l,o,d,[]):oT(l,o,f,d);s.reset(p,cC),s.notifyOnChanges()}return!0}return!1}function ju(s,o,l){const d=nn();d.firstCreatePass&&(Z_(d,new G_(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),F0(d,xe(),o)}function $u(s,o,l,d){const f=nn();if(f.firstCreatePass){const p=hi();Z_(f,new G_(o,l,d),p.index),function L0(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(f,s),2==(2&l)&&(f.staticContentQueries=!0)}F0(f,xe(),l)}function Hu(){return function Lp(s,o){return s[19].queries[o].queryList}(xe(),Xa())}function F0(s,o,l){const d=new O0(4==(4&l));kv(s,o,d,d.destroy),null===o[19]&&(o[19]=new x0),o[19].queries.push(new H_(d))}function Z_(s,o,l){null===s.queries&&(s.queries=new Gi),s.queries.track(new Pp(o,l))}function U0(s,o){return s.queries.getByIndex(o)}function V0(s,o){return j_(s,o)}function zu(...s){}const Y0=new Fn("Application Initializer");let ey=(()=>{class s{constructor(l){this.appInits=l,this.resolve=zu,this.reject=zu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(Qv(p))l.push(p);else if(Jv(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});l.push(y)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(sn(Y0,8))},s.\u0275prov=ct({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Q0=new Fn("AppId",{providedIn:"root",factory:function yT(){return`${qp()}${qp()}${qp()}`}});function qp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const er=new Fn("Platform Initializer"),OS=new Fn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vT=new Fn("appBootstrapListener"),RS=new Fn("AnimationModuleType");let bT=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=ct({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const gd=new Fn("LocaleId",{providedIn:"root",factory:()=>gi(gd,rt.Optional|rt.SkipSelf)||function xS(){return typeof $localize<"u"&&$localize.locale||ad}()}),kS=new Fn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Zp{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let ty=(()=>{class s{compileModuleSync(l){return new Uh(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),p=va(dt(l).declarations).reduce((y,w)=>{const E=O(w);return E&&y.push(new Ea(E)),y},[]);return new Zp(d,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=ct({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const LS=(()=>Promise.resolve(0))();function ny(s){typeof Zone>"u"?LS.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Os{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ka(!1),this.onMicrotaskEmpty=new ka(!1),this.onStable=new ka(!1),this.onError=new ka(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function US(){let s=Ht.requestAnimationFrame,o=Ht.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function eb(s){const o=()=>{!function zh(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ht,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Wh(s),s.isCheckStableRunning=!0,Wu(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Wh(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,p,y,w)=>{try{return tb(s),l.invokeTask(f,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),nb(s)}},onInvoke:(l,d,f,p,y,w,E)=>{try{return tb(s),l.invoke(f,p,y,w,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),nb(s)}},onHasTask:(l,d,f,p)=>{l.hasTask(f,p),d===f&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Wh(s),Wu(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,d,f,p)=>(l.handleError(f,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Os.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Os.isInAngularZone())throw new Ie(909,!1)}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,f){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+f,o,VS,zu,zu);try{return p.runTask(y,l,d)}finally{p.cancelTask(y)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const VS={};function Wu(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Wh(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function tb(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function nb(s){s._nesting--,Wu(s)}class CT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ka,this.onMicrotaskEmpty=new ka,this.onStable=new ka,this.onError=new ka}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,f){return o.apply(l,d)}}const ST=new Fn(""),iy=new Fn("");let sy,BS=(()=>{class s{constructor(l,d,f){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sy||(function AT(s){sy=s}(f),f.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Os.assertNotInAngularZone(),ny(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ny(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,f){return[]}}return s.\u0275fac=function(l){return new(l||s)(sn(Os),sn(ry),sn(iy))},s.\u0275prov=ct({token:s,factory:s.\u0275fac}),s})(),ry=(()=>{class s{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return sy?.findTestabilityInTree(this,l,d)??null}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=ct({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Pa=null;const zp=new Fn("AllowMultipleToken"),md=new Fn("PlatformDestroyListeners");class MT{constructor(o,l){this.name=o,this.token=l}}function xT(s,o,l=[]){const d=`Platform: ${o}`,f=new Fn(d);return(p=[])=>{let y=Kp();if(!y||y.injector.get(zp,!1)){const w=[...l,...p,{provide:f,useValue:!0}];s?s(w):function jS(s){if(Pa&&!Pa.get(zp,!1))throw new Ie(400,!1);Pa=s;const o=s.get(sb);(function RT(s){const o=s.get(er,null);o&&o.forEach(l=>l())})(s)}(function Wp(s=[],o){return _t.create({name:o,providers:[{provide:dv,useValue:"platform"},{provide:md,useValue:new Set([()=>Pa=null])},...s]})}(w,d))}return function kT(s){const o=Kp();if(!o)throw new Ie(401,!1);return o}()}}function Kp(){return Pa?.get(sb)??null}let sb=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const f=function FT(s,o){let l;return l="noop"===s?new CT:("zone.js"===s?void 0:s)||new Os(o),l}(d?.ngZone,function PT(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:Os,useValue:f}];return f.run(()=>{const y=_t.create({providers:p,parent:this.injector,name:l.moduleType.name}),w=l.create(y),E=w.injector.get(Uc,null);if(!E)throw new Ie(402,!1);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{E.handleError(R)}});w.onDestroy(()=>{ay(this._modules,w),A.unsubscribe()})}),function LT(s,o,l){try{const d=l();return Qv(d)?d.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(E,f,()=>{const A=w.injector.get(ey);return A.runInitializers(),A.donePromise.then(()=>(o1(w.injector.get(gd,ad)||ad),this._moduleDoBootstrap(w),w))})})}bootstrapModule(l,d=[]){const f=UT({},d);return function ib(s,o,l){const d=new Uh(l);return Promise.resolve(d)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(l){const d=l.injector.get(Kh);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Ie(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(md,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(sn(_t))},s.\u0275prov=ct({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function UT(s,o){return Array.isArray(o)?o.reduce(UT,s):{...s,...o}}let Kh=(()=>{class s{constructor(l,d,f){this._zone=l,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new k.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new k.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{Os.assertNotInAngularZone(),ny(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Os.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),A.unsubscribe()}});this.isStable=(0,re.T)(p,y.pipe((0,oe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const f=l instanceof aC;if(!this._injector.get(ey).done)throw!f&&Be(l),new Ie(405,false);let y;y=f?l:this._injector.get(_u).resolveComponentFactory(l),this.componentTypes.push(y.componentType);const w=function rb(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Yt),A=y.create(_t.NULL,[],d||y.selector,w),R=A.location.nativeElement,L=A.injector.get(ST,null);return L?.registerApplication(R),A.onDestroy(()=>{this.detachView(A.hostView),ay(this.components,A),L?.unregisterApplication(R)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;ay(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(vT,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>ay(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Ie(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(l){return new(l||s)(sn(Os),sn(mu),sn(Uc))},s.\u0275prov=ct({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ay(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let ly=!0,_d=!1;function ob(){return _d=!0,ly}function uy(){if(_d)throw new Error("Cannot enable prod mode after platform setup.");ly=!1}let lb=(()=>{class s{}return s.__NG_ELEMENT_ID__=ub,s})();function ub(s){return function Pl(s,o,l){if(ac(s)&&!l){const d=hn(s.index,o);return new dp(d,d)}return 47&s.type?new dp(o[16],o):null}(hi(),xe(),16==(16&s))}class ZT{constructor(){}supports(o){return Sl(o)}create(o){return new zT(o)}}const gb=(s,o)=>o;class zT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||gb}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,f=0,p=null;for(;l||d;){const y=!d||l&&l.currentIndex<yd(d,f,p)?l:d,w=yd(y,f,p),E=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)f++;else{p||(p=[]);const A=w-f,R=E-f;if(A!=R){for(let W=0;W<A;W++){const te=W<p.length?p[W]:p[W]=0,Ee=te+W;R<=Ee&&Ee<A&&(p[W]=te+1)}p[y.previousIndex]=R-A}}w!==E&&o(y,w,E)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Sl(o))throw new Ie(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,p,y,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,p,y,w)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,y,w),d=!0),l=l._next}else f=0,function Di(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Cu()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,w=>{y=this._trackByFn(f,w),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,w,y,f)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,y,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,f){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,f)):o=this._addAfter(new mb(l,d),p,f),o}_verifyReinsertion(o,l,d,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,p=o._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const f=null===l?this._itHead:l._next;return o._next=f,o._prev=l,null===f?this._itTail=o:f._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new py),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new py),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class mb{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _b{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class py{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new _b,this.map.set(l,d)),d.add(o)}get(o,l){const f=this.map.get(o);return f?f.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yd(s,o,l){const d=s.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+o+f}class Fl{constructor(){}supports(o){return o instanceof Map||s_(o)}create(){return new yb}}class yb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||s_(o)))throw new Ie(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,l);const p=f._prev,y=f._next;return p&&(p._next=y),y&&(y._prev=p),f._next=null,f._prev=null,f}const d=new Jh(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class Jh{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vd(){return new gy([new ZT])}let gy=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||vd()),deps:[[s,new mt,new ve]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new Ie(901,!1)}}return s.\u0275prov=ct({token:s,providedIn:"root",factory:vd}),s})();function WT(){return new vb([new Fl])}let vb=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||WT()),deps:[[s,new mt,new ve]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(d)return d;throw new Ie(901,!1)}}return s.\u0275prov=ct({token:s,providedIn:"root",factory:WT}),s})();const GS=xT(null,"core",[]);let qS=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(sn(Kh))},s.\u0275mod=cn({type:s}),s.\u0275inj=It({}),s})();function Db(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function YS(s,o){const l=O(s),d=o.elementInjector||Jf();return new Ea(l).create(d,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(wt,Se,F)=>{F.d(Se,{Z:()=>Ie});var u=F(2090),$=F(4859),k=F(9681),re=F(1877);class oe{constructor(ye,fe){this._delegate=ye,this.firebase=fe,(0,k._addComponent)(ye,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(ye,fe=k._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(ye);return!st.isInitialized()&&"EXPLICIT"===(null===(nt=st.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&st.initialize(),st.getImmediate({identifier:fe})}_removeServiceInstance(ye,fe=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(fe)}_addComponent(ye){(0,k._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,k._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function me(){const ot=function de(ot){const ye={},fe={__esModule:!0,initializeApp:function Oe(ie,le={}){const _e=k.initializeApp(ie,le);if((0,u.r3)(ye,_e.name))return ye[_e.name];const Ye=new ot(_e,fe);return ye[_e.name]=Ye,Ye},app:st,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function De(ie){const le=ie.name,_e=le.replace("-compat","");if(k._registerComponent(ie)&&"PUBLIC"===ie.type){const Ye=(Qe=st())=>{if("function"!=typeof Qe[_e])throw ce.create("invalid-app-argument",{appName:le});return Qe[_e]()};void 0!==ie.serviceProps&&(0,u.ZB)(Ye,ie.serviceProps),fe[_e]=Ye,ot.prototype[_e]=function(...Qe){return this._getService.bind(this,le).apply(this,ie.multipleInstances?Qe:[])}}return"PUBLIC"===ie.type?fe[_e]:null},removeApp:function nt(ie){delete ye[ie]},useAsService:function We(ie,le){return"serverAuth"===le?null:le},modularAPIs:k}};function st(ie){if(!(0,u.r3)(ye,ie=ie||k._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:ie});return ye[ie]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function Re(){return Object.keys(ye).map(ie=>ye[ie])}}),st.App=ot,fe}(oe);return ot.INTERNAL=Object.assign(Object.assign({},ot.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function ye(fe){(0,u.ZB)(ot,fe)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),ot}(),Z=new re.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ot=self.firebase.SDK_VERSION;ot&&ot.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=z;!function ke(ot){(0,k.registerVersion)("@firebase/app-compat","0.2.3",ot)}()},9681:(wt,Se,F)=>{F.r(Se),F.d(Se,{FirebaseError:()=>re.ZR,SDK_VERSION:()=>qi,_DEFAULT_ENTRY_NAME:()=>Ve,_addComponent:()=>vn,_addOrOverwriteComponent:()=>ct,_apps:()=>Dt,_clearComponents:()=>Wn,_components:()=>$t,_getProvider:()=>It,_registerComponent:()=>Nt,_removeServiceInstance:()=>on,deleteApp:()=>ps,getApp:()=>ti,getApps:()=>Lr,initializeApp:()=>ir,onLog:()=>ni,registerVersion:()=>ui,setLogLevel:()=>Nn});var u=F(5861),$=F(4859),k=F(1877),re=F(2090),oe=F(8766);class pe{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(lt=>{if(function ce(at){return"VERSION"===at.getComponent()?.type}(lt)){const kt=lt.getImmediate();return`${kt.library}/${kt.version}`}return null}).filter(lt=>lt).join(" ")}}const de="@firebase/app",z=new k.Yd("@firebase/app"),Ve="[DEFAULT]",Te={[de]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dt=new Map,$t=new Map;function vn(at,Ce){try{at.container.addComponent(Ce)}catch(lt){z.debug(`Component ${Ce.name} failed to register with FirebaseApp ${at.name}`,lt)}}function ct(at,Ce){at.container.addOrOverwriteComponent(Ce)}function Nt(at){const Ce=at.name;if($t.has(Ce))return z.debug(`There were multiple attempts to register component ${Ce}.`),!1;$t.set(Ce,at);for(const lt of Dt.values())vn(lt,at);return!0}function It(at,Ce){const lt=at.container.getProvider("heartbeat").getImmediate({optional:!0});return lt&&lt.triggerHeartbeat(),at.container.getProvider(Ce)}function on(at,Ce,lt=Ve){It(at,Ce).clearInstance(lt)}function Wn(){$t.clear()}const pn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ni{constructor(Ce,lt,kt){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},lt),this._name=lt.name,this._automaticDataCollectionEnabled=lt.automaticDataCollectionEnabled,this._container=kt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw pn.create("app-deleted",{appName:this._name})}}const qi="9.17.1";function ir(at,Ce={}){let lt=at;"object"!=typeof Ce&&(Ce={name:Ce});const kt=Object.assign({name:Ve,automaticDataCollectionEnabled:!1},Ce),Bt=kt.name;if("string"!=typeof Bt||!Bt)throw pn.create("bad-app-name",{appName:String(Bt)});if(lt||(lt=(0,re.aH)()),!lt)throw pn.create("no-options");const cn=Dt.get(Bt);if(cn){if((0,re.vZ)(lt,cn.options)&&(0,re.vZ)(kt,cn.config))return cn;throw pn.create("duplicate-app",{appName:Bt})}const q=new $.H0(Bt);for(const Y of $t.values())q.addComponent(Y);const H=new Ni(lt,kt,q);return Dt.set(Bt,H),H}function ti(at=Ve){const Ce=Dt.get(at);if(!Ce&&at===Ve)return ir();if(!Ce)throw pn.create("no-app",{appName:at});return Ce}function Lr(){return Array.from(Dt.values())}function ps(at){return rt.apply(this,arguments)}function rt(){return(rt=(0,u.Z)(function*(at){const Ce=at.name;Dt.has(Ce)&&(Dt.delete(Ce),yield Promise.all(at.container.getProviders().map(lt=>lt.delete())),at.isDeleted=!0)})).apply(this,arguments)}function ui(at,Ce,lt){var kt;let Bt=null!==(kt=Te[at])&&void 0!==kt?kt:at;lt&&(Bt+=`-${lt}`);const cn=Bt.match(/\s|\//),q=Ce.match(/\s|\//);if(cn||q){const H=[`Unable to register library "${Bt}" with version "${Ce}":`];return cn&&H.push(`library name "${Bt}" contains illegal characters (whitespace or "/")`),cn&&q&&H.push("and"),q&&H.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void z.warn(H.join(" "))}Nt(new $.wA(`${Bt}-version`,()=>({library:Bt,version:Ce}),"VERSION"))}function ni(at,Ce){if(null!==at&&"function"!=typeof at)throw pn.create("invalid-log-argument");(0,k.Am)(at,Ce)}function Nn(at){(0,k.Ub)(at)}const Rn="firebase-heartbeat-store";let xn=null;function Cn(){return xn||(xn=(0,oe.X3)("firebase-heartbeat-database",1,{upgrade:(at,Ce)=>{0===Ce&&at.createObjectStore(Rn)}}).catch(at=>{throw pn.create("idb-open",{originalErrorMessage:at.message})})),xn}function St(){return(St=(0,u.Z)(function*(at){try{return(yield Cn()).transaction(Rn).objectStore(Rn).get(ci(at))}catch(Ce){if(Ce instanceof re.ZR)z.warn(Ce.message);else{const lt=pn.create("idb-get",{originalErrorMessage:Ce?.message});z.warn(lt.message)}}})).apply(this,arguments)}function Ht(at,Ce){return or.apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(at,Ce){try{const kt=(yield Cn()).transaction(Rn,"readwrite");return yield kt.objectStore(Rn).put(Ce,ci(at)),kt.done}catch(lt){if(lt instanceof re.ZR)z.warn(lt.message);else{const kt=pn.create("idb-set",{originalErrorMessage:lt?.message});z.warn(kt.message)}}})).apply(this,arguments)}function ci(at){return`${at.name}!${at.options.appId}`}class rr{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const lt=this.container.getProvider("app").getImmediate();this._storage=new rn(lt),this._heartbeatsCachePromise=this._storage.read().then(kt=>(this._heartbeatsCache=kt,kt))}triggerHeartbeat(){var Ce=this;return(0,u.Z)(function*(){const kt=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bt=Wt();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Bt&&!Ce._heartbeatsCache.heartbeats.some(cn=>cn.date===Bt))return Ce._heartbeatsCache.heartbeats.push({date:Bt,agent:kt}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(cn=>{const q=new Date(cn.date).valueOf();return Date.now()-q<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,u.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const lt=Wt(),{heartbeatsToSend:kt,unsentEntries:Bt}=function Dr(at,Ce=1024){const lt=[];let kt=at.slice();for(const Bt of at){const cn=lt.find(q=>q.agent===Bt.agent);if(cn){if(cn.dates.push(Bt.date),wi(lt)>Ce){cn.dates.pop();break}}else if(lt.push({agent:Bt.agent,dates:[Bt.date]}),wi(lt)>Ce){lt.pop();break}kt=kt.slice(1)}return{heartbeatsToSend:lt,unsentEntries:kt}}(Ce._heartbeatsCache.heartbeats),cn=(0,re.L)(JSON.stringify({version:2,heartbeats:kt}));return Ce._heartbeatsCache.lastSentHeartbeatDate=lt,Bt.length>0?(Ce._heartbeatsCache.heartbeats=Bt,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),cn})()}}function Wt(){return(new Date).toISOString().substring(0,10)}class rn{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,re.hl)()&&(0,re.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,u.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function Ct(at){return St.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var lt=this;return(0,u.Z)(function*(){var kt;if(yield lt._canUseIndexedDBPromise){const cn=yield lt.read();return Ht(lt.app,{lastSentHeartbeatDate:null!==(kt=Ce.lastSentHeartbeatDate)&&void 0!==kt?kt:cn.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var lt=this;return(0,u.Z)(function*(){var kt;if(yield lt._canUseIndexedDBPromise){const cn=yield lt.read();return Ht(lt.app,{lastSentHeartbeatDate:null!==(kt=Ce.lastSentHeartbeatDate)&&void 0!==kt?kt:cn.lastSentHeartbeatDate,heartbeats:[...cn.heartbeats,...Ce.heartbeats]})}})()}}function wi(at){return(0,re.L)(JSON.stringify({version:2,heartbeats:at})).length}!function Ln(at){Nt(new $.wA("platform-logger",Ce=>new pe(Ce),"PRIVATE")),Nt(new $.wA("heartbeat",Ce=>new rr(Ce),"PRIVATE")),ui(de,"0.9.3",at),ui(de,"0.9.3","esm2017"),ui("fire-js","")}("")},4859:(wt,Se,F)=>{F.d(Se,{H0:()=>de,wA:()=>k});var u=F(5861),$=F(2090);class k{constructor(z,Z,J){this.name=z,this.instanceFactory=Z,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const re="[DEFAULT]";class oe{constructor(z,Z){this.name=z,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const Z=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(Z)){const J=new $.BH;if(this.instancesDeferred.set(Z,J),this.isInitialized(Z)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:Z});ze&&J.resolve(ze)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(z){var Z;const J=this.normalizeInstanceIdentifier(z?.identifier),ze=null!==(Z=z?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(ke){if(ze)return null;throw ke}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function ce(me){return"EAGER"===me.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:re})}catch{}for(const[Z,J]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(Z);try{const ke=this.getOrInitializeService({instanceIdentifier:ze});J.resolve(ke)}catch{}}}}clearInstance(z=re){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,u.Z)(function*(){const Z=Array.from(z.instances.values());yield Promise.all([...Z.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...Z.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=re){return this.instances.has(z)}getOptions(z=re){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:Z={}}=z,J=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:J,options:Z});for(const[ke,Ie]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(ke)&&Ie.resolve(ze);return ze}onInit(z,Z){var J;const ze=this.normalizeInstanceIdentifier(Z),ke=null!==(J=this.onInitCallbacks.get(ze))&&void 0!==J?J:new Set;ke.add(z),this.onInitCallbacks.set(ze,ke);const Ie=this.instances.get(ze);return Ie&&z(Ie,ze),()=>{ke.delete(z)}}invokeOnInitCallbacks(z,Z){const J=this.onInitCallbacks.get(Z);if(J)for(const ze of J)try{ze(z,Z)}catch{}}getOrInitializeService({instanceIdentifier:z,options:Z={}}){let J=this.instances.get(z);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(me=z,me===re?void 0:me),options:Z}),this.instances.set(z,J),this.instancesOptions.set(z,Z),this.invokeOnInitCallbacks(J,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,J)}catch{}var me;return J||null}normalizeInstanceIdentifier(z=re){return this.component?this.component.multipleInstances?z:re:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const Z=this.getProvider(z.name);if(Z.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);Z.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const Z=new oe(z,this);return this.providers.set(z,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(wt,Se,F)=>{F.d(Se,{Am:()=>me,Ub:()=>de,Yd:()=>ce,in:()=>$});const u=[];var $=(()=>{return(z=$||($={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",$;var z})();const k={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},re=$.INFO,oe={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},pe=(z,Z,...J)=>{if(Z<z.logLevel)return;const ze=(new Date).toISOString(),ke=oe[Z];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[ke](`[${ze}]  ${z.name}:`,...J)};class ce{constructor(Z){this.name=Z,this._logLevel=re,this._logHandler=pe,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in $))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?k[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...Z),this._logHandler(this,$.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...Z),this._logHandler(this,$.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,$.INFO,...Z),this._logHandler(this,$.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,$.WARN,...Z),this._logHandler(this,$.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...Z),this._logHandler(this,$.ERROR,...Z)}}function de(z){u.forEach(Z=>{Z.setLogLevel(z)})}function me(z,Z){for(const J of u){let ze=null;Z&&Z.level&&(ze=k[Z.level]),J.userLogHandler=null===z?null:(ke,Ie,...ot)=>{const ye=ot.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch{return null}}).filter(fe=>fe).join(" ");Ie>=(ze??ke.logLevel)&&z({level:$[Ie].toLowerCase(),message:ye,args:ot,type:ke.name})}}}},259:(wt,Se,F)=>{F.d(Se,{C6:()=>u.getApps,KN:()=>u.registerVersion,Mq:()=>u.getApp,ZF:()=>u.initializeApp});var u=F(9681);(0,u.registerVersion)("firebase","9.17.1","app")},9260:(wt,Se,F)=>{F.d(Se,{Z:()=>u.Z});var u=F(3942);u.Z.registerVersion("firebase","9.17.1","app-compat")},9568:(wt,Se,F)=>{F.r(Se);var u=F(5861),$=F(3942),k=F(2722),re=F(2090),ce=(F(9681),F(1877),F(4859));function de(){return window}function Z(){return(Z=(0,u.Z)(function*(B,O,V){var ee;const{BuildInfo:Be}=de();(0,k.ap)(O.sessionId,"AuthEvent did not contain a session ID");const dt=yield fe(O.sessionId),vt={};return(0,k.aq)()?vt.ibi=Be.packageName:(0,k.ar)()?vt.apn=Be.packageName:(0,k.as)(B,"operation-not-supported-in-this-environment"),Be.displayName&&(vt.appDisplayName=Be.displayName),vt.sessionId=dt,(0,k.at)(B,V,O.type,void 0,null!==(ee=O.eventId)&&void 0!==ee?ee:void 0,vt)})).apply(this,arguments)}function ze(){return(ze=(0,u.Z)(function*(B){const{BuildInfo:O}=de(),V={};(0,k.aq)()?V.iosBundleId=O.packageName:(0,k.ar)()?V.androidPackageName=O.packageName:(0,k.as)(B,"operation-not-supported-in-this-environment"),yield(0,k.au)(B,V)})).apply(this,arguments)}function ot(){return(ot=(0,u.Z)(function*(B,O,V){const{cordova:ee}=de();let Be=()=>{};try{yield new Promise((dt,vt)=>{let Ae=null;function $e(){var Zt;dt();const Dn=null===(Zt=ee.plugins.browsertab)||void 0===Zt?void 0:Zt.close;"function"==typeof Dn&&Dn(),"function"==typeof V?.close&&V.close()}function Gt(){Ae||(Ae=window.setTimeout(()=>{vt((0,k.aw)(B,"redirect-cancelled-by-user"))},2e3))}function wn(){"visible"===document?.visibilityState&&Gt()}O.addPassiveListener($e),document.addEventListener("resume",Gt,!1),(0,k.ar)()&&document.addEventListener("visibilitychange",wn,!1),Be=()=>{O.removePassiveListener($e),document.removeEventListener("resume",Gt,!1),document.removeEventListener("visibilitychange",wn,!1),Ae&&window.clearTimeout(Ae)}})}finally{Be()}})).apply(this,arguments)}function fe(B){return nt.apply(this,arguments)}function nt(){return(nt=(0,u.Z)(function*(B){const O=st(B),V=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(V)).map(Be=>Be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function st(B){if((0,k.ap)(/[0-9a-zA-Z]+/.test(B),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(B);const O=new ArrayBuffer(B.length),V=new Uint8Array(O);for(let ee=0;ee<B.length;ee++)V[ee]=B.charCodeAt(ee);return V}class Re extends k.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(V=>V(O)),super.onEvent(O)}initialized(){var O=this;return(0,u.Z)(function*(){yield O.initPromise})()}}function ie(B){return le.apply(this,arguments)}function le(){return(le=(0,u.Z)(function*(B){const O=yield Qe()._get(Ut(B));return O&&(yield Qe()._remove(Ut(B))),O})).apply(this,arguments)}function Ye(){const B=[],O="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let V=0;V<20;V++){const ee=Math.floor(Math.random()*O.length);B.push(O.charAt(ee))}return B.join("")}function Qe(){return(0,k.az)(k.b)}function Ut(B){return(0,k.aA)("authEvent",B.config.apiKey,B.name)}function ge(B){if(!B?.includes("?"))return{};const[O,...V]=B.split("?");return(0,re.zd)(V.join("?"))}function Te(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aw)("no-auth-event")}}function Nt(){var B;return(null===(B=self?.location)||void 0===B?void 0:B.protocol)||null}function on(B=(0,re.z$)()){return!("file:"!==Nt()&&"ionic:"!==Nt()&&"capacitor:"!==Nt()||!B.toLowerCase().match(/iphone|ipad|ipod|android/))}function qi(){try{const B=self.localStorage,O=k.aI();if(B)return B.setItem(O,"1"),B.removeItem(O),!function Ni(B=(0,re.z$)()){return function jn(){return(0,re.w1)()&&11===document?.documentMode}()||function pn(B=(0,re.z$)()){return/Edge\/\d+/.test(B)}(B)}()||(0,re.hl)()}catch{return ir()&&(0,re.hl)()}return!1}function ir(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ti(){return(function It(){return"http:"===Nt()||"https:"===Nt()}()||(0,re.ru)()||on())&&!function Wn(){return(0,re.b$)()||(0,re.UG)()}()&&qi()&&!ir()}function Lr(){return on()&&typeof document<"u"}function rt(){return(rt=(0,u.Z)(function*(){return!!Lr()&&new Promise(B=>{const O=setTimeout(()=>{B(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),B(!0)})})})).apply(this,arguments)}const ni={LOCAL:"local",NONE:"none",SESSION:"session"},Nn=k.ax,Mi="persistence";function Rn(B){return xn.apply(this,arguments)}function xn(){return(xn=(0,u.Z)(function*(B){yield B._initializationPromise;const O=Ct(),V=k.aA(Mi,B.config.apiKey,B.name);O&&O.setItem(V,B._getPersistence())})).apply(this,arguments)}function Ct(){var B;try{return(null===(B=function ui(){return typeof window<"u"?window:null}())||void 0===B?void 0:B.sessionStorage)||null}catch{return null}}const St=k.ax;class Ht{constructor(){this.browserResolver=k.az(k.k),this.cordovaResolver=k.az(class Fe{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(O){var V=this;return(0,u.Z)(function*(){const ee=O._key();let Be=V.eventManagers.get(ee);return Be||(Be=new Re(O),V.eventManagers.set(ee,Be),V.attachCallbackListeners(O,Be)),Be})()}_openPopup(O){(0,k.as)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,V,ee,Be){var dt=this;return(0,u.Z)(function*(){!function ye(B){var O,V,ee,Be,dt,vt,Ae,$e,Gt,wn;const Zt=de();(0,k.ax)("function"==typeof(null===(O=Zt?.universalLinks)||void 0===O?void 0:O.subscribe),B,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.ax)(typeof(null===(V=Zt?.BuildInfo)||void 0===V?void 0:V.packageName)<"u",B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.ax)("function"==typeof(null===(dt=null===(Be=null===(ee=Zt?.cordova)||void 0===ee?void 0:ee.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===dt?void 0:dt.openUrl),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===($e=null===(Ae=null===(vt=Zt?.cordova)||void 0===vt?void 0:vt.plugins)||void 0===Ae?void 0:Ae.browsertab)||void 0===$e?void 0:$e.isAvailable),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(wn=null===(Gt=Zt?.cordova)||void 0===Gt?void 0:Gt.InAppBrowser)||void 0===wn?void 0:wn.open),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const vt=yield dt._initialize(O);yield vt.initialized(),vt.resetRedirect(),(0,k.aD)(),yield dt._originValidation(O);const Ae=function De(B,O,V=null){return{type:O,eventId:V,urlResponse:null,sessionId:Ye(),postBody:null,tenantId:B.tenantId,error:(0,k.aw)(B,"no-auth-event")}}(O,ee,Be);yield function We(B,O){return Qe()._set(Ut(B),O)}(O,Ae);const $e=yield function z(B,O,V){return Z.apply(this,arguments)}(O,Ae,V),Gt=yield function ke(B){const{cordova:O}=de();return new Promise(V=>{O.plugins.browsertab.isAvailable(ee=>{let Be=null;ee?O.plugins.browsertab.openUrl(B):Be=O.InAppBrowser.open(B,(0,k.av)()?"_blank":"_system","location=yes"),V(Be)})})}($e);return function Ie(B,O,V){return ot.apply(this,arguments)}(O,vt,Gt)})()}_isIframeWebStorageSupported(O,V){throw new Error("Method not implemented.")}_originValidation(O){const V=O._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function J(B){return ze.apply(this,arguments)}(O)),this.originValidationPromises[V]}attachCallbackListeners(O,V){const{universalLinks:ee,handleOpenURL:Be,BuildInfo:dt}=de(),vt=setTimeout((0,u.Z)(function*(){yield ie(O),V.onEvent(Te())}),500),Ae=function(){var wn=(0,u.Z)(function*(Zt){clearTimeout(vt);const Dn=yield ie(O);let gs=null;Dn&&Zt?.url&&(gs=function _e(B,O){var V,ee;const Be=function ae(B){const O=ge(B),V=O.link?decodeURIComponent(O.link):void 0,ee=ge(V).link,Be=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return ge(Be).link||Be||ee||V||B}(O);if(Be.includes("/__/auth/callback")){const dt=ge(Be),vt=dt.firebaseError?function it(B){try{return JSON.parse(B)}catch{return null}}(decodeURIComponent(dt.firebaseError)):null,Ae=null===(ee=null===(V=vt?.code)||void 0===V?void 0:V.split("auth/"))||void 0===ee?void 0:ee[1],$e=Ae?(0,k.aw)(Ae):null;return $e?{type:B.type,eventId:B.eventId,tenantId:B.tenantId,error:$e,urlResponse:null,sessionId:null,postBody:null}:{type:B.type,eventId:B.eventId,tenantId:B.tenantId,sessionId:B.sessionId,urlResponse:Be,postBody:null}}return null}(Dn,Zt.url)),V.onEvent(gs||Te())});return function(Dn){return wn.apply(this,arguments)}}();typeof ee<"u"&&"function"==typeof ee.subscribe&&ee.subscribe(null,Ae);const $e=Be,Gt=`${dt.packageName.toLowerCase()}://`;de().handleOpenURL=function(){var wn=(0,u.Z)(function*(Zt){if(Zt.toLowerCase().startsWith(Gt)&&Ae({url:Zt}),"function"==typeof $e)try{$e(Zt)}catch(Dn){console.error(Dn)}});return function(Zt){return wn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(O){var V=this;return(0,u.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,V,ee,Be){var dt=this;return(0,u.Z)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openPopup(O,V,ee,Be)})()}_openRedirect(O,V,ee,Be){var dt=this;return(0,u.Z)(function*(){return yield dt.selectUnderlyingResolver(),dt.assertedUnderlyingResolver._openRedirect(O,V,ee,Be)})()}_isIframeWebStorageSupported(O,V){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,V)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return Lr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return St(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,u.Z)(function*(){if(O.underlyingResolver)return;const V=yield function ps(){return rt.apply(this,arguments)}();O.underlyingResolver=V?O.cordovaResolver:O.browserResolver})()}}function or(B){return B.unwrap()}function Zi(B){return rr(B)}function rr(B){const{_tokenResponse:O}=B instanceof re.ZR?B.customData:B;if(!O)return null;if(!(B instanceof re.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return k.P.credentialFromResult(B);const V=O.providerId;if(!V||V===k.o.PASSWORD)return null;let ee;switch(V){case k.o.GOOGLE:ee=k.Q;break;case k.o.FACEBOOK:ee=k.N;break;case k.o.GITHUB:ee=k.T;break;case k.o.TWITTER:ee=k.W;break;default:const{oauthIdToken:Be,oauthAccessToken:dt,oauthTokenSecret:vt,pendingToken:Ae,nonce:$e}=O;return dt||vt||Be||Ae?Ae?V.startsWith("saml.")?k.aL._create(V,Ae):k.J._fromParams({providerId:V,signInMethod:V,pendingToken:Ae,idToken:Be,accessToken:dt}):new k.U(V).credential({idToken:Be,accessToken:dt,rawNonce:$e}):null}return B instanceof re.ZR?ee.credentialFromError(B):ee.credentialFromResult(B)}function Wt(B,O){return O.catch(V=>{throw V instanceof re.ZR&&function Vt(B,O){var V;const ee=null===(V=O.customData)||void 0===V?void 0:V._tokenResponse;if("auth/multi-factor-auth-required"===O?.code)O.resolver=new wi(B,k.an(B,O));else if(ee){const Be=rr(O),dt=O;Be&&(dt.credential=Be,dt.tenantId=ee.tenantId||void 0,dt.email=ee.email||void 0,dt.phoneNumber=ee.phoneNumber||void 0)}}(B,V),V}).then(V=>{const Be=V.user;return{operationType:V.operationType,credential:Zi(V),additionalUserInfo:k.al(V),user:Ln.getOrCreate(Be)}})}function Dr(B,O){return rn.apply(this,arguments)}function rn(){return(rn=(0,u.Z)(function*(B,O){const V=yield O;return{verificationId:V.verificationId,confirm:ee=>Wt(B,V.confirm(ee))}})).apply(this,arguments)}class wi{constructor(O,V){this.resolver=V,this.auth=function ci(B){return B.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return Wt(or(this.auth),this.resolver.resolveSignIn(O))}}class Ln{constructor(O){this._delegate=O,this.multiFactor=k.ao(O)}static getOrCreate(O){return Ln.USER_MAP.has(O)||Ln.USER_MAP.set(O,new Ln(O)),Ln.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var V=this;return(0,u.Z)(function*(){return Wt(V.auth,k.Z(V._delegate,O))})()}linkWithPhoneNumber(O,V){var ee=this;return(0,u.Z)(function*(){return Dr(ee.auth,k.l(ee._delegate,O,V))})()}linkWithPopup(O){var V=this;return(0,u.Z)(function*(){return Wt(V.auth,k.d(V._delegate,O,Ht))})()}linkWithRedirect(O){var V=this;return(0,u.Z)(function*(){return yield Rn(k.aE(V.auth)),k.g(V._delegate,O,Ht)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var V=this;return(0,u.Z)(function*(){return Wt(V.auth,k._(V._delegate,O))})()}reauthenticateWithPhoneNumber(O,V){return Dr(this.auth,k.r(this._delegate,O,V))}reauthenticateWithPopup(O){return Wt(this.auth,k.e(this._delegate,O,Ht))}reauthenticateWithRedirect(O){var V=this;return(0,u.Z)(function*(){return yield Rn(k.aE(V.auth)),k.h(V._delegate,O,Ht)})()}sendEmailVerification(O){return k.ab(this._delegate,O)}unlink(O){var V=this;return(0,u.Z)(function*(){return yield k.ak(V._delegate,O),V})()}updateEmail(O){return k.ag(this._delegate,O)}updatePassword(O){return k.ah(this._delegate,O)}updatePhoneNumber(O){return k.u(this._delegate,O)}updateProfile(O){return k.af(this._delegate,O)}verifyBeforeUpdateEmail(O,V){return k.ac(this._delegate,O,V)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ln.USER_MAP=new WeakMap;const at=k.ax;let Ce=(()=>{class B{constructor(V,ee){if(this.app=V,ee.isInitialized())return this._delegate=ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Be}=V.options;at(Be,"invalid-api-key",{appName:V.name}),at(Be,"invalid-api-key",{appName:V.name});const dt=typeof window<"u"?Ht:void 0;this._delegate=ee.initialize({options:{persistence:kt(Be,V.name),popupRedirectResolver:dt}}),this._delegate._updateErrorMap(k.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ln.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(V){this._delegate.languageCode=V}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(V){this._delegate.tenantId=V}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(V,ee){k.G(this._delegate,V,ee)}applyActionCode(V){return k.a2(this._delegate,V)}checkActionCode(V){return k.a3(this._delegate,V)}confirmPasswordReset(V,ee){return k.a1(this._delegate,V,ee)}createUserWithEmailAndPassword(V,ee){var Be=this;return(0,u.Z)(function*(){return Wt(Be._delegate,k.a5(Be._delegate,V,ee))})()}fetchProvidersForEmail(V){return this.fetchSignInMethodsForEmail(V)}fetchSignInMethodsForEmail(V){return k.aa(this._delegate,V)}isSignInWithEmailLink(V){return k.a8(this._delegate,V)}getRedirectResult(){var V=this;return(0,u.Z)(function*(){at(ti(),V._delegate,"operation-not-supported-in-this-environment");const ee=yield k.j(V._delegate,Ht);return ee?Wt(V._delegate,Promise.resolve(ee)):{credential:null,user:null}})()}addFrameworkForLogging(V){!function Dt(B,O){(0,k.aE)(B)._logFramework(O)}(this._delegate,V)}onAuthStateChanged(V,ee,Be){const{next:dt,error:vt,complete:Ae}=lt(V,ee,Be);return this._delegate.onAuthStateChanged(dt,vt,Ae)}onIdTokenChanged(V,ee,Be){const{next:dt,error:vt,complete:Ae}=lt(V,ee,Be);return this._delegate.onIdTokenChanged(dt,vt,Ae)}sendSignInLinkToEmail(V,ee){return k.a7(this._delegate,V,ee)}sendPasswordResetEmail(V,ee){return k.a0(this._delegate,V,ee||void 0)}setPersistence(V){var ee=this;return(0,u.Z)(function*(){let Be;switch(function io(B,O){Nn(Object.values(ni).includes(O),B,"invalid-persistence-type"),(0,re.b$)()?Nn(O!==ni.SESSION,B,"unsupported-persistence-type"):(0,re.UG)()?Nn(O===ni.NONE,B,"unsupported-persistence-type"):ir()?Nn(O===ni.NONE||O===ni.LOCAL&&(0,re.hl)(),B,"unsupported-persistence-type"):Nn(O===ni.NONE||qi(),B,"unsupported-persistence-type")}(ee._delegate,V),V){case ni.SESSION:Be=k.a;break;case ni.LOCAL:Be=(yield k.az(k.i)._isAvailable())?k.i:k.b;break;case ni.NONE:Be=k.L;break;default:return k.as("argument-error",{appName:ee._delegate.name})}return ee._delegate.setPersistence(Be)})()}signInAndRetrieveDataWithCredential(V){return this.signInWithCredential(V)}signInAnonymously(){return Wt(this._delegate,k.X(this._delegate))}signInWithCredential(V){return Wt(this._delegate,k.Y(this._delegate,V))}signInWithCustomToken(V){return Wt(this._delegate,k.$(this._delegate,V))}signInWithEmailAndPassword(V,ee){return Wt(this._delegate,k.a6(this._delegate,V,ee))}signInWithEmailLink(V,ee){return Wt(this._delegate,k.a9(this._delegate,V,ee))}signInWithPhoneNumber(V,ee){return Dr(this._delegate,k.s(this._delegate,V,ee))}signInWithPopup(V){var ee=this;return(0,u.Z)(function*(){return at(ti(),ee._delegate,"operation-not-supported-in-this-environment"),Wt(ee._delegate,k.c(ee._delegate,V,Ht))})()}signInWithRedirect(V){var ee=this;return(0,u.Z)(function*(){return at(ti(),ee._delegate,"operation-not-supported-in-this-environment"),yield Rn(ee._delegate),k.f(ee._delegate,V,Ht)})()}updateCurrentUser(V){return this._delegate.updateCurrentUser(V)}verifyPasswordResetCode(V){return k.a4(this._delegate,V)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return B.Persistence=ni,B})();function lt(B,O,V){let ee=B;"function"!=typeof B&&({next:ee,error:O,complete:V}=B);const Be=ee;return{next:vt=>Be(vt&&Ln.getOrCreate(vt)),error:O,complete:V}}function kt(B,O){const V=function Cn(B,O){const V=Ct();if(!V)return[];const ee=k.aA(Mi,B,O);switch(V.getItem(ee)){case ni.NONE:return[k.L];case ni.LOCAL:return[k.i,k.a];case ni.SESSION:return[k.a];default:return[]}}(B,O);if(typeof self<"u"&&!V.includes(k.i)&&V.push(k.i),typeof window<"u")for(const ee of[k.b,k.a])V.includes(ee)||V.push(ee);return V.includes(k.L)||V.push(k.L),V}class Bt{constructor(){this.providerId="phone",this._delegate=new k.P(or($.Z.auth()))}static credential(O,V){return k.P.credential(O,V)}verifyPhoneNumber(O,V){return this._delegate.verifyPhoneNumber(O,V)}unwrap(){return this._delegate}}Bt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Bt.PROVIDER_ID=k.P.PROVIDER_ID;const cn=k.ax;class q{constructor(O,V,ee=$.Z.app()){var Be;cn(null===(Be=ee.options)||void 0===Be?void 0:Be.apiKey,"invalid-api-key",{appName:ee.name}),this._delegate=new k.R(O,V,ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Y(B){B.INTERNAL.registerComponent(new ce.wA("auth-compat",O=>{const V=O.getProvider("app-compat").getImmediate(),ee=O.getProvider("auth");return new Ce(V,ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.M,FacebookAuthProvider:k.N,GithubAuthProvider:k.T,GoogleAuthProvider:k.Q,OAuthProvider:k.U,SAMLAuthProvider:k.V,PhoneAuthProvider:Bt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:q,TwitterAuthProvider:k.W,Auth:Ce,AuthCredential:k.H,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),B.registerVersion("@firebase/auth-compat","0.3.3")}($.Z)},8766:(wt,Se,F)=>{F.d(Se,{Lj:()=>Oe,X3:()=>st});var u=F(5861);let k,re;const ce=new WeakMap,de=new WeakMap,me=new WeakMap,z=new WeakMap,Z=new WeakMap;let ke={get(le,_e,Ye){if(le instanceof IDBTransaction){if("done"===_e)return de.get(le);if("objectStoreNames"===_e)return le.objectStoreNames||me.get(le);if("store"===_e)return Ye.objectStoreNames[1]?void 0:Ye.objectStore(Ye.objectStoreNames[0])}return fe(le[_e])},set:(le,_e,Ye)=>(le[_e]=Ye,!0),has:(le,_e)=>le instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in le};function ye(le){return"function"==typeof le?function ot(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return re||(re=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(..._e){return le.apply(nt(this),_e),fe(ce.get(this))}:function(..._e){return fe(le.apply(nt(this),_e))}:function(_e,...Ye){const Qe=le.call(nt(this),_e,...Ye);return me.set(Qe,_e.sort?_e.sort():[_e]),fe(Qe)}}(le):(le instanceof IDBTransaction&&function ze(le){if(de.has(le))return;const _e=new Promise((Ye,Qe)=>{const Ut=()=>{le.removeEventListener("complete",it),le.removeEventListener("error",ae),le.removeEventListener("abort",ae)},it=()=>{Ye(),Ut()},ae=()=>{Qe(le.error||new DOMException("AbortError","AbortError")),Ut()};le.addEventListener("complete",it),le.addEventListener("error",ae),le.addEventListener("abort",ae)});de.set(le,_e)}(le),((le,_e)=>_e.some(Ye=>le instanceof Ye))(le,function oe(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,ke):le)}function fe(le){if(le instanceof IDBRequest)return function J(le){const _e=new Promise((Ye,Qe)=>{const Ut=()=>{le.removeEventListener("success",it),le.removeEventListener("error",ae)},it=()=>{Ye(fe(le.result)),Ut()},ae=()=>{Qe(le.error),Ut()};le.addEventListener("success",it),le.addEventListener("error",ae)});return _e.then(Ye=>{Ye instanceof IDBCursor&&ce.set(Ye,le)}).catch(()=>{}),Z.set(_e,le),_e}(le);if(z.has(le))return z.get(le);const _e=ye(le);return _e!==le&&(z.set(le,_e),Z.set(_e,le)),_e}const nt=le=>Z.get(le);function st(le,_e,{blocked:Ye,upgrade:Qe,blocking:Ut,terminated:it}={}){const ae=indexedDB.open(le,_e),ge=fe(ae);return Qe&&ae.addEventListener("upgradeneeded",we=>{Qe(fe(ae.result),we.oldVersion,we.newVersion,fe(ae.transaction))}),Ye&&ae.addEventListener("blocked",()=>Ye()),ge.then(we=>{it&&we.addEventListener("close",()=>it()),Ut&&we.addEventListener("versionchange",()=>Ut())}).catch(()=>{}),ge}function Oe(le,{blocked:_e}={}){const Ye=indexedDB.deleteDatabase(le);return _e&&Ye.addEventListener("blocked",()=>_e()),fe(Ye).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],We=new Map;function ie(le,_e){if(!(le instanceof IDBDatabase)||_e in le||"string"!=typeof _e)return;if(We.get(_e))return We.get(_e);const Ye=_e.replace(/FromIndex$/,""),Qe=_e!==Ye,Ut=De.includes(Ye);if(!(Ye in(Qe?IDBIndex:IDBObjectStore).prototype)||!Ut&&!Re.includes(Ye))return;const it=function(){var ae=(0,u.Z)(function*(ge,...we){const Fe=this.transaction(ge,Ut?"readwrite":"readonly");let Ve=Fe.store;return Qe&&(Ve=Ve.index(we.shift())),(yield Promise.all([Ve[Ye](...we),Ut&&Fe.done]))[0]});return function(we){return ae.apply(this,arguments)}}();return We.set(_e,it),it}!function Ie(le){ke=le(ke)}(le=>({...le,get:(_e,Ye,Qe)=>ie(_e,Ye)||le.get(_e,Ye,Qe),has:(_e,Ye)=>!!ie(_e,Ye)||le.has(_e,Ye)}))},5861:(wt,Se,F)=>{function u(k,re,oe,pe,ce,de,me){try{var z=k[de](me),Z=z.value}catch(J){return void oe(J)}z.done?re(Z):Promise.resolve(Z).then(pe,ce)}function $(k){return function(){var re=this,oe=arguments;return new Promise(function(pe,ce){var de=k.apply(re,oe);function me(Z){u(de,pe,ce,me,z,"next",Z)}function z(Z){u(de,pe,ce,me,z,"throw",Z)}me(void 0)})}}F.d(Se,{Z:()=>$})}},wt=>{wt(wt.s=7786)}]);